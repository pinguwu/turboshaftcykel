(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[48],{"./common/temp/node_modules/lodash/includes.js":function(e,t,s){var a=s("./common/temp/node_modules/lodash/_baseIndexOf.js"),i=s("./common/temp/node_modules/lodash/isArrayLike.js"),o=s("./common/temp/node_modules/lodash/isString.js"),l=s("./common/temp/node_modules/lodash/toInteger.js"),u=s("./common/temp/node_modules/lodash/values.js");var c=Math.max;function r(e,t,s,r){e=i(e)?e:u(e);s=s&&!r?l(s):0;var n=e.length;s<0&&(s=c(n+s,0));return o(e)?s<=n&&e.indexOf(t,s)>-1:!!n&&a(e,t,s)>-1}e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(s("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var o=r(s("./src/main/webapp/universal/src/apps/App/shared/utils/WebsiteSummaryAPI.js"));var l=function(){function e(){(0,n.default)(this,e);this.generateActions("loadSuccess","loadFailure","deleteSuccess","deleteFailure","removeAccessSuccess","removeAccessFailure","filter")}(0,a.default)(e,[{key:"load",value:function e(){var s=this;var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.status,n=t.permission,a=t.shouldUseTimeout,i=void 0!==a&&a;return function(e){e({status:r});return o.default.load({status:r,shouldUseTimeout:i,permission:n}).then(function(e){return s.loadSuccess(e.data.results)},function(e){var t;return s.loadFailure(null===(t=e.data)||void 0===t?void 0:t.error)}).catch(function(e){return console.error(e)})}}},{key:"delete",value:function e(t){var s=this;return o.default.deleteWebsite(t).then(function(){return s.deleteSuccess(t)},function(){return s.deleteFailure(t)}).catch(function(e){return console.error(e)})}},{key:"removeAccess",value:function e(t){var s=this;return o.default.removeWebsiteAccess(t).then(function(){return s.removeAccessSuccess(t)},function(){return s.removeAccessFailure(t)}).catch(function(e){return console.error(e)})}}]);return e}();var u=i.default.createActions(l);t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSummariesStore.js":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(s("./common/temp/node_modules/lodash/includes.js"));var o=r(s("./src/main/webapp/universal/src/shared/actions/BootstrapHelper.js"));var l=r(s("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js"));var u=function(){function e(){(0,n.default)(this,e);this.state={websiteSummaries:[],filteredWebsiteSummaries:[],loading:false,filtered:false};this.bindActions(l.default);this.exportPublicMethods({getWebsiteSummaries:this.getWebsiteSummaries,filter:this.filterByTerm})}(0,a.default)(e,[{key:"onLoadSuccess",value:function e(t){this.setState({websiteSummaries:t,filtered:false})}},{key:"onDelete",value:function e(){this.setState({loading:true})}},{key:"onDeleteSuccess",value:function e(t){var s=this.state.websiteSummaries;this.setState({websiteSummaries:s.filter(function(e){return e.id!==t}),loading:false})}},{key:"onDeleteFailure",value:function e(){this.setState({loading:false})}},{key:"onRemoveAccess",value:function e(){this.setState({loading:true})}},{key:"onRemoveAccessSuccess",value:function e(t){var s=this.state.websiteSummaries;this.setState({websiteSummaries:s.filter(function(e){return e.id!==t}),loading:false})}},{key:"onRemoveAccessFailure",value:function e(){this.setState({loading:false})}},{key:"onFilter",value:function e(t){this.setState({filtered:!(""===t),filteredWebsiteSummaries:this.filterByTerm(t)})}},{key:"getStateFromContext",value:function e(t){var s=t.websiteSummaries;return{websiteSummaries:s}}},{key:"filterByTerm",value:function e(t){var s=this.state.websiteSummaries;var r=t.toLowerCase().trim();var a=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.default)(t.toLowerCase(),r)};var n=s.filter(function(e){var t=e.siteTitle,s=e.identifier,r=e.primaryDomain,n=e.domains;return a(t)||a(s)||a(r)||n.some(function(e){return a(e.name)})});return n}},{key:"getWebsiteSummaries",value:function e(){var t=this.state,s=t.websiteSummaries,r=t.filteredWebsiteSummaries,n=t.filtered;return n?r:s}}]);return e}();var c=(0,o.default)(u,"WebsiteSummariesStore");t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/WebsiteSummaryAPI.js":function(e,t,s){"use strict";var i=s("./common/temp/node_modules/@sqs/network/lib/index.js").default;var o=s("./common/temp/node_modules/lodash/isNumber.js");var l=3e4;var r={load:function e(t){var s=t.status,r=t.shouldUseTimeout,n=t.permission;var a={params:{status:o(s)?s:null,permission:n}};r&&(a.timeout=l);return i.get("/api/website-summaries",a)},deleteWebsite:function e(t){return i.delete("/api/rest/websites/".concat(t))},removeWebsiteAccess:function e(t){return i.delete("/api/rest/websites/".concat(t,"/member-permissions/mine"))}};e.exports=r},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteList.less":function(e,t,s){e.exports={websites:"k1AQjM9TR"}},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=r(s("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(s("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(s("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=r(s("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=r(s("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(n){var a=f();return function e(){var t=(0,m.default)(n),s;if(a){var r=(0,m.default)(this).constructor;s=Reflect.construct(t,arguments,r)}else s=t.apply(this,arguments);return(0,c.default)(this,s)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var n=s("./src/main/webapp/universal/src/shared/i18n/react.ts"),S=n.T;var g=s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var a=s("./common/temp/node_modules/prop-types/index.js");var y=s("./common/temp/node_modules/react/index.js");var A=s("./common/temp/node_modules/lodash/invert.js");var v=s("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var W=s("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var I=s("./src/main/webapp/frontend/packages/enums/WebsiteType.js");var C=s("./src/main/webapp/frontend/packages/enums/DomainTypes.js");var E=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.less");var b=function(e){(0,u.default)(a,e);var n=p(a);function a(){var r;(0,i.default)(this,a);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];r=n.call.apply(n,[this].concat(t));(0,d.default)((0,l.default)(r),"renderAddIndicator",function(){var e=r.props,t=e.title,s=e.onAddIndicatorClick;return y.createElement("div",{className:E.container,onClick:s},y.createElement("div",{className:E.wrapper},y.createElement("div",{className:E.addIndicator},y.createElement("span",null,"+")),y.createElement("div",{className:E.info},y.createElement("div",{className:E.title},t))))});return r}(0,o.default)(a,[{key:"render",value:function e(){var t=this.props,s=t.description,r=t.domains,n=t.isCurrent,a=t.isSiteOwner,i=t.isDeleteEnabled,o=t.label,l=t.siteStatus,u=t.websiteType,c=t.screenshotInfo,m=t.onAddIndicatorClick,d=t.onSelect,p=t.onDelete,f=t.onRemoveAccess,v=t.title,b=t.theme;if(m)return this.renderAddIndicator();var h=A(I)[u]||"";var _=i&&!n&&!a;var j=i&&!n&&a&&!r.some(function(e){var t=e.type;return t===C.SQUARESPACE})&&(l===W.TRIAL||l===W.EXPIRED);var w={};c.url&&!c.errorCode&&(w=Object.assign(w,{backgroundImage:"url(".concat(c.url,")")}));return y.createElement("div",{className:g(E.container,E[b])},y.createElement("div",{className:E.wrapper,onClick:d},y.createElement("div",{className:g(E.preview,E[h.toLowerCase()]),style:w},(c.errorCode||!c.url)&&y.createElement("span",null,y.createElement(S,{project:"src.shared"},"Preview image coming soon"))),y.createElement("div",{className:E.info},y.createElement("div",{className:E.title},v),y.createElement("div",{className:E.description},s),y.createElement("div",{className:E[o.toLowerCase()]},o)),j&&y.createElement("div",{className:E.deleteWrapper},y.createElement("div",{className:E.deleteButton,onClick:p})),_&&y.createElement("div",{className:E.deleteWrapper},y.createElement("div",{className:E.deleteButton,onClick:f}))))}}]);return a}(y.Component);(0,d.default)(b,"propTypes",{description:a.string,label:a.string,title:a.string.isRequired,id:a.string,identifier:a.string,isCurrent:a.bool,isSiteOwner:a.bool,isDeleteEnabled:a.bool,domains:a.array,siteStatus:a.number,websiteType:a.oneOf(Object.values(I)),screenshotInfo:a.shape({url:a.string,errorCode:a.string}),onAddIndicatorClick:a.func,onSelect:a.func,onDelete:a.func,onRemoveAccess:a.func,theme:v.isRequired});(0,d.default)(b,"defaultProps",{domains:[],screenshotInfo:{},theme:"damask"});e.exports=b},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.less":function(e,t,s){e.exports={container:"_1tghC0cR-",wrapper:"_2xW_TyuJ9",deleteWrapper:"_3X32R4FXs",preview:"_85_b8b6JT",midnight:"_2LNa9AfzH",info:"_30jABeAjn",title:"_8Q9OTsnIj",addIndicator:"_3IixVKVmW _1Ck8oB9-C",description:"_11TbodiRW",statusBadge:"_1oM4mNWzm",internal:"_1qAx7vIOb _1GWDQN3g6 _1oM4mNWzm",trial:"_1gett7Y5m _1GWDQN3g6 _1oM4mNWzm",comped:"EgwoSaRkE _1GWDQN3g6 _1oM4mNWzm",active:"_1GPS4roTO _1GWDQN3g6 _1oM4mNWzm",paid:"IKIFs1vhB _1GWDQN3g6 _1oM4mNWzm",domain:"_3_KJ4ksGa _1GWDQN3g6 _1oM4mNWzm",expired:"_2baFyueHj _1BFyjziza _1GWDQN3g6 _1oM4mNWzm",removed:"_3_u_a5Mhi _1BFyjziza _1GWDQN3g6 _1oM4mNWzm",pastdue:"_1qw253OCA _1BFyjziza _1GWDQN3g6 _1oM4mNWzm",deleteButton:"ZXRPyLbc2 _3iHX5Q9Ip"}},"./src/main/webapp/universal/src/shared/components/WebsiteList/index.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var _=r(s("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var j=r(s("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var i=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r(s("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(s("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=r(s("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(s("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(s("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(n){var a=p();return function e(){var t=(0,c.default)(n),s;if(a){var r=(0,c.default)(this).constructor;s=Reflect.construct(t,arguments,r)}else s=t.apply(this,arguments);return(0,u.default)(this,s)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var n=s("./common/temp/node_modules/prop-types/index.js");var w=s("./common/temp/node_modules/react/index.js");var f=s("./common/temp/node_modules/@sqs/transitions/lib/index.js"),S=f.CSSTransitionGroup,g=f.CSSTransitionGroupPresets;var v=s("./src/main/webapp/universal/src/shared/i18n/index.ts"),b=v.pluralize;var y=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.jsx");var A=s("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var h=s("./src/main/webapp/universal/src/shared/constants/StatusGroups.js");var W=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteList.less");var I=s("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var C=s("./src/main/webapp/universal/src/shared/utils/UrlUtils.js"),E=C.removeHttpAndWwwFromUrl;var k=function(e){(0,l.default)(n,e);var r=d(n);function n(){var a;(0,i.default)(this,n);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];a=r.call.apply(r,[this].concat(t));(0,m.default)((0,o.default)(a),"generateLabel",function(t){return Object.keys(h).find(function(e){return h[e].indexOf(t)>=0})});(0,m.default)((0,o.default)(a),"generateDescription",function(e,t,s,r){var n=a.props.appDomain;if(s===A.ACTIVE_PARKING_PAGE)return b({one:"{%n} Domain",other:"{%n} Domains"},r.length);if(t)return E(t);if(e)return"".concat(e,".").concat(n);return""});return a}(0,a.default)(n,[{key:"render",value:function e(){var u=this;var t=this.props,s=t.items,c=t.appDomain,m=t.currentWebsiteIdentifier,d=t.memberAccountId,r=t.addIndicator,p=t.theme,f=t.deleteEnabled,v=t.onItemSelect,b=t.onItemDelete,h=t.onItemRemoveAccess;return w.createElement(S,(0,_.default)({className:W.websites,wrapChildWithTag:false},g.Reorderable),s.map(function(s){var t=s.identifier,e=s.siteTitle,r=s.ownerMemberAccountId,n=s.siteStatus,a=(0,j.default)(s,["identifier","siteTitle","ownerMemberAccountId","siteStatus"]);var i=t===m;var o=d===r;var l=n===A.ACTIVE_PARKING_PAGE?E(a.url):e;return w.createElement(y,(0,_.default)({title:l,description:u.generateDescription(t,a.url,n,a.domains),label:u.generateLabel(n),key:t,identifier:t,siteStatus:n,theme:p,isCurrent:i,isSiteOwner:o,isDeleteEnabled:f,onSelect:function e(){v(s,t===m)},onDelete:function e(t){t.preventDefault();t.stopPropagation();b(s)},onRemoveAccess:function e(t){t.preventDefault();t.stopPropagation();h(s)},appDomain:c},a))}).concat([r&&w.createElement(y,{key:"addIndicator",identifier:"addIndicator",title:r.label,currentWebsiteIdentifier:m,onAddIndicatorClick:r.onClick})]))}}]);return n}(w.Component);(0,m.default)(k,"propTypes",{memberAccountId:n.string,items:n.array,currentWebsiteIdentifier:n.string.isRequired,addIndicator:n.shape({label:n.string,onClick:n.func}),deleteEnabled:n.bool,onItemSelect:n.func,onItemDelete:n.func,onItemRemoveAccess:n.func,appDomain:n.string.isRequired,theme:I.isRequired});(0,m.default)(k,"defaultProps",{theme:"damask"});e.exports=k},"./src/main/webapp/universal/src/shared/constants/StatusGroups.js":function(e,t,s){"use strict";var r=s("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var n={active:[r.PAID,r.ACTIVE,r.V5_LINKED,r.PASTDUE,r.COMPED,r.INTERNAL],trial:[r.TRIAL],expired:[r.EXPIRED],removed:[r.REMOVED],domain:[r.ACTIVE_PARKING_PAGE]};e.exports=n},"./src/main/webapp/universal/src/shared/utils/LogoutAPI.js":function(e,t,s){"use strict";var r="/api/auth/Logout";var n=s("./common/temp/node_modules/@sqs/network/lib/index.js").default;var a={logout:function e(){return n.post(r)}};e.exports=a}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/48-9027d5a64c78d1773ddcc-min.en-US.js.map