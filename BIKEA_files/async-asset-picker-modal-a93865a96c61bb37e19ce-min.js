(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["async-asset-picker-modal"],{"./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/lib/i18n/index.js":function(e,t,a){"use strict";a.r(t);a.d(t,"getI18nInstance",function(){return c});a.d(t,"setI18nInstance",function(){return l});var r=a("./common/temp/node_modules/@sqs/i18n-ui/lib/library-helpers.js");var n=a.n(r);var s="assetManagement.assetPicker";function i(e){return a("./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$")("./".concat(s,".").concat(e,".yaml"))}var o=Object(r["setupLibrary"])(s,i),c=o.getI18nInstance,l=o.setI18nInstance},"./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/lib/index.js":function(e,t,a){"use strict";a.r(t);a.d(t,"AssetPicker",function(){return Hr});a.d(t,"MyLibraryPanel",function(){return si});a.d(t,"UnsplashPanel",function(){return Ci});a.d(t,"GettyPanel",function(){return pc});var r={};a.r(r);a.d(r,"withSelectedAssetsProvider",function(){return ce});a.d(r,"withSelectedAssetsConsumer",function(){return le});var n={};a.r(n);a.d(n,"EventTrackingContext",function(){return Se});a.d(n,"useEventTrackingContext",function(){return _e});a.d(n,"withEventTrackingConsumer",function(){return Re});var s={};a.r(s);a.d(s,"withExpandedAssetConsumer",function(){return ke});a.d(s,"withExpandedAssetProvider",function(){return Ie});var i=a("./common/temp/node_modules/core-js/modules/es.object.to-string.js");var o=a("./common/temp/node_modules/core-js/modules/es.object.values.js");var c=a("./common/temp/node_modules/core-js/modules/es.reflect.construct.js");var l=a("./common/temp/node_modules/core-js/modules/es.regexp.to-string.js");var u=a("./common/temp/node_modules/@babel/runtime/helpers/extends.js");var P=a.n(u);var d=a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js");var m=a.n(d);var p=a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js");var v=a.n(p);var f=a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js");var b=a.n(f);var h=a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");var E=a.n(h);var g=a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js");var y=a.n(g);var A=a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js");var C=a.n(A);var I=a("./common/temp/node_modules/react/index.js");var T=a.n(I);var S=a("./common/temp/node_modules/prop-types/index.js");var _=a.n(S);var R=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/components/Breakpoint/index.js");var j=a("./common/temp/node_modules/core-js/modules/es.array.concat.js");var k=a("./common/temp/node_modules/core-js/modules/es.array.find.js");var O=a("./common/temp/node_modules/core-js/modules/es.array.map.js");var w=a("./common/temp/node_modules/@babel/runtime/helpers/objectSpread.js");var x=a.n(w);var L=a("./common/temp/node_modules/@babel/runtime/helpers/toConsumableArray.js");var D=a.n(L);var q=a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js");var M=a.n(q);var N=a("./common/temp/node_modules/core-js/modules/es.array.from.js");var F=a("./common/temp/node_modules/core-js/modules/es.string.iterator.js");var U=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Box/index.js");var V=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Flex/index.js");var B=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Button/index.js");var z=a("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/ThemeContext.js");var G=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/functions/breakpoints.js");var W=a("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/breakpoints.js");var H=6;var K=3;var Y={_:H,"mobile-*":K};var Q=function e(t){var a=t.addButtonLabel,r=t.onChooseAssetIds,n=t.selectedAssetIds;var s=Object(z["b"])(),i=s.space;var o=Object(G["a"])(W["a"]),c=o.platform;var l="mobile"===c?K:H;return!!n.size&&T.a.createElement(U["a"],{bottom:"0",left:"0",position:"absolute",zIndex:1,sx:{width:"calc(100% - ".concat(i[l],")")}},T.a.createElement(V["a"],{py:2,pl:l,justifyContent:"flex-end",background:"white"},T.a.createElement(B["a"].Primary,{size:1,onClick:function e(){return r(Array.from(n))}},a)))};Q.propTypes={addButtonLabel:_.a.oneOfType([_.a.node,_.a.element,_.a.string]).isRequired,onChooseAssetIds:_.a.func.isRequired,selectedAssetIds:_.a.object.isRequired};var X=Q;var Z=a("./common/temp/node_modules/core-js/modules/es.array.iterator.js");var $=a("./common/temp/node_modules/core-js/modules/es.set.js");var J=a("./common/temp/node_modules/core-js/modules/web.dom-collections.iterator.js");var ee=a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js");var te=a.n(ee);var ae=a("./common/temp/node_modules/core-js/modules/es.function.name.js");var re=function(e){return e.displayName||e.name||"Component"};var ne=a("./common/temp/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");var se=a.n(ne);var ie=T.a.createContext(new Set);var oe=T.a.createContext(null);var ce=function e(l){var t=function e(t){var r=t.selectLimit;var a=Object(I["useState"])(new Set),n=te()(a,2),s=n[0],i=n[1];var o=function e(t){if(s.has(t))s.delete(t);else{if(r&&r<=s.size){var a=s.values().next().value;s.delete(a)}s.add(t)}i(new Set(s))};var c=function e(){return i(new Set)};e.propTypes={selectLimit:_.a.number.isRequired};return T.a.createElement(ie.Provider,{value:s},T.a.createElement(oe.Provider,{value:{handleAssetSelectRequest:o,handleClearSelectedAssetsRequest:c}},T.a.createElement(l,t)))};t.displayName="withSelectedAssetsProvider(".concat(re(l));return se()(t,l)};var le=function e(s){var t=function e(n){return T.a.createElement(ie.Consumer,null,function(r){return T.a.createElement(oe.Consumer,null,function(e){var t=e.handleAssetSelectRequest,a=e.handleClearSelectedAssetsRequest;return T.a.createElement(s,P()({},n,{selectedAssetIds:r,onAssetSelected:t,clearSelectedAssets:a}))})})};t.displayName="withSelectedAssetsConsumer(".concat(re(s));return se()(t,s)};var ue=le(X);var de=T.a.forwardRef(function(e,t){return T.a.createElement(V["a"],P()({flexDirection:"column",flex:"1",height:"100%"},e,{ref:t}))});var me=function(e){var t=e.children;return T.a.createElement(de,{justifyContent:"center",alignItems:"center",pb:"99px"},t)};var pe=a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js");var ve=a.n(pe);var fe=function e(t,a){var r=a.width,n=a.height;var s=r/n;var i=t.width/t.height;if(i>s)return{width:r,height:r/i};if(s>i)return{width:n*i,height:n};return{width:r,height:n}};var be=function e(t){var a=t.src,r=t.imageDimensions,n=t.maxDimensions,s=ve()(t,["src","imageDimensions","maxDimensions"]);var i=fe(r,n);var o=Object(z["b"])(),c=o.colors;return T.a.createElement("div",{style:{height:"".concat(n.height,"px"),background:c.gray["900"]}},T.a.createElement("img",{src:a,"data-pin-no-hover":"true",alt:"",style:x()({display:"block",border:0,margin:"0 auto",paddingTop:(n.height-i.height)/2},i)}))};be.propTypes={src:_.a.string.isRequired,imageDimensions:_.a.object.isRequired,maxDimensions:_.a.object.isRequired};var he=be;var Ee=a("./common/temp/node_modules/core-js/modules/es.object.keys.js");var ge=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Text/index.js");var ye=function e(t){var a=t.labels,r=t.value;return T.a.createElement(U["a"],{p:4,sx:{display:"grid",gridTemplateColumns:"min-content auto",gridTemplateRows:"auto"}},Object.keys(a).map(function(e){return T.a.createElement(T.a.Fragment,{key:e},T.a.createElement(ge["a"].Body,{color:"gray.400",mb:0,mr:6,sx:{whiteSpace:"nowrap"}},a[e]),T.a.createElement(ge["a"].Body,{color:"gray.400",mb:0,sx:{wordBreak:"break-word"}},r[e]))}))};ye.propTypes={labels:_.a.object.isRequired,value:_.a.object.isRequired};var Ae=ye;var Se=Object(I["createContext"])({});var _e=function e(){return Object(I["useContext"])(Se)};var Re=function e(a){var t=function e(t){return T.a.createElement(Se.Consumer,null,function(e){return T.a.createElement(a,P()({},t,{tracking:e}))})};t.displayName="withEventTrackingConsumer(".concat(re(a));return se()(t,a)};var Ce=T.a.createContext(null);var je=T.a.createContext(null);var ke=function e(r){var t=function e(a){return T.a.createElement(Ce.Consumer,null,function(t){return T.a.createElement(je.Consumer,null,function(e){return T.a.createElement(r,P()({},a,{expandedAsset:t,setExpandedAsset:e}))})})};t.displayName="withExpandedAssetConsumer(".concat(re(r));return se()(t,r)};var Pe=function e(o){var t=function e(r){var t=Object(I["useState"])(null),a=te()(t,2),n=a[0],s=a[1];var i=function e(t){s(t);var a=r.tracking;t&&a&&a.trackOpenAssetOverflow&&a.trackOpenAssetOverflow({expandedAsset:t})};return T.a.createElement(Ce.Provider,{value:n},T.a.createElement(je.Provider,{value:i},T.a.createElement(o,r)))};t.displayName="withExpandedAssetProvider(".concat(re(o));return se()(t,o)};var Ie=function e(t){return Re(Pe(t))};var Te=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var Oe=function e(t){var a=t.constrainTo,r=t.Contents,n=t.expandedAsset,s=t.setExpandedAsset,i=ve()(t,["constrainTo","Contents","expandedAsset","setExpandedAsset"]);var o=!!n;var c=function e(){s(null)};var l=Object(z["b"])(),u=l.space;return T.a.createElement(Te["Modal"].Transition,null,o&&T.a.createElement(Te["Modal"],{onRequestClose:c},T.a.createElement(Te["Modal"].Overlay,null),T.a.createElement(Te["Modal"].Position,{position:"top-right",constrainTo:a,constrainOffset:{x:-parseInt(u[6],10),y:parseInt(u[6],10)}},T.a.createElement(Te["Modal"].Dialog,{width:"sizes.750",minHeight:565,"data-test":"expanded-asset-modal",className:"image-picker-overlay escmanager-ignore"},T.a.createElement(r,P()({},i,{asset:n,onRequestClose:c}))))))};Oe.propTypes={constrainTo:_.a.instanceOf(HTMLElement),Contents:_.a.func.isRequired,expandedAsset:_.a.object,setExpandedAsset:_.a.func.isRequired};var we=ke(Oe);var xe=a("./common/temp/node_modules/core-js/modules/es.array.for-each.js");var Le=a("./common/temp/node_modules/core-js/modules/es.map.js");var De=a("./common/temp/node_modules/core-js/modules/web.dom-collections.for-each.js");var qe=a("./common/temp/node_modules/core-js/modules/es.symbol.js");var Me=a("./common/temp/node_modules/core-js/modules/es.symbol.description.js");var Ne=a("./common/temp/node_modules/core-js/modules/es.symbol.iterator.js");var Fe=a("./common/temp/node_modules/core-js/modules/es.array.slice.js");var Ue=a("./common/temp/node_modules/@babel/runtime/regenerator/index.js");var Ve=a.n(Ue);var Be=a("./common/temp/node_modules/regenerator-runtime/runtime.js");var ze=Ve.a.mark(Je);function Ge(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=We(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0;var n=function e(){};return{s:n,n:function e(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,o;return{s:function e(){a=t[Symbol.iterator]()},n:function e(){var t=a.next();s=t.done;return t},e:function e(t){i=true;o=t},f:function e(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function We(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return He(e,t)}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Ke=2;var Ye=6;var Qe=4;var Xe=3;var Ze=function e(t){var a=t.width,r=t.height;return a/r};var $e=function e(t,a){return(t>=Qe||a===Ye)&&a>=Ke};function Je(a){var r,n,s,i,o,c,l,u;return Ve.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=new Map;n=0;s=Ge(a.entries());t.prev=3;s.s();case 5:if((i=s.n()).done){t.next=17;break}o=te()(i.value,2),c=o[0],l=o[1];u=Ze(l);n+=u;u>Xe?r.set(c,Xe):r.set(c,u);if(!$e(n,r.size)){t.next=15;break}t.next=13;return r;case 13:r.clear();n=0;case 15:t.next=5;break;case 17:t.next=22;break;case 19:t.prev=19;t.t0=t["catch"](3);s.e(t.t0);case 22:t.prev=22;s.f();return t.finish(22);case 25:n>0&&n<Qe&&r.set({last:true},Qe-n);t.next=28;return r;case 28:case"end":return t.stop()}},ze,null,[[3,19,22,25]])}var et=Je;var tt=200;var at=6;var rt=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Touchable/index.js");var nt=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Ellipses.js");var st=function e(t){var a=t.children,r=t.filename,n=t.sx;var s=Object(I["useState"])(null),i=te()(s,2),o=i[0],c=i[1];var l=Object(I["useState"])(false),u=te()(l,2),d=u[0],m=u[1];var p=function e(){m(false)};var v=function e(){m(true)};return T.a.createElement(V["a"],{justifyContent:"space-between",sx:n},T.a.createElement(V["a"],{alignContent:"center",overflow:"hidden",pt:1,pl:1},T.a.createElement(ge["a"].Body,{ref:c,onMouseOver:v,onMouseOut:p,onFocus:v,onBlur:p,as:"span",overflow:"hidden",fontSize:"12px",sx:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},r),d&&T.a.createElement(R["a"].Renderer,{render:{default:function e(){return T.a.createElement(Te["Tooltip"],{anchor:o,isOpen:d},r)},"mobile-0":function e(){return null}}})),a)};st.propTypes={filename:_.a.string,children:_.a.element.isRequired,sx:_.a.shape({})};var it=st;var ot=function e(t){var a=t.filename,r=t.imageSrc,n=t.isSelected,s=t.onAssetSelected,i=t.onExpandAssetDetails,o=t.isButtonAlwaysVisible,c=void 0!==o&&o,l=t.sx,u=void 0===l?{}:l,d=ve()(t,["filename","imageSrc","isSelected","onAssetSelected","onExpandAssetDetails","isButtonAlwaysVisible","sx"]);var m=Object(I["useState"])(false),p=te()(m,2),v=p[0],f=p[1];var b=Object(z["b"])(),h=b.space,E=b.time;var g={position:"absolute",top:"100%",width:"100%",height:h[at]};var y=function e(){!v&&f(true)};var A=function e(){v&&f(false)};return T.a.createElement(U["a"],P()({className:"asset-item","data-test":"asset-item",onClick:function e(t){t.stopPropagation();s()},onMouseOver:y,onFocus:y,onMouseOut:A,onBlur:A,isActive:n},d,{mb:at,sx:x()({transition:"all 0.5s",cursor:"pointer",position:"relative"},u)}),T.a.createElement(V["a"],{top:1,left:1,position:"absolute",zIndex:1,sx:{visibility:c||n||v?"visible":"hidden"},className:"checkbox"},T.a.createElement(Te["Checkbox"],{checked:n,className:"checkbox-input",sx:{margin:"0px",width:"sizes.175",height:"sizes.175",backgroundColor:"white",opacity:n?1:.9,"&:hover":{backgroundColor:"white",opacity:1}}})),T.a.createElement(U["a"],{className:"image-overlay",position:"absolute",backgroundColor:"black",size:"100%",opacity:n?.4:v?.1:0,sx:{transition:"opacity ".concat(E[200])}}),T.a.createElement(Te["Image"],{width:"100%",height:"100%",src:r,"data-pin-no-hover":"true",sx:{objectFit:"cover"}}),T.a.createElement(rt["a"],{top:1,right:1,zIndex:1,position:"absolute",onClick:function e(t){t.stopPropagation();i()},className:"button","data-test":"expand-details",sx:{visibility:c||v?"visible":"hidden"}},T.a.createElement(V["a"],{size:"sizes.175",justifyContent:"center",alignItems:"center",background:"white",opacity:"0.9",sx:{"&:hover":{opacity:1}}},T.a.createElement(nt["a"],null))),T.a.createElement(it,{filename:a,sx:g},T.a.createElement(V["a"],{pr:"2px",position:"relative",className:"details-link",sx:{visibility:"hidden"}})))};ot.propTypes={filename:_.a.string,imageSrc:_.a.string.isRequired,createdAt:_.a.string.isRequired,fileExtension:_.a.string.isRequired,isSelected:_.a.bool.isRequired,onAssetSelected:_.a.func.isRequired,onExpandAssetDetails:_.a.func.isRequired,isButtonAlwaysVisible:_.a.bool.isRequired,sx:_.a.shape({})};var ct=ot;var lt=function e(t){var a=t.imageSrc,r=t.itemDimensions,n=t.onExpandAssetDetails,s=t.sx,i=void 0===s?{}:s,o=ve()(t,["imageSrc","itemDimensions","onExpandAssetDetails","sx"]);var c=Object(I["useState"])(false),l=te()(c,2),u=l[0],d=l[1];var m=Object(z["b"])(),p=m.time;return T.a.createElement(U["a"],P()({className:"asset-item","data-test":"asset-item"},o,{sx:x()({cursor:"pointer",position:"relative"},i),onClick:function e(t){t.stopPropagation();n()},onMouseOver:function e(){!u&&d(true)},onMouseOut:function e(){u&&d(false)}}),T.a.createElement(U["a"],{className:"image-overlay",position:"absolute",backgroundColor:"black",size:"100%",opacity:u?.1:0,sx:{transition:"opacity ".concat(p[50])}}),T.a.createElement(Te["Image"],{width:"100%",height:"100%",src:a,"data-pin-no-hover":"true",sx:{objectFit:"cover"}}))};lt.propTypes={imageSrc:_.a.string.isRequired,onExpandAssetDetails:_.a.func.isRequired,sx:_.a.shape({})};var ut=lt;var dt={dimensionsList:_.a.instanceOf(Map).isRequired,ItemComponent:_.a.oneOf([ct,ut]).isRequired,onAssetSelected:_.a.func.isRequired,selectedAssetIds:_.a.instanceOf(Set).isRequired,setExpandedAsset:_.a.func.isRequired};function mt(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=pt(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0;var n=function e(){};return{s:n,n:function e(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,o;return{s:function e(){a=t[Symbol.iterator]()},n:function e(){var t=a.next();s=t.done;return t},e:function e(t){i=true;o=t},f:function e(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function pt(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vt(e,t)}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var ft=function e(t){var a=t.dimensionsList,s=t.ItemComponent,i=t.onAssetSelected,o=t.selectedAssetIds,c=t.setExpandedAsset;var l=2;var r=et(a);var u=[];var n=mt(r),d;try{var m=function e(){var t=d.value;var r=[];var n="";t.forEach(function(e,t){var a=t.assetId;n+=a+"-";t.last?r.push(T.a.createElement(V["a"],{key:"last-column",flex:e})):r.push(T.a.createElement(V["a"],{key:a,flex:e,mr:l,sx:{"&:last-child":{marginRight:0}}},T.a.createElement(s,P()({isSelected:o&&o.has(a),onAssetSelected:function e(){i(a)},onExpandAssetDetails:function e(){return c(t)},height:"".concat(tt,"px")},t))))});r.length&&u.push(T.a.createElement(V["a"],{key:n,flexDirection:"row",alignItems:"flex-start",alignContent:"flex-start",justifyContent:"space-between",mb:4},r))};for(n.s();!(d=n.n()).done;)m()}catch(e){n.e(e)}finally{n.f()}return u};ft.propTypes=x()({},dt);var bt=ft;var ht=Ve.a.mark(St);function Et(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=gt(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0;var n=function e(){};return{s:n,n:function e(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,o;return{s:function e(){a=t[Symbol.iterator]()},n:function e(){var t=a.next();s=t.done;return t},e:function e(t){i=true;o=t},f:function e(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function gt(e,t){if(!e)return;if("string"===typeof e)return yt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yt(e,t)}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var At=function e(t){var a=t.width,r=t.height;return r/a};function St(a){var r,n,s,i,o,c,l,u,d,m;return Ve.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=new Set;n=new Set;s=0;i=0;o=Et(a.entries());t.prev=5;o.s();case 7:if((c=o.n()).done){t.next=18;break}l=te()(c.value,2),u=l[0],d=l[1];m=At(d);if(i>=s){r.add(u);s+=m}else{n.add(u);i+=m}if(!(r.size+n.size===10)){t.next=16;break}t.next=14;return{left:r,right:n};case 14:r.clear();n.clear();case 16:t.next=7;break;case 18:t.next=23;break;case 20:t.prev=20;t.t0=t["catch"](5);o.e(t.t0);case 23:t.prev=23;o.f();return t.finish(23);case 26:t.next=28;return{left:r,right:n};case 28:case"end":return t.stop()}},ht,null,[[5,20,23,26]])}var _t=St;function Rt(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=Ct(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0;var n=function e(){};return{s:n,n:function e(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,o;return{s:function e(){a=t[Symbol.iterator]()},n:function e(){var t=a.next();s=t.done;return t},e:function e(t){i=true;o=t},f:function e(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function Ct(e,t){if(!e)return;if("string"===typeof e)return jt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jt(e,t)}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var kt=function e(t){var a=t.dimensionsList,r=t.ItemComponent,n=t.onAssetSelected,s=t.selectedAssetIds,i=t.setExpandedAsset;var o=function e(t){return t.map(function(t){return T.a.createElement(V["a"],{mb:4},T.a.createElement(r,P()({key:t.assetId,isSelected:s&&s.has(t.assetId),onAssetSelected:function e(){n(t.assetId)},onExpandAssetDetails:function e(){return i(t)},isButtonAlwaysVisible:true},t)))})};var c=[];var l=[];var u=_t(a);var d=Rt(u),m;try{for(d.s();!(m=d.n()).done;){var p=m.value;var v=p.left,f=p.right;c.push.apply(c,D()(v));l.push.apply(l,D()(f))}}catch(e){d.e(e)}finally{d.f()}return T.a.createElement(V["a"],null,T.a.createElement(V["a"],{flexDirection:"column",flex:1},o(c)),T.a.createElement(U["a"],{width:0,ml:2}),T.a.createElement(V["a"],{flexDirection:"column",flex:1},o(l)))};kt.propTypes=x()({},dt);var Pt=kt;var It=function e(t){var a=t.assetLibrary,r=ve()(t,["assetLibrary"]);var n=new Map;a.forEach(function(e){n.set(e,e.dimensions)});return T.a.createElement(R["a"].Renderer,P()({},r,{dimensionsList:n,render:{default:bt,"desktop-0":bt,"mobile-0":Pt}}))};It.propTypes={assetLibrary:_.a.arrayOf(_.a.shape({dimensions:_.a.shape({width:_.a.number.isRequired,height:_.a.number.isRequired}).isRequired}).isRequired).isRequired};var Tt=le(ke(It));var Ot=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/components/withFocusManagedDivider/index.js");var wt=Object(Ot["a"])(Te["Cell"],Te["Divider"]);var xt=function e(t){return T.a.createElement(wt,P()({as:"label"},t))};var Lt=function e(a){return T.a.createElement(R["a"].Renderer,{render:{default:xt,"mobile-0":Te["Cell"]},position:"relative",pt:"4px",pb:"4px",pl:"4px",body:T.a.createElement(rt["a"],P()({interaction:function e(t){return T.a.createElement(rt["a"].Solid,P()({sx:{size:a.hoverSize,borderRadius:"circle",backgroundColor:a.focused?"gray.800":"transparent","&:hover":{backgroundColor:"gray.800"}}},t))}},a))})};Lt.propTypes={focused:_.a.bool,hoverSize:_.a.string};Lt.defaultProps={hoverSize:"sizes.200"};var Dt=Lt;var qt={LOADING:"LOADING",LOADED_EMPTY:"LOADED_EMPTY",LOADED:"LOADED",LOAD_ERROR:"LOAD_ERROR"};var Mt=function e(t){var a=t.NoAssetsView,r=t.LoadingView,n=t.ErrorView,s=t.LoadedView,i=ve()(t,["NoAssetsView","LoadingView","ErrorView","LoadedView"]);var o=i.viewState;if(o===qt.LOADED_EMPTY)return T.a.createElement(a,null);if(o===qt.LOADING)return T.a.createElement(r,null);if(o===qt.LOAD_ERROR)return T.a.createElement(n,null);if(o===qt.LOADED)return T.a.createElement(s,i);console.error("Invalid ViewState configured");return T.a.createElement(a,null)};Mt.propTypes={NoAssetsView:_.a.func.isRequired,LoadedView:_.a.func,LoadingView:_.a.func.isRequired,ErrorView:_.a.func.isRequired,viewState:_.a.oneOf(Object.values(qt))};Mt.defaultProps={LoadedView:function e(t){return T.a.createElement(Tt,P()({},t,{ItemComponent:ut}))}};var Nt=Mt;var Ft=a("./common/temp/node_modules/core-js/modules/es.array.filter.js");var Ut=a("./common/temp/node_modules/core-js/modules/es.array.reduce.js");function Vt(e){var t=e.scrollHeight,a=e.scrollTop,r=e.offsetHeight;var n=t-(r+a);return n<r/2}var Bt=a("./common/temp/node_modules/use-debounce/esm/useDebouncedCallback.js");var zt=function e(t){var a=this;m()(this,e);C()(this,"onScroll",function(e){if(!a.nearBottom&&e.target.scrollTop>0&&Vt(e.target)){a.onNearBottom();a.nearBottom=true}else a.nearBottom&&!Vt(e.target)&&(a.nearBottom=false)});C()(this,"whenNearBottom",function(e){a.onNearBottom=e});this.onNearBottom=t||function(){return console.warn("No onNearBottom handler specified")};this.nearBottom=false};var Gt={childList:true,subtree:true};var Wt=function e(t){return"DIV"===t.tagName&&t.classList.contains("asset-item")};var Ht=function e(t){return Array.prototype.filter.call(t,Wt).length};var Kt=function(t,e){var a=Object(I["useState"])(function(){return new zt(e)}),r=te()(a,1),n=r[0];var s=Object(Bt["a"])(n.onScroll,25,{leading:true,trailing:true}),i=s.callback;n.whenNearBottom(e);Object(I["useEffect"])(function(){var a=t.current;var e=null;if(a){a.addEventListener("scroll",i);e=new MutationObserver(function(e){var t=e.reduce(function(e,t){return e+Ht(t.removedNodes)},0);t>0&&(a.scrollTop=0)});e.observe(a,Gt)}return function(){return a&&a.removeEventListener("scroll",i)&&e.disconnect()}},[t,i])};var Yt=function(e){if(!e||"number"!==typeof e.offsetWidth||"number"!==typeof e.clientWidth){console.error("Invalid Node passed to getScrollbarWidth",e);return 0}return e.offsetWidth-e.clientWidth};var Qt=function(e){var t=Object(I["useState"])(0),a=te()(t,2),r=a[0],n=a[1];Object(I["useEffect"])(function(){n(Yt(e.current))});return r};var Xt=function e(t){var a=t.clearSelectedAssets,r=t.onNearBottom,n=ve()(t,["clearSelectedAssets","onNearBottom"]);var s=Object(I["useRef"])(null);var i=Object(z["b"])(),o=i.space;var c=Object(G["a"])(W["a"]),l=c.platform;var u=Qt(s);var d="mobile"===l?K:H;var m={overflowY:"auto",overflowX:"hidden",pl:d,pr:"calc(".concat(o[d]," - ").concat(u,"px)"),width:"100%"};Kt(s,r);return T.a.createElement(de,P()({ref:s,onClick:a},m),T.a.createElement(Nt,n))};Xt.propTypes={clearSelectedAssets:_.a.func,onNearBottom:_.a.func};var Zt=le(Xt);var $t=function e(t){var a=t.ExpandedAssetContents,r=t.children,n=t.containerNode,s=t.id,i=t.isSelected,o=t.onRegister,c=t.title;Object(I["useEffect"])(function(){o({id:s,title:c})},[s,c,o]);return i(s)&&T.a.createElement(T.a.Fragment,null,r,T.a.createElement(we,{Contents:a,constrainTo:n}))};$t.propTypes={containerNode:_.a.instanceOf(HTMLElement),ExpandedAssetContents:_.a.func,id:_.a.string.isRequired,isSelected:_.a.func.isRequired,onRegister:_.a.func.isRequired,title:_.a.string.isRequired};var Jt=Ie(ce($t));var ea=function(e){return T.a.createElement(U["a"],null,T.a.createElement(U["a"],P()({},e,{backgroundColor:"gray.800",css:{transition:"all 0.3s cubic-bezier(0.32, 0.94, 0.60, 1.00)"},height:"sizes.150",my:"2",width:"sizes.25"})),T.a.createElement(Te["Divider"],null))};var ta=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/Search/index.js");var aa=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/functions/Keyboard/index.js");var ra=Object(Ot["a"])(Te["Cell"],Te["Divider"]);var na=function e(t){var a=t.placeholder,r=t.setSearchQuery,n=t.initialSearchValue;var s=T.a.useState(""),i=te()(s,2),o=i[0],c=i[1];var l=function e(t){r(t)};T.a.useEffect(function(){!o.length&&n.length&&l("")},[o]);return T.a.createElement(U["a"],{sx:{flexGrow:"1"}},T.a.createElement(ra,{p:0,body:T.a.createElement(ta["a"].Input,{inputValue:o,onChange:c,onKeyDown:function e(t){aa["a"].isEnter(t)&&l(o)},placeholder:a})}))};na.defaultProps={initialSearchValue:""};na.propTypes={placeholder:_.a.string,setSearchQuery:_.a.func.isRequired,initialSearchValue:_.a.string};var sa=na;var ia=function e(t){var a=t.children,r=t.initialSearchValue,n=t.placeholder,s=t.renderAttribution,i=t.setSearchQuery;return T.a.createElement(U["a"],{width:"100%",mb:4,px:Y},T.a.createElement(V["a"],{width:"100%"},T.a.createElement(sa,{placeholder:n,setSearchQuery:i,initialSearchValue:r}),a),s&&T.a.createElement(ge["a"].Label,{pt:1,textAlign:"right"},s()))};ia.propTypes={initialSearchValue:_.a.string.isRequired,placeholder:_.a.string.isRequired,renderAttribution:_.a.func,setSearchQuery:_.a.func.isRequired};var oa=ia;var ca=function e(t){var a=t.children,r=t.initialSearchValue,n=t.placeholder,s=t.renderAttribution,i=t.setSearchQuery;return T.a.createElement(U["a"],{width:"100%",mb:4,px:Y},T.a.createElement(V["a"],null,T.a.createElement(sa,{placeholder:n,setSearchQuery:i,initialSearchValue:r})),s&&T.a.createElement(ge["a"].Label,{pt:1,textAlign:"right"},s()),T.a.createElement(V["a"],null,a))};ca.propTypes={initialSearchValue:_.a.string.isRequired,placeholder:_.a.string.isRequired,renderAttribution:_.a.func,setSearchQuery:_.a.func.isRequired};var la=ca;var ua=function e(t){var a=t.initialSearchValue,r=t.placeholder,n=t.renderAttribution,s=t.setSearchQuery,i=ve()(t,["initialSearchValue","placeholder","renderAttribution","setSearchQuery"]);return T.a.createElement(R["a"].Renderer,P()({},i,{render:{default:oa,"mobile-0":la},placeholder:r,setSearchQuery:s,initialSearchValue:a,renderAttribution:n}))};ua.propTypes={initialSearchValue:_.a.string.isRequired,placeholder:_.a.string.isRequired,renderAttribution:_.a.func,setSearchQuery:_.a.func.isRequired};var da=ua;var ma=a("./common/temp/node_modules/core-js/modules/es.array.join.js");var pa=function(t){return Object.keys(t).filter(function(e){return"undefined"!==typeof t[e]}).map(function(e){return e+"="+t[e]}).join("&")};var va=a("./common/temp/node_modules/@sqs/i18n-ui/lib/react/index.js");var fa=a.n(va);var ba=a("./common/temp/node_modules/@sqs/i18n-ui/lib/icu-message-formatter/index.js");var ha=a.n(ba);var Ea=a("./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/lib/i18n/index.js");var ga=Object(Ea["getI18nInstance"])();var ya=new fa.a(ga);var Aa=new ha.a(ga);var Sa=ya.T,_a=ya.Plural,Ra=ya.FormattedCurrency,Ca=ya.FormattedNumber,ja=ya.FormattedDateTime,ka=ya.RelativeTime,Pa=ya.FormattedMoney;var Ia=ga.formatNumber,Ta=ga.formatCurrency,Oa=ga.formatCurrencyToParts,wa=ga.getCurrencySymbol,xa=ga.formatQuantity,La=ga.formatDateTime,Da=ga.formatRelativeTime,qa=ga.translate,Ma=ga.pluralize,Na=ga.formatMoney;var Fa=Aa.formatIcuMessage;var Ua=function e(t){var a=t.onRequestClose;return T.a.createElement(U["a"],{pt:"2",px:Y,position:"sticky",top:"0",left:"0",zIndex:1,backgroundColor:"white",sx:{width:"100%"}},T.a.createElement(B["a"].Tertiary,{onClick:a},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Close")))};Ua.propTypes={onRequestClose:_.a.func.isRequired};var Va=Ua;var Ba=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/ActionList/index.js");var za=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/hooks/useMeasure.js");var Ga=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/ChevronSmallUp.js");var Wa=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/ChevronSmallDown.js");var Ha=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Checkmark.js");var Ka=function e(t){var a=t.onClick,r=t.label,n=t.isOpen,s=t.textStyle,i=ve()(t,["onClick","label","isOpen","textStyle"]);return T.a.createElement(Te["Cell"],P()({},i,{onClick:a,as:"label",body:T.a.createElement(ge["a"],{py:0,my:0,textStyle:s},r),exteriorAccessory:function e(){return n?T.a.createElement(Ga["a"],null):T.a.createElement(Wa["a"],null)}}))};var Ya=function e(t){var n=t.options,a=t.label,r=void 0===a?"":a,s=t.value,i=t.onChange,o=t.textStyle,c=void 0===o?"body":o,l=ve()(t,["options","label","value","onChange","textStyle"]);var u=T.a.useState(false),d=te()(u,2),m=d[0],p=d[1];var v=Object(za["a"])(),f=te()(v,2),b=f[0],h=f[1];return T.a.createElement(Ba["a"].Sheet,{isOpen:m,onRequestOpen:function e(){return p(true)},onRequestClose:function e(){return p(false)},renderHeader:function e(){},docks:[0,h.height],renderTrigger:function e(){var t;var a=null===(t=n.find(function(e){var t=e.value;return t===s}))||void 0===t?void 0:t.label;return T.a.createElement(Ka,P()({},l,{textStyle:c,isOpen:m,label:"".concat(r).concat(a),onClick:function e(){return p(true)}}))}},function(e){var r=e.onRequestClose;return T.a.createElement(V["a"],{flexDirection:"column",py:3,px:Y,ref:b},n.map(function(e){var t=e.label,a=e.value;return T.a.createElement(T.a.Fragment,{key:a},T.a.createElement(V["a"],{py:2,onClick:function e(){i(a);r()}},T.a.createElement(ge["a"].Body,{flex:1,py:0,my:0},t),s===a&&T.a.createElement(Ha["a"],null)),T.a.createElement(Te["Divider"],null))}))})};Ya.propTypes={options:_.a.array.isRequired,label:_.a.string,value:_.a.string.isRequired,onChange:_.a.func.isRequired,textStyle:_.a.string};var Qa=Ya;var Xa=function e(t){var a=t.options,r=t.value,n=t.onChange;return T.a.createElement(U["a"],{px:Y},T.a.createElement(Te["Tabs"],{options:a,value:r,onChange:n}))};Xa.propTypes={options:_.a.array.isRequired,value:_.a.string,onChange:_.a.func.isRequired};var Za=function e(t){var a=t.options,r=t.value,n=t.onChange;return T.a.createElement(U["a"],{px:Y},T.a.createElement(Qa,{pt:2,pb:8,textStyle:"title",options:a,value:r,onChange:n}))};Za.propTypes={options:_.a.array.isRequired,value:_.a.string,onChange:_.a.func.isRequired};var $a=function e(t){var a=t.options,r=t.value,n=t.onChange;return T.a.createElement(R["a"].Renderer,{render:{default:Xa,"mobile-0":Za},options:a,value:r,onChange:n})};$a.propTypes={options:_.a.array.isRequired,value:_.a.string,onChange:_.a.func.isRequired};var Ja=$a;function er(n){var s=tr();return function e(){var t=y()(n),a;if(s){var r=y()(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return E()(this,a)}}function tr(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var ar=n.withEventTrackingConsumer;var rr=function(e){b()(a,e);var t=er(a);function a(e){var n;m()(this,a);n=t.call(this,e);C()(M()(n),"isSelected",function(e){return e===n.state.selectedPanelId});C()(M()(n),"registerPanel",function(e){var t=e.id,a=e.title;n.setState(function(e){return{selectedPanelId:e.selectedPanelId||t,tabs:[].concat(D()(e.tabs),[{value:t,label:a}])}},function(){var e=n.props.tracking.trackInitialTab;var t=n.state,a=t.tabs,r=t.selectedPanelId;e(a.find(function(e){var t=e.value;return t===r})||{})})});C()(M()(n),"handleClose",function(){var e=n.props,t=e.onRequestClose,a=e.tracking;t();a.trackCloseAssetPicker()});C()(M()(n),"selectPanel",function(a){var e=n.state.tabs;var t=n.props.tracking.trackClickAssetPickerTab;n.setState({selectedPanelId:a});t(x()({},e.find(function(e){var t=e.value;return t===a})||{}))});n.containerRef=T.a.createRef();n.state={selectedPanelId:e.initialPanelId,tabs:[]};return n}v()(a,[{key:"componentDidUpdate",value:function e(t){var a=this.state.tabs;var r=t.children;false}},{key:"render",value:function e(){var t=this;var a=this.state,r=a.selectedPanelId,n=a.tabs;var s=this.props,i=s.children,o=s.onRequestClose,c=s.selectLimit;var l=T.a.Children.map(i,function(e){return e&&T.a.cloneElement(e,{isSelected:t.isSelected,onRegister:t.registerPanel,selectLimit:c,containerNode:t.containerRef.current})});var u=!!o;return T.a.createElement(de,{ref:this.containerRef,sx:{userSelect:"none"}},u&&T.a.createElement(Va,{onRequestClose:this.handleClose}),T.a.createElement(Ja,{options:n,value:r,onChange:this.selectPanel}),l)}}]);return a}(T.a.Component);C()(rr,"propTypes",{initialPanelId:_.a.string,onRequestClose:_.a.func,selectLimit:_.a.number.isRequired,tracking:_.a.object.isRequired});var nr=ar(rr);var sr=a("./common/temp/node_modules/@sqs/track-events/v2.js");var ir=a.n(sr);var or={PRODUCTION:"PRODUCTION",STAGING:"STAGING",QA:"QA",DEVELOPMENT:"DEVELOPMENT",INTERNAL:"INTERNAL",INTRANET:"INTRANET"};var cr=x()({},or,{DEV_PROXY:"DEV_PROXY"});var lr;var ur={customSchemaName:"AssetPicker",fireEvents:true,logging:false,useBeacon:true,validateMode:false};var dr=x()({},ur,{devBaseDomainUrl:"http://localhost:1338",logging:true,sourceEnvironment:sr["SourceEnvironment"].DEV});var mr=x()({},ur,{sourceEnvironment:sr["SourceEnvironment"].STAGING});var pr=x()({},ur,{sourceEnvironment:sr["SourceEnvironment"].PROD});var vr=(lr={},C()(lr,cr.DEVELOPMENT,dr),C()(lr,cr.DEV_PROXY,dr),C()(lr,cr.STAGING,mr),C()(lr,cr.PRODUCTION,pr),lr);var fr=function e(t){return vr[t]};var br={USER_ADDS_ASSET_PICKER_ASSET:"UserAddsAssetPickerAsset",USER_APPLIES_SEARCH_FILTER:"UserAppliesAssetPickerSearchFilter",USER_CHANGES_ASSET_PICKER_VIEW:"UserChangesAssetPickerView",USER_CLICKS_ASSET_PICKER_TAB:"UserClicksAssetPickerTab",USER_CLOSES_ASSET_PICKER:"UserClosesAssetPicker",USER_CLOSES_FILE_DETAILS:"UserClosesAssetPickerFileDetails",USER_OPENS_ASSET_OVERFLOW:"UserOpensAssetPickerAssetOverflow",USER_OPENS_SEARCH_FILTER_DROPDOWN:"UserOpensAssetPickerSearchFilterDropdown",USER_PREVIEWS_STOCK_IMAGE:"UserPreviewsAssetPickerStockImage",USER_SEARCHES_ASSET_PICKER:"UserSearchesAssetPicker",USER_SORTS_ASSET_PICKER:"UserSortsAssetPicker",USER_VIEWS_ASSET_PICKER:"UserViewsAssetPicker",USER_VIEWS_FILE_DETAILS:"UserViewsAssetPickerFileDetails",USER_VIEWS_STOCK_IMAGE_MODAL:"UserViewsAssetPickerStockImageModal"};var hr={CLICK:"click",ERROR:"error",INPUT:"input",SEARCH:"search",VIEW:"view"};var Er={MODAL:"modal",BUTTON:"button",TABS:"tabs",SEARCH_QUERY:"searchquery",TEXTAREA:"textarea"};var gr={ADD_ASSET:"add-asset",APPLY_SEARCH_FILTERS:"apply-search-filters",ASSET_PICKER:"asset-picker",CANCEL_FILE_DETAILS:"cancel-file-details",CLOSE:"close",CLOSE_FILE_DETAILS:"close-file-details",FILE_DETAILS:"file-details",FILE_NAME:"file-name",IMAGE_OVERFLOW:"image-overflow",OPEN_SEARCH_FILTERS:"open-search-filters",PREVIEW_IMAGE:"preview-asset",SAVE_FILE_DETAILS:"save-file-details",SEARCH:"search",SORT:"sort",STOCK_IMAGE_MODAL:"stock-image-modal",TAB:"tab",VIEW_TYPE:"view-type"};var yr={ADD:"Add",APPLY:"Apply",CANCEL:"Cancel",CLOSE:"Close",PREVIEW:"Preview",SAVE:"Save"};var Ar={ADD:"add",PREVIEW:"preview"};var Sr=a("./common/temp/node_modules/core-js/modules/es.regexp.exec.js");var _r=a("./common/temp/node_modules/core-js/modules/es.string.replace.js");var Rr=a("./common/temp/node_modules/@babel/runtime/helpers/typeof.js");var Cr=a.n(Rr);var jr=function e(t){return t.toLowerCase().replace(/_/g,"-")};var kr=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=[];Object.keys(r).forEach(function(t){var a=r[t];"object"===Cr()(a)?Object.keys(a).filter(function(e){return a[e]}).forEach(function(e){n.push("".concat(t,"_").concat(e))}):n.push("".concat(t,"_").concat(a))});return n};var Pr=n.EventTrackingContext,Ir=n.useEventTrackingContext;var Tr=null;var Or=true;var wr="";var xr=function e(t){var a=t.children,r=t.environment,n=void 0===r?cr.DEVELOPMENT:r,s=t.imageDestination,i=t.initialPanelId,o=t.userMemberAccountId,c=t.websiteId,l=t.websiteLocale;var u={object_value:null,object_display_name:null,indirect_object_value:null,indirect_object_identifier:gr.ASSET_PICKER,indirect_object_type:null,indirect_object_display_name:null,search_filter:null};var d=x()({actor:"user",event_owner_team:"asset_management",event_source:"web",member_account_id:null,object_id:null,object_identifier:null,product_area:"AssetPicker",website_locale:l},u);Object(I["useEffect"])(function(){wr=i;Or=true},[]);Object(I["useEffect"])(function(){var e=fr(n);Tr=new ir.a(e,x()({},d,{context_website_id:c,member_account_id:o||null}))},[n]);var m=function e(t){var a=t.value;wr=wr||a};var p=function e(t){null!==Tr?Tr.track(t):console.error("[".concat(d.product_area,"] Event Tracker not initialized"))};var v=function e(t){var a=t.numAssets;if(Or&&wr){p({action:hr.VIEW,event_name:br.USER_VIEWS_ASSET_PICKER,indirect_object_identifier:s,object_display_name:wr,object_identifier:gr.ASSET_PICKER,object_type:Er.MODAL,object_value:String(a)});Or=false}};var f=function e(){p({action:hr.CLICK,event_name:br.USER_CLOSES_ASSET_PICKER,indirect_object_display_name:wr,indirect_object_identifier:gr.ASSET_PICKER,object_display_name:yr.CLOSE,object_identifier:gr.CLOSE,object_type:Er.BUTTON})};var b=function e(t){var a=t.value;p({action:hr.CLICK,event_name:br.USER_CLICKS_ASSET_PICKER_TAB,indirect_object_display_name:wr,object_display_name:a,object_identifier:gr.TAB,object_type:Er.TABS,object_value:jr(a)});wr=a};var h=function e(t){var a=t.displayLayout;p({action:hr.CLICK,event_name:br.USER_CHANGES_ASSET_PICKER_VIEW,object_type:Er.BUTTON,object_identifier:gr.VIEW_TYPE,object_value:jr(a),indirect_object_display_name:wr})};var E=function e(t){var a=t.type;p({action:hr.CLICK,event_name:br.USER_SORTS_ASSET_PICKER,object_type:Er.BUTTON,object_identifier:gr.SORT,object_value:jr(a),indirect_object_display_name:wr})};var g=function e(t){var a=t.assetIds;p({action:hr.CLICK,event_name:br.USER_ADDS_ASSET_PICKER_ASSET,indirect_object_display_name:wr,object_display_name:yr.ADD,object_id:1===a.length?a[0]:null,object_identifier:gr.ADD_ASSET,object_type:Er.BUTTON,object_value:a.length.toString()})};var y=function e(t){var a=t.expandedAsset;p({action:hr.CLICK,event_name:br.USER_OPENS_ASSET_OVERFLOW,indirect_object_display_name:wr,object_id:a.assetId,object_identifier:gr.IMAGE_OVERFLOW,object_type:Er.BUTTON})};var A=function e(t){var a=t.expandedAsset;p({action:hr.VIEW,event_name:br.USER_VIEWS_FILE_DETAILS,indirect_object_display_name:wr,object_id:a.assetId,object_identifier:gr.FILE_DETAILS,object_type:Er.MODAL})};var S=function e(t){var a=t.expandedAsset;p({action:hr.CLICK,event_name:br.USER_CLOSES_FILE_DETAILS,indirect_object_display_name:wr,object_display_name:yr.CLOSE,object_id:a.assetId,object_identifier:gr.CLOSE_FILE_DETAILS,object_type:Er.BUTTON})};var _=function e(t){var a=t.expandedAsset,r=t.callToAction;p({action:hr.VIEW,event_name:br.USER_VIEWS_STOCK_IMAGE_MODAL,indirect_object_display_name:wr,indirect_object_value:r,object_id:a.assetId,object_identifier:gr.STOCK_IMAGE_MODAL,object_type:Er.MODAL})};var R=function e(t){var a=t.stockImage;p({action:hr.CLICK,event_name:br.USER_PREVIEWS_STOCK_IMAGE,indirect_object_display_name:wr,object_display_name:yr.PREVIEW,object_id:a.imageId,object_identifier:gr.PREVIEW_IMAGE,object_type:Er.BUTTON})};var C=function e(t){var a=t.searchQuery,r=t.selectedFilters;Or||p({action:hr.SEARCH,event_name:br.USER_SEARCHES_ASSET_PICKER,indirect_object_display_name:wr,object_identifier:gr.SEARCH,object_type:Er.SEARCH_QUERY,object_value:a,search_filter:kr(r)})};var j=function e(t){var a=t.selectedFilters;p({action:hr.CLICK,event_name:br.USER_OPENS_SEARCH_FILTER_DROPDOWN,indirect_object_display_name:wr,object_identifier:gr.OPEN_SEARCH_FILTERS,object_type:Er.BUTTON,search_filter:kr(a)})};var k=function e(t){var a=t.selectedFilters;p({action:hr.CLICK,event_name:br.USER_APPLIES_SEARCH_FILTER,indirect_object_display_name:wr,object_display_name:yr.APPLY,object_identifier:gr.APPLY_SEARCH_FILTERS,object_type:Er.BUTTON,search_filter:kr(a)})};return T.a.createElement(Pr.Provider,{value:{trackAddAssetPickerAsset:g,trackApplyFilters:k,trackChangeAssetPickerView:h,trackClickAssetPickerTab:b,trackCloseAssetPicker:f,trackCloseFileDetails:S,trackInitialTab:m,trackOpenAssetOverflow:y,trackOpenSearchFilterDropdown:j,trackPreviewStockImage:R,trackSearchAssetPicker:C,trackSortAssetPicker:E,trackViewAssetPicker:v,trackViewFileDetails:A,trackViewStockImageModal:_}},a)};xr.propTypes={environment:_.a.oneOf(Object.values(cr)),imageDestination:_.a.string,initialPanelId:_.a.string,userMemberAccountId:_.a.string,websiteId:_.a.string,websiteLocale:_.a.string};var Lr;var Dr="https://media.dev.squarespace.net/";var qr="https://media.stage.sqsp.net/";var Mr="https://media-api.squarespace.com/";var Nr="http://localhost:1338/";var Fr=(Lr={},C()(Lr,cr.PRODUCTION,{ALEXANDRIA_API_ROOT:Mr,V6_API_ROOT:"/"}),C()(Lr,cr.STAGING,{ALEXANDRIA_API_ROOT:qr,V6_API_ROOT:"/"}),C()(Lr,cr.QA,{ALEXANDRIA_API_ROOT:qr,V6_API_ROOT:"/"}),C()(Lr,cr.INTERNAL,{ALEXANDRIA_API_ROOT:qr,V6_API_ROOT:"/"}),C()(Lr,cr.DEVELOPMENT,{ALEXANDRIA_API_ROOT:Dr,V6_API_ROOT:"/"}),C()(Lr,cr.DEV_PROXY,{ALEXANDRIA_API_ROOT:"".concat(Nr,"alexandria/"),V6_API_ROOT:"".concat(Nr,"v6/")}),Lr);var Ur=Mr;var Vr="/";var Br;var zr=function e(t){Br=t;if(Fr[t]){Ur=Fr[t].ALEXANDRIA_API_ROOT;Vr=Fr[t].V6_API_ROOT}else console.error('Missing Environment Config for "'.concat(t,'"'))};function Gr(n){var s=Wr();return function e(){var t=y()(n),a;if(s){var r=y()(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return E()(this,a)}}function Wr(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var Hr=function(e){b()(r,e);var a=Gr(r);function r(e){var t;m()(this,r);t=a.call(this,e);t.state={selectedTab:null,tabs:[]};return t}v()(r,[{key:"componentDidMount",value:function e(){zr(this.props.environment)}},{key:"render",value:function e(){var t=this.props,a=t.children,r=t.eventTracking,n=t.initialPanelId,s=t.onRequestClose,i=t.selectLimit,o=t.environment;return T.a.createElement(R["a"].Provider,null,T.a.createElement(xr,P()({},r,{environment:o,initialPanelId:n}),T.a.createElement(nr,{onRequestClose:s,initialPanelId:n,selectLimit:i},a)))}}]);return r}(I["Component"]);C()(Hr,"defaultProps",{environment:cr.PRODUCTION,eventTracking:{},selectLimit:1});C()(Hr,"propTypes",{onRequestClose:_.a.func,initialPanelId:_.a.string,selectLimit:_.a.number,eventTracking:_.a.object,environment:_.a.oneOf(Object.values(cr))});var Kr=a("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js");var Yr=a.n(Kr);var Qr=a("./common/temp/node_modules/core-js/modules/es.promise.js");var Xr=a("./src/main/webapp/frontend/packages/asset-management/asset-authorization-client/lib/clients/AlexandriaAuthorizationClient.js");var Zr=a("./common/temp/node_modules/core-js/modules/es.array.includes.js");var $r=a("./common/temp/node_modules/core-js/modules/es.string.includes.js");var Jr;var en="SEARCH_STRING_ACTION";var tn="nextPage";var an="searchResponse";var rn=75;var nn={CREATED_AT:"CREATED_AT",FILE_NAME:"FILE_NAME"};var sn={ASC:"ASC",DESC:"DESC"};var on={FILE_NAME_ASC:"FILE_NAME_ASC",FILE_NAME_DESC:"FILE_NAME_DESC",CREATED_AT_ASC:"CREATED_AT_ASC",CREATED_AT_DESC:"CREATED_AT_DESC"};var cn={IMAGE:"IMAGE",VIDEO:"VIDEO"};var ln={UPLOAD:"UPLOAD",INSTAGRAM:"INSTAGRAM",FLICKR:"FLICKR",SMUGMUG:"SMUGMUG",DROPBOX:"DROPBOX",FIVEHUNDREDPX:"FIVEHUNDREDPX",REHOST:"REHOST",UNSPLASH:"UNSPLASH",GETTY:"GETTY",GETTYPREVIEW:"GETTYPREVIEW"};var un=[ln.GETTY,ln.UNSPLASH,ln.GETTYPREVIEW,ln.INSTAGRAM];var dn=Object.values(ln).filter(function(e){return!un.includes(e)});var mn=(Jr={},C()(Jr,on.FILE_NAME_ASC,{order:sn.ASC,orderBy:nn.FILE_NAME}),C()(Jr,on.FILE_NAME_DESC,{order:sn.DESC,orderBy:nn.FILE_NAME}),C()(Jr,on.CREATED_AT_ASC,{order:sn.ASC,orderBy:nn.CREATED_AT}),C()(Jr,on.CREATED_AT_DESC,{order:sn.DESC,orderBy:nn.CREATED_AT}),Jr);var pn=a("./common/temp/node_modules/@sqs/network/lib/index.js");var vn=a.n(pn);var fn={limit:rn,order:sn.DESC,orderBy:nn.CREATED_AT,search:"",assetTypes:[cn.IMAGE],assetSources:dn};var bn=function e(r,t){return Xr["a"].authorize().then(function(){var e={headers:{"Content-Type":"application/json","X-Library-Id":t},withCredentials:true};return new Promise(function(t,a){vn.a.get(r,e).then(function(e){return t(e.data)}).catch(function(e){404===e.response.status?t({assetRecords:[]}):a(e)})})}).catch(function(e){Xr["a"].handleErrorResponse(e.response);return Promise.reject(e)})};var hn=function e(t,a){var r=pa(x()({},fn,a));var n="".concat(Ur,"user/libraries/").concat(t,"/assets/?").concat(r);if(Br===cr.DEV_PROXY)return vn.a.get(n).then(function(e){return e.data});return bn(n,t)};var En=function e(t,a){var r="".concat(Ur,"user/libraries/").concat(t,"/assets/").concat(a);return bn(r,t)};var gn=function e(){return T.a.createElement(me,null,T.a.createElement(ge["a"].Title,{color:"gray.400"},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Error")),T.a.createElement(ge["a"].Body,{color:"gray.400"},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"An error occurred while loading the results. Please try again")))};var yn=gn;var An=function(){return T.a.createElement(me,null,T.a.createElement(Te["ActivityIndicator"],null))};var Sn=function e(){return T.a.createElement(me,null,T.a.createElement(ge["a"].Title,{color:"gray.400"},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"No Files Found")),T.a.createElement(ge["a"].Body,{color:"gray.400"},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Uploaded files will show here in your library for quick access when editing your site.")))};var _n=Sn;var Rn=function(a){var e=function e(t){return T.a.createElement(a,P()({ErrorView:yn,LoadingView:An,NoAssetsView:_n},t))};e.displayName="withViewStatePanels(".concat(re(a));return se()(e,a)};var Cn=Rn(Zt);var jn=a("./common/temp/node_modules/core-js/modules/es.string.search.js");var kn=a("./common/temp/node_modules/core-js/modules/es.object.assign.js");var Pn=a("./common/temp/node_modules/core-js/modules/es.object.freeze.js");var In=Object.freeze({orderBy:nn.CREATED_AT,order:sn.DESC,search:"",offset:void 0,searchId:void 0});function Tn(){return x()({},In)}var On=function(e,t){if(t.type===an)return Object.assign(e,{searchId:t.searchId});if(t.type===tn)return x()({},e,{offset:e.offset?e.offset+rn:rn});var a=e.offset,r=e.searchId,n=ve()(e,["offset","searchId"]);var s=mn[t.type];if(s)return x()({},n,s);if(t.type===en)return x()({},n,{search:t.payload.search,offset:0});throw new Error};var wn=T.a.createContext(Tn());var xn=T.a.createContext({dispatchSearchParams:function e(){}});var Ln=function e(r){var t=function e(a){return T.a.createElement(wn.Consumer,null,function(t){return T.a.createElement(xn.Consumer,null,function(e){return T.a.createElement(r,P()({},a,{searchParams:t,dispatchSearchParams:e}))})})};t.displayName="withSearchParamsContextConsumer(".concat(re(r));return se()(t,r)};var Dn=function e(i){var t=function e(t){var a=Object(I["useReducer"])(On,Tn()),r=te()(a,2),n=r[0],s=r[1];return T.a.createElement(wn.Provider,{value:n},T.a.createElement(xn.Provider,{value:s},T.a.createElement(i,t)))};t.displayName="withSearchParamsProvider(".concat(re(i));return se()(t,i)};var qn=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/Dropdown/index.js");var Mn=function e(t){var a=t.options,r=t.onChange,n=ve()(t,["options","onChange"]);return T.a.createElement(U["a"],n,T.a.createElement(qn["a"],P()({},n,{placement:"bottom",onChange:r,px:"1",renderDropdown:function e(t){return T.a.createElement(qn["a"].Dropdown,P()({},t,{className:"image-picker-overlay escmanager-ignore"}))},renderDisplay:T.a.forwardRef(function(e,t){var a=e.detail,r=ve()(e,["detail"]);return T.a.createElement(qn["a"].Display,P()({},r,{ref:t,detail:T.a.createElement(ge["a"].Body,{color:"gray.100",m:0},a)}))})}),a.map(function(e){var t=e.label,a=e.value;return T.a.createElement(qn["a"].Option,{key:t,value:a},t)})))};Mn.propTypes={options:_.a.array.isRequired,onChange:_.a.func.isRequired};var Nn=Mn;var Fn=function e(t){return T.a.createElement(R["a"].Renderer,P()({},t,{render:{default:Nn,"mobile-0":Qa}}))};Fn.propTypes={options:_.a.array.isRequired,label:_.a.string,value:_.a.string.isRequired,onChange:_.a.func.isRequired,textStyle:_.a.string};var Un=Fn;var Vn=[{label:qa("Newest",null,{project:"assetManagement.assetPicker"}),value:on.CREATED_AT_DESC},{label:qa("Oldest",null,{project:"assetManagement.assetPicker"}),value:on.CREATED_AT_ASC},{label:qa("Name A-Z",null,{project:"assetManagement.assetPicker"}),value:on.FILE_NAME_ASC},{label:qa("Name Z-A",null,{project:"assetManagement.assetPicker"}),value:on.FILE_NAME_DESC}];var Bn=function e(t){var r=t.dispatchSearchParams,n=t.searchParams,a=ve()(t,["dispatchSearchParams","searchParams"]);var s=Ir(),i=s.trackSortAssetPicker;var o=n.orderBy,c=n.order;return T.a.createElement(Un,P()({},a,{label:qa("Sort: ",null,{project:"assetManagement.assetPicker"}),options:Vn,value:"".concat(o,"_").concat(c),onChange:function e(t){var a="".concat(n.orderBy,"_").concat(n.order);if(a!==t){r({type:t});i({type:t})}}}))};Bn.propTypes={orderBy:_.a.oneOf(Object.values(nn)),order:_.a.oneOf(Object.values(sn)),dispatchSearchParams:_.a.func.isRequired};var zn=Ln(Bn);var Gn=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Portfolio.js");var Wn=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/BulletedList.js");var Hn={GRID_CARD:"GRID_CARD",LIST:"LIST"};var Kn=Hn;var Yn="ASSET_PICKER_LAYOUT";var Qn=function e(t){window.localStorage.setItem(Yn,JSON.stringify({type:t}))};var Xn=function e(){var t=window.localStorage.getItem(Yn);if(null!==t)return JSON.parse(t).type};var Zn=Kn.GRID_CARD;var $n=T.a.createContext(Zn);var Jn=T.a.createContext(null);var es=function e(r){var t=function e(a){return T.a.createElement($n.Consumer,null,function(t){return T.a.createElement(Jn.Consumer,null,function(e){return T.a.createElement(r,P()({layoutType:t},a,{setLayoutType:e}))})})};t.displayName="withLayoutTypeConsumer(".concat(re(r));return se()(t,r)};var ts=function e(){var t=Xn();var a=t&&Object.values(Kn).includes(t);return a?t:Zn};var as=function e(i){var t=function e(t){var a=Object(I["useState"])(ts()),r=te()(a,2),n=r[0],s=r[1];Object(I["useEffect"])(function(){Qn(n)});return T.a.createElement($n.Provider,{value:n},T.a.createElement(Jn.Provider,{value:s},T.a.createElement(i,t)))};t.displayName="withLayoutTypeProvider(".concat(re(i));return se()(t,i)};var rs=function e(t){var r=t.layoutType,n=t.setLayoutType;var a=Ir(),s=a.trackChangeAssetPickerView;var i=[{displayLayout:Kn.GRID_CARD,DisplayComponent:Gn["a"]},{displayLayout:Kn.LIST,DisplayComponent:Wn["a"]}];return T.a.createElement(V["a"],null,i.map(function(e){var t=e.displayLayout,a=e.DisplayComponent;return T.a.createElement(U["a"],{key:t},T.a.createElement(Dt,{onClick:function e(){if(r!==t){n(t);s({displayLayout:t})}},"data-test":"layoutType-".concat(t)},T.a.createElement(a,{color:t===r?"gray.100":"gray.400"})))}))};rs.propTypes={layoutType:_.a.oneOf(Object.values(Kn)),setLayoutType:_.a.func.isRequired};var ns=es(rs);var ss=function e(t){var a=t.layoutType,r=t.dispatchSearchParams,n=t.searchParams;var s=Ir(),i=s.trackSearchAssetPicker;var o=function e(t){r({type:en,payload:{search:t}});t!==n.search&&i({searchQuery:t})};return T.a.createElement(da,{initialSearchValue:n.search,placeholder:qa("Search",null,{project:"assetManagement.assetPicker"}),setSearchQuery:o},T.a.createElement(R["a"].Renderer,{render:{default:function e(){return a===Kn.GRID_CARD&&T.a.createElement(T.a.Fragment,null,T.a.createElement(zn,null),T.a.createElement(ea,null))},"mobile-0":function e(){return T.a.createElement(T.a.Fragment,null,T.a.createElement(zn,null),T.a.createElement(U["a"],{sx:{flex:1}}))}}}),T.a.createElement(ns,null))};ss.propTypes={layoutType:_.a.oneOf(Object.values(Kn)).isRequired,dispatchSearchParams:_.a.func.isRequired,searchParams:_.a.object};var is=es(Ln(ss));var os=a("./common/temp/node_modules/@sqs/jsf-core/lib/es/main.js");var cs=a("./common/temp/node_modules/@sqs/jsf-fields/lib/es/main.js");var ls={type:"object",properties:{assetDetails:{type:"object",properties:{filename:{type:"string"},fileExtension:{type:"string"},createdAt:{type:"string"},dimensions:{type:"object"},dimensionsString:{type:"string"},fileSize:{type:"string"}}},image:{type:"object",properties:{src:{type:"string"},imageDimensions:{type:"object",properties:{width:{type:"number"},height:{type:"number"}}},maxDimensions:{type:"object",properties:{width:{type:"number"},height:{type:"number"}}}}}}};var us=[{type:"constrainedimage",$mapping:"#/image",properties:{noBorder:true,label:""}},{type:"detailgrid",$mapping:"#/assetDetails",properties:{labels:{filename:qa("Filename",null,{project:"assetManagement.assetPicker"}),fileExtension:qa("Type",null,{project:"assetManagement.assetPicker"}),createdAt:qa("Added",null,{project:"assetManagement.assetPicker"}),dimensionsString:qa("Dimensions",null,{project:"assetManagement.assetPicker"}),fileSize:qa("Size",null,{project:"assetManagement.assetPicker"})}}}];var ds=function e(t){var a=t.onRequestClose;return T.a.createElement(U["a"],{mx:2,my:1},T.a.createElement(B["a"].Tertiary,{ml:2,onClick:a},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Close")))};ds.propTypes={onRequestClose:_.a.func.isRequired};var ms=ds;var ps=a("./src/main/webapp/frontend/packages/universal-utils/cjs/index.js");var vs=Object(os["withDataValidation"])(os["Formodule"]);var fs=function e(t){var a=t.onRequestClose,r=t.asset;var n=r.createdAt,s=r.dimensionsString,i=r.fileExtension,o=r.fileSize,c=r.filename,l=r.imageSrc;var u=Ir(),d=u.trackViewFileDetails,m=u.trackCloseFileDetails;Object(I["useEffect"])(function(){r&&d({expandedAsset:r})},[r]);var p=function e(){a();m({expandedAsset:r})};return T.a.createElement(vs,{components:{context:cs["context"],detailgrid:Ae,constrainedimage:function e(t){var a=t.value;return T.a.createElement(he,a)},string:cs["string"]},configurations:{default:{schema:ls,uiSchema:us,value:{image:{src:l,maxDimensions:{height:200,width:400},imageDimensions:r.dimensions},assetDetails:{createdAt:n,dimensionsString:s,fileExtension:i,fileSize:Object(ps["humanizeFileSize"])(o),filename:c}}}},relativeHeight:true,renderHeader:function e(t){return T.a.createElement(ms,P()({},t,{onRequestClose:p}))},renderTransition:function e(t){var a=t.children;return a}})};fs.propTypes={asset:_.a.shape({assetId:_.a.string.isRequired,createdAt:_.a.string.isRequired,dimensionsString:_.a.string.isRequired,fileExtension:_.a.string.isRequired,filename:_.a.string,fileSize:_.a.string.isRequired,imageSrc:_.a.string.isRequired}),onRequestClose:_.a.func.isRequired};var bs=fs;var hs=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/Table/Table.js");var Es=function e(t){var a=t.value;var r=a;return T.a.createElement(Te["Checkbox"],{checked:r,sx:{backgroundColor:"white"}})};Es.propTypes={value:_.a.bool.isRequired};var gs=Es;var ys=function e(t){var a=t.value,r=t.width,n=void 0===r?"sizes.300":r,s=t.height,i=void 0===s?"sizes.300":s,o=t.m,c=void 0===o?1:o;return T.a.createElement(Te["Image"],{m:c,width:n,height:i,css:{objectFit:"cover"},src:a})};ys.propTypes={value:_.a.string.isRequired,width:_.a.oneOfType([_.a.string,_.a.number]),height:_.a.oneOfType([_.a.string,_.a.number]),m:_.a.oneOfType([_.a.string,_.a.number])};var As=ys;var Ss={overflow:"hidden",wordBreak:"break-word",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical"};var _s=function e(t){var a=t.value;return T.a.createElement(ge["a"].Body,{maxHeight:"sizes.250",margin:"0",sx:Ss},a)};_s.propTypes={value:_.a.string.isRequired};var Rs=_s;var Cs=function e(t){var a=t.value;return T.a.createElement(Dt,{onClick:a},T.a.createElement(nt["a"],null))};Cs.propTypes={value:_.a.func.isRequired};var js=Cs;var ks=function e(){return T.a.createElement(U["a"],{borderRadius:"50%",backgroundColor:"gray.400",width:"sizes.75",height:"sizes.75",mx:"1"})};var Ps=function e(t){var a=t.row;var r=a.original,n=r.createdAt,s=r.detailsLink,i=r.fileExtension,o=r.filename,c=r.image,l=r.isSelected,u=r.onRowClick,d=r.rowCount;var m=a.index===d-1;return T.a.createElement(T.a.Fragment,null,T.a.createElement(Te["Cell"].Container,{onClick:u},T.a.createElement(Te["Cell"].Shell,null,T.a.createElement(Te["Cell"].ExteriorPre,null,T.a.createElement(Te["Checkbox"],{checked:l,onClick:u})),T.a.createElement(Te["Cell"].InteriorPre,{mr:3},T.a.createElement(As,{value:c,width:"sizes.350",height:"sizes.350",m:0})),T.a.createElement(Te["Cell"].Body,null,T.a.createElement(V["a"],{mb:1},T.a.createElement(ge["a"].Body,{m:0,fontWeight:"medium",sx:Ss},o)),T.a.createElement(V["a"],{alignItems:"center"},T.a.createElement(ge["a"].Caption,{my:0,color:"gray.100"},i),T.a.createElement(ks,null),T.a.createElement(ge["a"].Caption,{my:0,mr:1},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Added")),T.a.createElement(ge["a"].Caption,{my:0,color:"gray.100"},n))),T.a.createElement(Te["Cell"].ExteriorAccessory,{onClick:s,py:2,pl:2,m:0},T.a.createElement(nt["a"],null)))),!m&&T.a.createElement(Te["Divider"],null))};Ps.propTypes={row:_.a.shape({original:_.a.shape({onRowClick:_.a.func.isRequired,isSelected:_.a.bool.isRequired,image:_.a.string.isRequired,fileExtension:_.a.string.isRequired,filename:_.a.string.isRequired,createdAt:_.a.string.isRequired,detailsLink:_.a.func.isRequired,rowCount:_.a.number.isRequired}).isRequired}).isRequired};var Is=Ps;var Ts=function e(t){var a=Object(z["b"])(),r=a.space;var n=t.row.original.onRowClick;var s={cursor:"pointer",transition:"background 0.25s, border 0.25s",backgroundColor:t.row.original.isSelected?"gray.900":"white",borderColor:t.row.original.isSelected?"gray.900":"white","&:hover":{backgroundColor:"gray.900",borderColor:"gray.900"},borderStyle:"solid",borderLeftWidth:r[2],borderRightWidth:r[2],borderTopWidth:r[0],borderBottomWidth:r[0],marginLeft:"-".concat(r[2]),marginRight:"-".concat(r[2])};return T.a.createElement(hs["a"].Grid.BodyRow,P()({className:"asset-item","data-test":"asset-item",onClick:n,sx:s,BodyCellRenderer:function e(t){return T.a.createElement(hs["a"].Grid.BodyCell,P()({pl:"isSelected"===t.cell.column.id||"image"===t.cell.column.id?0:2,pr:"detailsLink"===t.cell.column.id||"image"===t.cell.column.id?0:2,py:0,borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"gray.800"},t))}},t))};Ts.propTypes={row:_.a.shape({original:_.a.shape({onRowClick:_.a.func.isRequired,isSelected:_.a.bool.isRequired}).isRequired}).isRequired};var Os=Ts;var ws=a("./common/temp/node_modules/moment/moment.js");var xs=a.n(ws);function Ls(e){var t=xs.a.isMoment(e)?e.calendar():xs()(e).calendar();var a=t.charAt(0).toUpperCase();var r=t.slice(1);return"".concat(a).concat(r)}var Ds;var qs=r.withSelectedAssetsConsumer;var Ms=s.withExpandedAssetConsumer;var Ns=qa("Name",null,{project:"assetManagement.assetPicker"});var Fs=qa("File Type",null,{project:"assetManagement.assetPicker"});var Us=qa("Date Added",null,{project:"assetManagement.assetPicker"});var Vs=[{accessor:"isSelected",maxWidth:44,renderCell:gs},{accessor:"image",maxWidth:67,renderCell:As},{accessor:"filename",Header:Ns,disableSortBy:false,maxWidth:397,renderCell:Rs},{accessor:"fileExtension",Header:Fs,maxWidth:110},{accessor:"createdAt",Header:Us,disableSortBy:false,maxWidth:198},{accessor:"detailsLink",maxWidth:44,align:"right",renderCell:js}];var Bs=(Ds={},C()(Ds,nn.FILE_NAME,"filename"),C()(Ds,nn.CREATED_AT,"createdAt"),Ds);var zs=Object.keys(Bs).reduce(function(e,t){return x()({},e,C()({},Bs[t],t))},{});var Gs=function e(t){return t?sn.DESC:sn.ASC};var Ws=function e(t){return T.a.createElement(hs["a"].Grid.HeadRow,P()({},t,{onClick:function e(t){return t.stopPropagation()}}))};var Hs=function e(t){var a=t.assetLibrary,o=t.onAssetSelected,r=t.onChangeSort,n=t.searchParams,c=t.selectedAssetIds,l=t.setExpandedAsset;var s=n.order,i=n.orderBy;var u=a.length;var d=a.map(function(t){var a=t.assetId,e=t.imageSrc,r=t.filename,n=t.fileExtension,s=t.createdAt;var i=c.has(a);return{createdAt:Ls(s),detailsLink:function e(){return l(t)},fileExtension:n,filename:r,image:e,isSelected:i,rowCount:u,onRowClick:function e(t){t.stopPropagation();o(a)}}});return T.a.createElement(hs["a"],{columns:Vs,data:d,defaultColumn:{Header:"",disableSortBy:true},sortBy:{initialState:{sortBy:{id:Bs[i],desc:s===sn.DESC}},manualSortBy:true,onRequestColumnSort:function e(t,a){r({type:"".concat(zs[t],"_").concat(Gs(a))})}}},T.a.createElement(hs["a"].Grid,{px:0},T.a.createElement(R["a"].Renderer,{render:{default:function e(){return T.a.createElement(hs["a"].Grid.Head,{HeadRowRenderer:Ws})},"mobile-0":function e(){return null}}}),T.a.createElement(hs["a"].Grid.Body,{BodyRowRenderer:function e(t){return T.a.createElement(R["a"].Renderer,P()({render:{default:Os,"mobile-0":Is}},t))}})))};Hs.propTypes={assetLibrary:_.a.arrayOf(_.a.shape({filename:_.a.string,imageSrc:_.a.string.isRequired,createdAt:_.a.string.isRequired,fileExtension:_.a.string.isRequired})).isRequired,selectedAssetIds:_.a.instanceOf(Set).isRequired,setExpandedAsset:_.a.func.isRequired,onAssetSelected:_.a.func.isRequired,searchParams:_.a.shape({orderBy:_.a.oneOf(Object.values(nn)).isRequired,order:_.a.oneOf(Object.values(sn)).isRequired}).isRequired,onChangeSort:_.a.func.isRequired};var Ks=Ln(qs(Ms(Hs)));var Ys=function e(t){var a=t.layoutType;if(a===Kn.GRID_CARD)return T.a.createElement(U["a"],{pb:8},T.a.createElement(Tt,P()({},t,{ItemComponent:ct})));if(a===Kn.LIST)return T.a.createElement(U["a"],{pb:8},T.a.createElement(Ks,t))};var Qs=es(Ys);var Xs=function e(t){var a=t.assetLibrary,r=t.dispatchSearchParams,n=t.id,s=t.onChooseAssetIds,i=t.onNearBottom,o=t.title,c=t.viewState;var l=Ir(),u=l.trackAddAssetPickerAsset,d=l.trackSortAssetPicker;var m=function e(t){var a=t.type;r({type:a});d({type:a})};return T.a.createElement(Jt,P()({id:n,title:o},t,{ExpandedAssetContents:bs}),T.a.createElement(is,null),T.a.createElement(Cn,{assetLibrary:a,viewState:c,onNearBottom:i,onChangeSort:m,LoadedView:Qs}),T.a.createElement(ue,{onChooseAssetIds:function e(t){s(t);u({assetIds:t})},addButtonLabel:T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Add")}))};Xs.propTypes={assetLibrary:_.a.array,dispatchSearchParams:_.a.func.isRequired,id:_.a.string,isLoading:_.a.bool,onChooseAssetIds:_.a.func.isRequired,onNearBottom:_.a.func.isRequired,title:_.a.string,viewState:_.a.oneOf(Object.values(qt))};Xs.defaultProps={id:"my-library",title:qa("My Library",null,{project:"assetManagement.assetPicker"})};var Zs=Xs;var $s=a("./common/temp/node_modules/core-js/modules/es.string.split.js");var Js=function e(t,a){return{width:parseInt(t,10),height:parseInt(a,10)}};var ei=function e(t,a,r){return t&&a?Js(t,a):Js.apply(void 0,D()(r.split(",")[0].split("x")))};var ti=function e(t){var a=t.numericMetadata||{};var r=t.stringMetaData||{};var n=ei(a.originalWidth,a.originalHeight,r.widths||"1x1");var s="".concat(n.width,"x").concat(n.height);return{filename:r.fileName,imageSrc:t.assetUrl,createdAt:t.createdAt,assetId:t.id,fileExtension:r.originalImageType,dimensions:n,dimensionsString:s,fileSize:""+a.originalFileSize}};var ai=function(e){if(!e||!e.assetRecords)return null;return e.assetRecords.map(function(e){return ti(e)})};var ri=function e(t){return t&&0===t.length};var ni=function e(t){var a=t.assetLibraryId,r=t.getAssets,s=t.dispatchSearchParams,i=t.searchParams;var n=Object(I["useState"])([]),o=te()(n,2),c=o[0],l=o[1];var u=Object(I["useState"])(qt.LOADING),d=te()(u,2),m=d[0],p=d[1];var v=Object(I["useState"])(true),f=te()(v,2),b=f[0],h=f[1];var E=Ir(),g=E.trackViewAssetPicker;var y=function e(t){g({numAssets:t})};Object(I["useEffect"])(function(){var n=(false,hn.bind(null,a,i));var e=function(){var t=Yr()(Ve.a.mark(function e(){var a,r;return Ve.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;i.searchId||p(qt.LOADING);t.next=4;return n();case 4:a=t.sent;r=ai(a);if(r){t.next=8;break}throw new Error("EMPTY_RESPONSE");case 8:if(a.searchId&&a.searchId===i.searchId){l(function(e){return[].concat(D()(e),D()(r))});p(qt.LOADED)}else{l(r);p(ri(r)?qt.LOADED_EMPTY:qt.LOADED)}h(!!a.next);y(a.total);s({type:an,searchId:a.searchId});t.next=19;break;case 14:t.prev=14;t.t0=t["catch"](0);console.error(t.t0);y(-1);p(qt.LOAD_ERROR);case 19:case"end":return t.stop()}},e,null,[[0,14]])}));return function e(){return t.apply(this,arguments)}}();e()},[a,r,s,i]);var A=Object(I["useCallback"])(function(){return b&&s({type:tn})},[b]);return T.a.createElement(Zs,P()({},t,{assetLibrary:c||[],viewState:m,onNearBottom:A}))};ni.propTypes={getAssets:_.a.func,assetLibraryId:_.a.string.isRequired,searchParams:_.a.object,dispatchSearchParams:_.a.func.isRequired};var si=Dn(Ln(as(ni)));var ii={query:"",page:1};var oi=75;var ci=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a="".concat(Vr,"api/unsplash/");var r=pa(x()({},ii,t));return vn.a.get("".concat(a,"search?").concat(r,"&pageSize=").concat(oi))};var li=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/CrossLarge.js");var ui="/api/auth/sso/help?path=/hc/articles/360001994087";var di="https://unsplash.com/terms";var mi=function e(t){var a=t.asset,r=t.onChooseUnlicensedAssets,n=t.onRequestClose;var s=Ir(),i=s.trackCloseFileDetails,o=s.trackViewStockImageModal;Object(I["useEffect"])(function(){a&&o({expandedAsset:a,callToAction:Ar.ADD})},[a]);var c=Object(z["b"])(),l=c.colors,u=c.fontSizes;var d={fontSize:u["0"],lineHeight:"11px",letterSpacing:"0.75px",color:l.gray["300"]};var m=T.a.createElement("a",{href:di,target:"_blank",rel:"noopener noreferrer",style:d},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Unsplash's Terms"));var p=T.a.createElement("a",{href:ui,target:"_blank",rel:"noopener noreferrer",style:d},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Learn more"));return T.a.createElement(T.a.Fragment,null,T.a.createElement(Te["Cell"],{pl:4,pr:2,label:T.a.createElement(V["a"],null,T.a.createElement(ge["a"].Body,{as:"a",href:a.artist.profileUrl,target:"_blank",css:{textDecoration:"none",borderWidth:"0px"}},a.artist.name)),description:T.a.createElement(V["a"],null,T.a.createElement(ge["a"].Caption,{as:"a",href:a.artist.profileUrl,target:"_blank",css:{textDecoration:"none",borderWidth:"0px"}},"@".concat(a.artist.username))),interiorPre:T.a.createElement(Te["Image"],{src:a.artist.photoUrl,sx:{clipPath:"circle(50%)"},alt:qa("{name} Unsplash profile image",{name:a.artist.name},{project:"assetManagement.assetPicker"})}),interiorAccessory:T.a.createElement(Dt,{onClick:function e(t){t.stopPropagation();n();i({expandedAsset:a})}},T.a.createElement(li["a"],null))}),T.a.createElement("div",{style:{height:"328px",background:"#F2F2F2"}},T.a.createElement(he,{src:a.imageSrc,imageDimensions:a.dimensions,maxDimensions:{height:328,width:400}})),T.a.createElement(U["a"],{mx:4,mt:6,mb:4},T.a.createElement(B["a"],{width:"100%",mb:4,size:"large",onClick:function e(){r([a]);n()}},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Add Image")),T.a.createElement(ge["a"].Caption,{sx:x()({display:"block"},d)},T.a.createElement(Sa,{project:"assetManagement.assetPicker",termsLink:m,learnMore:p},'This image is provided by a third party called Unsplash; it is not provided by Squarespace. By clicking "Add Image", you are agreeing to {termsLink} and you understand that you are publishing the image and are responsible for it. {learnMore}'))))};mi.propTypes={asset:_.a.object.isRequired,onRequestClose:_.a.func.isRequired,onChooseUnlicensedAssets:_.a.func.isRequired};var pi=mi;var vi="https://unsplash.com?utm_source=squarespace&medium=referral";var fi=T.a.createElement(ge["a"].Label,{as:"a",href:vi,rel:"noopener",target:"_blank",display:"inline"},"Unsplash");var bi=function e(t){var a=t.assetLibrary,r=t.handleOnNearBottom,n=t.onChooseUnlicensedAssets,s=t.viewState,i=ve()(t,["assetLibrary","handleOnNearBottom","onChooseUnlicensedAssets","viewState"]);var o=Ir(),c=o.trackAddAssetPickerAsset,l=o.trackSearchAssetPicker;var u=function e(t){n(t);c({assetIds:t.map(function(e){var t=e.assetId;return t})})};var d=function e(t){i.setSearchQuery(t);l({searchQuery:t})};return T.a.createElement(Jt,P()({id:"unsplash-panel",title:qa("Free Images",null,{project:"assetManagement.assetPicker"}),ExpandedAssetContents:function e(t){return T.a.createElement(pi,P()({},t,{onChooseUnlicensedAssets:u}))}},i),T.a.createElement(da,{placeholder:qa("Search",null,{project:"assetManagement.assetPicker"}),setSearchQuery:d,initialSearchValue:i.searchParams.query,renderAttribution:function e(){return T.a.createElement(Sa,{project:"assetManagement.assetPicker",attributionLink:fi},"Powered by {attributionLink}")}}),T.a.createElement(Cn,{assetLibrary:a,onNearBottom:r,viewState:s}))};bi.propTypes={assetLibrary:_.a.array.isRequired,onChooseUnlicensedAssets:_.a.func.isRequired,viewState:_.a.oneOf(Object.values(qt)),handleOnNearBottom:_.a.func.isRequired,setSearchQuery:_.a.func.isRequired,searchParams:_.a.object.isRequired};var hi=bi;var Ei=function e(t){return{artist:{profileUrl:t.artistProfileUrl,photoUrl:t.artistPhotoUrl,username:t.artistUsername,name:t.artist},assetId:t.imageId,imageSrc:t.urlPreview,filename:"",dimensions:{width:t.maxImageResolutionWidth,height:t.maxImageResolutionHeight},urlDownload:t.urlDownload}};var gi=function e(t){return t.map(Ei)};var yi=gi;var Ai="NEXT_PAGE_ACTION";var Si="SEARCH_STRING_ACTION";var _i=function(e,t){if(t.type===Ai)return x()({},e,{page:e.page+1});if(t.type===Si)return x()({},e,{query:t.payload.search,page:1});throw new Error};var Ri=function e(t){var a=t.search;var r=Object(I["useReducer"])(_i,ii),n=te()(r,2),i=n[0],s=n[1];var o=Object(I["useState"])([]),c=te()(o,2),l=c[0],u=c[1];var d=Object(I["useState"])(qt.LOADING),m=te()(d,2),p=m[0],v=m[1];var f=Object(I["useState"])(true),b=te()(f,2),h=b[0],E=b[1];var g=0===l.length;Object(I["useEffect"])(function(){var s=(false,ci.bind(null,i));var e=function(){var t=Yr()(Ve.a.mark(function e(){var a,r,n;return Ve.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;i.page<=1&&v(qt.LOADING);t.next=4;return s();case 4:a=t.sent;r=a.data;n=yi(r.results);E(r.hasNextPage);if(n){t.next=10;break}throw new Error("EMPTY_RESPONSE");case 10:u(function(e){return r.hasPreviousPage?[].concat(D()(e),D()(n)):n});v(n.length?qt.LOADED:qt.LOADED_EMPTY);t.next=18;break;case 14:t.prev=14;t.t0=t["catch"](0);console.error(t.t0);v(qt.LOAD_ERROR);case 18:case"end":return t.stop()}},e,null,[[0,14]])}));return function e(){return t.apply(this,arguments)}}();h&&e()},[g,a,i]);var y=function e(t){E(true);v(qt.LOADING);s({type:Si,payload:{search:t}})};var A=function e(){return h&&s({type:Ai})};return T.a.createElement(hi,P()({assetLibrary:l,viewState:p,setSearchQuery:y,searchParams:i,handleOnNearBottom:A},t))};Ri.propTypes={onChooseUnlicensedAssets:_.a.func.isRequired};var Ci=Ri;var ji="/api/auth/sso/help?path=/hc/articles/360001994087";var ki={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};var Pi=function e(t){var a=t.asset,r=t.localizedPrice,n=t.onChooseImageToPreview,s=t.onRequestClose;var i=Ir(),o=i.trackCloseFileDetails,c=i.trackViewStockImageModal;Object(I["useEffect"])(function(){a&&c({expandedAsset:a,callToAction:Ar.PREVIEW})},[a]);var l=Object(z["b"])(),u=l.colors,d=l.fontSizes;var m={fontSize:d["0"],lineHeight:"11px",letterSpacing:"0.75px",color:u.gray["300"]};var p=qa("By: {artist}",{artist:a.artist},{project:"assetManagement.assetPicker"});return T.a.createElement(T.a.Fragment,null,T.a.createElement(Te["Cell"],{pl:4,pr:2,label:T.a.createElement(ge["a"].Body,{as:"span",sx:ki,label:a.title},a.title),description:T.a.createElement(ge["a"].Caption,{sx:ki,label:p},p),interiorPre:T.a.createElement(U["a"],{background:u.gray["900"],p:1},r),interiorAccessory:T.a.createElement(Dt,{onClick:function e(t){t.stopPropagation();s();o({expandedAsset:a})}},T.a.createElement(li["a"],null))}),T.a.createElement(he,{src:a.imageSrc,imageDimensions:a.dimensions,maxDimensions:{height:350,width:400}}),T.a.createElement(U["a"],{mx:4,mt:6,mb:4},T.a.createElement(B["a"],{width:"100%",mb:4,size:"large",onClick:function e(){n(a);s()}},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Preview on site")),T.a.createElement(ge["a"].Caption,{sx:x()({display:"block"},m)},T.a.createElement(Sa,{project:"assetManagement.assetPicker",localizedPrice:r},"License this image for {localizedPrice} after previewing on your site."),T.a.createElement(U["a"],null,T.a.createElement("a",{href:ji,target:"_blank",rel:"noopener noreferrer",style:m},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Learn more"))))))};Pi.propTypes={asset:_.a.object.isRequired,onRequestClose:_.a.func.isRequired,onChooseImageToPreview:_.a.func.isRequired,localizedPrice:_.a.string.isRequired};var Ii=Pi;var Ti=a("./src/main/webapp/frontend/packages/enums/SortOrders.js");var Oi=a.n(Ti);var wi=[{label:qa("Most Popular",null,{project:"assetManagement.assetPicker"}),value:Ti["MOST_POPULAR"]},{label:qa("Best Match",null,{project:"assetManagement.assetPicker"}),value:Ti["BEST_MATCH"]},{label:qa("Newest",null,{project:"assetManagement.assetPicker"}),value:Ti["NEWEST"]}];var xi=function e(t){var a=t.sortOrder,r=t.handleSort,n=ve()(t,["sortOrder","handleSort"]);return T.a.createElement(Un,P()({},n,{label:qa("Sort: ",null,{project:"assetManagement.assetPicker"}),options:wi,value:a,onChange:function e(t){t!==a&&r(t)}}))};xi.propTypes={sortOrder:_.a.string.isRequired,handleSort:_.a.func.isRequired};var Li=xi;var Di=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Adjust.js");var qi=a("./src/main/webapp/frontend/packages/enums/ImageFamilies.js");var Mi=a.n(qi);var Ni=function e(t){var a=[];var r={};Object.keys(t).forEach(function(e){r[e]=false;a.push({value:e,label:t[e]})});return{options:a,defaultValue:r}};var Fi;var Ui=Mi.a.CREATIVE,Vi=Mi.a.EDITORIAL;var Bi=(Fi={},C()(Fi,Ui,qa("Creative",null,{project:"assetManagement.assetPicker"})),C()(Fi,Vi,qa("Editorial",null,{project:"assetManagement.assetPicker"})),Fi);var zi=Ni(Bi),Gi=zi.options;var Wi={defaultValue:Ui,isRadio:true,title:qa("Image Family",null,{project:"assetManagement.assetPicker"}),options:Gi};var Hi=Wi;var Ki=a("./src/main/webapp/frontend/packages/enums/Orientations.js");var Yi=a.n(Ki);var Qi;var Xi=Yi.a.HORIZONTAL,Zi=Yi.a.VERTICAL,$i=Yi.a.SQUARE,Ji=Yi.a.PANORAMIC_HORIZONTAL,eo=Yi.a.PANORAMIC_VERTICAL;var to=(Qi={},C()(Qi,Xi,qa("Horizontal",null,{project:"assetManagement.assetPicker"})),C()(Qi,Zi,qa("Vertical",null,{project:"assetManagement.assetPicker"})),C()(Qi,$i,qa("Square",null,{project:"assetManagement.assetPicker"})),C()(Qi,Ji,qa("Panoramic Horizontal",null,{project:"assetManagement.assetPicker"})),C()(Qi,eo,qa("Panoramic Vertical",null,{project:"assetManagement.assetPicker"})),Qi);var ao=Ni(to),ro=ao.options,no=ao.defaultValue;var so={defaultValue:no,isRadio:false,title:qa("Orientations",null,{project:"assetManagement.assetPicker"}),options:ro};var io=so;var oo=a("./src/main/webapp/frontend/packages/enums/Compositions.js");var co=a.n(oo);var lo;var uo=co.a.ABSTRACT,mo=co.a.COPY_SPACE,po=co.a.CUT_OUT,vo=co.a.FULL_FRAME,fo=co.a.MACRO,bo=co.a.PORTRAIT,ho=co.a.SPARSE,Eo=co.a.STILL_LIFE;var go=(lo={},C()(lo,uo,qa("Abstract",null,{project:"assetManagement.assetPicker"})),C()(lo,fo,qa("Close up",null,{project:"assetManagement.assetPicker"})),C()(lo,mo,qa("Copy Space",null,{project:"assetManagement.assetPicker"})),C()(lo,ho,qa("Minimal",null,{project:"assetManagement.assetPicker"})),C()(lo,po,qa("Plain Background",null,{project:"assetManagement.assetPicker"})),C()(lo,bo,qa("Portrait",null,{project:"assetManagement.assetPicker"})),C()(lo,Eo,qa("Still Life",null,{project:"assetManagement.assetPicker"})),C()(lo,vo,qa("Wallpaper",null,{project:"assetManagement.assetPicker"})),lo);var yo=Ni(go),Ao=yo.options,So=yo.defaultValue;var _o={defaultValue:So,isRadio:false,title:qa("Image Style",null,{project:"assetManagement.assetPicker"}),options:Ao};var Ro=_o;var Co=a("./common/temp/node_modules/lodash/isEqual.js");var jo=a.n(Co);var ko=Object(I["createContext"])({});var Po=function e(){return Object(I["useContext"])(ko)};var Io=function e(t){var a=t.children;var r=Object(I["useState"])(false),n=te()(r,2),s=n[0],i=n[1];var o=function e(){return i(false)};var c=function e(){return i(true)};var l={imageFamily:Hi.defaultValue,compositions:Ro.defaultValue,orientations:io.defaultValue};var u=Object(I["useState"])(l),d=te()(u,2),m=d[0],p=d[1];var v=Object(I["useState"])(l),f=te()(v,2),b=f[0],h=f[1];var E=function e(t){var a=t.value;p(x()({},m,{imageFamily:a}))};var g=function e(t){var a=t.value,r=t.isChecked;p(x()({},m,{compositions:x()({},m.compositions,C()({},a,r))}))};var y=function e(t){var a=t.value,r=t.isChecked;p(x()({},m,{orientations:x()({},m.orientations,C()({},a,r))}))};var A=function e(){p(l)};var S=function e(){h(m)};var _=function e(){p(b)};var R=function e(){return!jo()(l,m)};return T.a.createElement(ko.Provider,{value:{closeFilterMenu:o,discardFilterChanges:_,handleChangeFamilyFilter:E,handleChangeOrientation:y,handleChangeStyle:g,isFilterOpen:s,isFiltersDirty:R,openFilterMenu:c,resetFilters:A,selectedFilters:m,setDirtyFilters:S}},a)};var To=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Radio/index.js");var Oo=function e(t){var a=t.RenderComponent,r=t.value,n=t.label,s=t.isChecked,i=t.onChange,o=ve()(t,["RenderComponent","value","label","isChecked","onChange"]);return T.a.createElement(ge["a"].Body,P()({},o,{key:r,as:"label",cursor:"pointer",position:"relative",display:"flex",alignItems:"center"}),T.a.createElement(a,{checked:s,mr:2,onChange:i,value:r}),n)};Oo.propTypes={RenderComponent:_.a.elementType.isRequired,label:_.a.string.isRequired,value:_.a.string.isRequired,isChecked:_.a.bool.isRequired,onChange:_.a.func.isRequired};var wo=function e(t){var a=t.title,r=t.isRadio,n=t.options,s=void 0===n?[]:n,i=t.onChange,o=t.isChecked,c=ve()(t,["title","isRadio","options","onChange","isChecked"]);var l=r?To["a"]:Te["Checkbox"];return T.a.createElement(U["a"],c,T.a.createElement(ge["a"].Label,{mb:2},a),s.map(function(e){var a=e.value,t=e.label;return T.a.createElement(Oo,{key:a,RenderComponent:l,mb:4,value:a,label:t,isChecked:o(a),onChange:function e(t){return i({value:a,isChecked:t})}})}))};wo.propTypes={title:_.a.string.isRequired,isChecked:_.a.func.isRequired,isRadio:_.a.bool.isRequired,options:_.a.arrayOf(_.a.shape({value:_.a.string.isRequired,label:_.a.string.isRequired})),onChange:_.a.func.isRequired};var xo=wo;var Lo=T.a.forwardRef(function(e,t){var a=e.onResetFilters,r=e.onApplyFilters;return T.a.createElement(V["a"],{py:4,px:6,width:"sizes.750",justifyContent:"space-between",ref:t},T.a.createElement(B["a"].Tertiary,{size:"1",onClick:a},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Reset")),T.a.createElement(B["a"].Primary,{size:"1",onClick:r,alignSelf:"right"},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Apply")))});Lo.propTypes={onApplyFilters:_.a.func.isRequired,onResetFilters:_.a.func.isRequired};var Do=Lo;var qo=T.a.forwardRef(function(e,t){var a=e.onRequestClose,r=e.onResetFilters,n=e.onApplyFilters;return T.a.createElement(V["a"],{ref:t,p:3,width:"fullwidth",justifyContent:"space-between",alignItems:"center"},T.a.createElement(B["a"].Tertiary,{onClick:a},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Close")),T.a.createElement(U["a"],null,T.a.createElement(B["a"].Tertiary,{mx:2,onClick:r},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Reset")),T.a.createElement(B["a"].Primary,{onClick:n,alignSelf:"right"},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Apply"))))});qo.propTypes={onApplyFilters:_.a.func.isRequired,onRequestClose:_.a.func.isRequired,onResetFilters:_.a.func.isRequired};var Mo=qo;var No=function e(t){var a=t.children,r=t.constrainTo,n=t.isOpen,s=t.onRequestClose,i=t.position;var o=Object(z["b"])(),c=o.sizes;return T.a.createElement(Te["Modal"].Transition,null,n&&T.a.createElement(Te["Modal"],{onRequestClose:s},T.a.createElement(Te["Modal"].Overlay,{background:"transparent"}),T.a.createElement(R["a"].Renderer,{render:{default:function e(t){return T.a.createElement(Te["Modal"].Position,P()({},t,{constrainTo:r,position:i,constrainOffset:{x:-1*parseInt(c.sizes[175],10),y:144}}))},"mobile-0":function e(t){return T.a.createElement(Te["Modal"].Position,t)}}},T.a.createElement(Te["Modal"].Dialog,{className:"image-picker-overlay escmanager-ignore",overflowY:"hidden"},a))))};var Fo=function e(t){var a=t.constrainTo,r=t.onApplyFilters,n=t.onRequestClose,s=t.position;var i=Po(),o=i.handleChangeFamilyFilter,c=i.handleChangeOrientation,l=i.handleChangeStyle,u=i.isFilterOpen,d=i.resetFilters,m=i.selectedFilters;var p=Object(za["a"])(),v=te()(p,2),f=v[0],b=v[1];var h=m.compositions,E=m.imageFamily,g=m.orientations;return T.a.createElement(No,{constrainTo:a,isOpen:u,onRequestClose:n,position:s},T.a.createElement(R["a"].Renderer,{render:{default:function e(t){return T.a.createElement(Do,P()({},t,{ref:f}))},"mobile-0":function e(t){return T.a.createElement(Mo,P()({},t,{ref:f}))}},onApplyFilters:r,onRequestClose:n,onResetFilters:d}),T.a.createElement(R["a"].Renderer,{render:{default:function e(t){return T.a.createElement(U["a"],P()({},t,{px:6,maxHeight:"374px"}))},"mobile-0":function e(t){var a=t.children,r=ve()(t,["children"]);return T.a.createElement(U["a"],P()({},r,{px:3,pb:2,maxHeight:"calc(100vh - ".concat(b.height,"px)")}),T.a.createElement(ge["a"].Title,{mt:0},T.a.createElement(Sa,{project:"assetManagement.assetPicker"},"Filter")),a)}},width:"100%",overflowX:"hidden",overflowY:"auto"},T.a.createElement(xo,P()({},Hi,{isChecked:function e(t){return t===E},onChange:o})),T.a.createElement(xo,P()({mt:6},Ro,{isChecked:function e(t){return h[t]},onChange:l})),T.a.createElement(xo,P()({mt:6},io,{isChecked:function e(t){return g[t]},onChange:c}))))};Fo.propTypes={onApplyFilters:_.a.func.isRequired,onRequestClose:_.a.func.isRequired,position:_.a.oneOf([_.a.string,_.a.element]),constrainTo:_.a.element.isRequired};Fo.defaultProps={position:"center"};var Uo=Fo;var Vo=function e(t){var a=t.onApplyFilters,r=t.constrainTo;var n=Object(I["useState"])(),s=te()(n,2),i=s[0],o=s[1];var c=Po(),l=c.closeFilterMenu,u=c.discardFilterChanges,d=c.isFiltersDirty,m=c.openFilterMenu,p=c.selectedFilters,v=c.setDirtyFilters;var f=Ir(),b=f.trackApplyFilters,h=f.trackOpenSearchFilterDropdown;var E=function e(){a(p);l();b({selectedFilters:p})};var g=function e(){m();v();h({selectedFilters:p})};var y=function e(){u();l()};return T.a.createElement(T.a.Fragment,null,T.a.createElement(Uo,{position:i,constrainTo:r,onApplyFilters:E,onRequestClose:y}),T.a.createElement(U["a"],{ref:o},T.a.createElement(Dt,{onClick:g},T.a.createElement(Di["a"],null),d()&&T.a.createElement(U["a"],{position:"absolute",borderRadius:"50%",backgroundColor:"gray.100",width:"sizes.75",height:"sizes.75",top:1,right:1}))))};Vo.propTypes={onApplyFilters:_.a.func.isRequired};var Bo=Vo;var zo=T.a.createElement(ge["a"].Label,{as:"a",href:"https://gettyimages.com",target:"_blank",rel:"noopener",display:"inline"},"Getty");var Go=function e(){return T.a.createElement(R["a"].Renderer,{render:{default:function e(){return T.a.createElement(ea,null)},"mobile-0":function e(){return T.a.createElement(U["a"],{sx:{flex:1}})}}})};var Wo=function e(t){var a=t.assetLibrary,r=t.handleOnNearBottom,n=t.localizedPrice,s=t.onApplyFilters,i=t.onChooseImageToPreview,o=t.onSearch,c=t.onSort,l=t.searchParams,u=t.viewState,d=ve()(t,["assetLibrary","handleOnNearBottom","localizedPrice","onApplyFilters","onChooseImageToPreview","onSearch","onSort","searchParams","viewState"]);var m=Ir(),p=m.trackPreviewStockImage,v=m.trackSearchAssetPicker,f=m.trackSortAssetPicker;var b=Po(),h=b.selectedFilters;var E=function e(t){i(t);p({stockImage:t})};var g=function e(t){c(t);f({type:t})};var y=function e(t){o(t);v({searchQuery:t,selectedFilters:h})};var A=function e(t){s(t);v({searchQuery:l.query,selectedFilters:t})};return T.a.createElement(Jt,P()({id:"getty-panel",title:qa("Premium Images",null,{project:"assetManagement.assetPicker"}),ExpandedAssetContents:function e(t){return T.a.createElement(Ii,P()({},t,{onChooseImageToPreview:E,localizedPrice:n}))}},d),T.a.createElement(da,{setSearchQuery:y,placeholder:qa("Search",null,{project:"assetManagement.assetPicker"}),initialSearchValue:l.query,renderAttribution:function e(){return T.a.createElement(Sa,{project:"assetManagement.assetPicker",attributionLink:zo,rel:"noopener"},"Powered by {attributionLink}")}},T.a.createElement(Li,{sortOrder:l.sortOrder,handleSort:g}),T.a.createElement(Go,null),T.a.createElement(Bo,{onApplyFilters:A,constrainTo:d.containerNode})),T.a.createElement(Cn,{assetLibrary:a,viewState:u,onNearBottom:r}))};Wo.propTypes={assetLibrary:_.a.array.isRequired,onChooseImageToPreview:_.a.func.isRequired,viewState:_.a.oneOf(Object.values(qt)),handleOnNearBottom:_.a.func.isRequired,onSearch:_.a.func.isRequired,localizedPrice:_.a.string.isRequired,onApplyFilters:_.a.func.isRequired,onSort:_.a.func.isRequired,searchParams:_.a.object};var Ho=Wo;var Ko={sortOrder:Oi.a.MOST_POPULAR,imageFamily:Mi.a.CREATIVE,query:"",page:1};var Yo=75;var Qo=function e(r){var t=Object.keys(r).filter(function(e){return"undefined"!==typeof r[e]}).map(function(t){var a=r[t];if("object"===Cr()(a))return Object.keys(a).filter(function(e){return a[e]}).map(function(e){return"".concat(t,"[]=").concat(e)}).join("&");if(Array.isArray(a))return a.map(function(e){return"".concat(t,"[]=").concat(e)}).join("&");return"".concat(t,"=").concat(a)}).join("&");return t};var Xo=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a="".concat(Vr,"api/getty/");var r=Qo(x()({},Ko,t));return vn.a.get("".concat(a,"search?").concat(r,"&pageSize=").concat(Yo))};var Zo=function e(){return vn.a.get("".concat(Vr,"api/licensed-assets/price-with-tax?source=1"))};var $o=function e(t){var a=parseInt(t.maxImageResolutionWidth,10);var r=parseInt(t.maxImageResolutionHeight,10);return x()({},t,{assetId:t.imageId,dimensions:{width:a,height:r},dimensionsString:"".concat(a,"x").concat(r),imageSrc:t.urlComp})};var Jo=function e(t){return t.map($o)};var ec=Jo;var tc="NEXT_PAGE_ACTION";var ac="SEARCH_STRING_ACTION";var rc="SORT_ACTION";var nc="FILTER_ACTION";var sc=function(e,t){if(t.type===tc)return x()({},e,{page:e.page+1});if(t.type===ac)return x()({},e,{query:t.payload.search,page:1});if(t.type===rc)return x()({},e,{sortOrder:t.payload.sortOrder});if(t.type===nc){var a=x()({},e,{imageFamily:Ko.imageFamily});delete a.compositions;delete a.orientations;return x()({},a,t.payload.filters)}throw new Error};var ic=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var oc=a.n(ic);var cc=a("./common/temp/node_modules/@sqs/cookie-cutter/index.js");var lc=a.n(cc);var uc=function e(t){var a=t;if(!t){var r=lc.a.get("ss_i18n");if(r){var n=JSON.parse(r);var s=n.currency;a=s}else a="USD"}var i={USD:10,EUR:9,GBP:8,AUD:14}[a];try{return Na(new oc.a(i,a),{trimZeroFractions:true})}catch(e){return"$10"}};var dc=uc;var mc=function e(t){var a=t.search;var r=Object(I["useReducer"])(sc,Ko),n=te()(r,2),i=n[0],s=n[1];var o=Object(I["useState"])([]),c=te()(o,2),l=c[0],u=c[1];var d=Object(I["useState"])(qt.LOADING),m=te()(d,2),p=m[0],v=m[1];var f=Object(I["useState"])(true),b=te()(f,2),h=b[0],E=b[1];var g=0===l.length;var y=Object(I["useState"])(dc),A=te()(y,2),S=A[0],_=A[1];Object(I["useEffect"])(function(){var e=function(){var t=Yr()(Ve.a.mark(function e(){var a,r;return Ve.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return Zo();case 3:a=t.sent;r=a.data;_(Ta(r.decimalValue,r.currencyCode,{trimZeroFractions:true}));t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](0);console.error(t.t0);case 11:case"end":return t.stop()}},e,null,[[0,8]])}));return function e(){return t.apply(this,arguments)}}();e()},[]);Object(I["useEffect"])(function(){var s=(false,Xo.bind(null,i));var e=function(){var t=Yr()(Ve.a.mark(function e(){var a,r,n;return Ve.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;i.page<=1&&v(qt.LOADING);t.next=4;return s();case 4:a=t.sent;r=a.data;n=ec(r.results);E(r.hasNextPage);if(n){t.next=10;break}throw new Error("EMPTY_RESPONSE");case 10:u(function(e){return r.hasPreviousPage?[].concat(D()(e),D()(n)):n});v(n.length?qt.LOADED:qt.LOADED_EMPTY);t.next=18;break;case 14:t.prev=14;t.t0=t["catch"](0);console.error(t.t0);v(qt.LOAD_ERROR);case 18:case"end":return t.stop()}},e,null,[[0,14]])}));return function e(){return t.apply(this,arguments)}}();h&&e()},[g,a,i]);var R=function e(t){E(true);v(qt.LOADING);s({type:ac,payload:{search:t}})};var C=function e(t){E(true);v(qt.LOADING);s({type:rc,payload:{sortOrder:t}})};var j=function e(t){E(true);v(qt.LOADING);s({type:nc,payload:{filters:t}})};var k=function e(){return h&&s({type:tc})};return T.a.createElement(Io,null,T.a.createElement(Ho,P()({assetLibrary:l,handleOnNearBottom:k,onSearch:R,onSort:C,onApplyFilters:j,searchParams:i,viewState:p,localizedPrice:S},t)))};mc.propTypes={onChooseImageToPreview:_.a.func.isRequired,search:_.a.func};var pc=mc},"./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$":function(e,t,a){var r={"./assetManagement.assetPicker.en-US.yaml":"./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/sqs-i18n-translations/strings/assetManagement.assetPicker.en-US.yaml"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}n.keys=function e(){return Object.keys(r)};n.resolve=s;e.exports=n;n.id="./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$"},"./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/sqs-i18n-translations/strings/assetManagement.assetPicker.en-US.yaml":function(e,t){e.exports={d93d04e01049eb6bb3ad1080373b9a24:"Error","061dc7570e510995674bd988dcf865b4":"An error occurred while loading the results. Please try again","24c5c444647a8a2fb62f2622586d2ef6":"No Files Found","1ec5747aad4c6d04eb78ea360d59c648":"Uploaded files will show here in your library for quick access when editing your site.",c26a544a282cff149e62528f4d46f88b:"Premium Images","3258ff4cf45fd18daa88af623b4c2b2b":"Search","1debfd5d607db8f2d83f1c023dc6d4b7":"Powered by {attributionLink}","32ae33903185d89d3d5bedc6f459e34c":"Add","42279366ccda1f82c02d224d621649ca":"My Library",c5ca0dcbe04b1894c317e1bbab3aee76:"Free Images","0737c5ce520e2651943de0ba061a3245":"Close","7272601a98442dc301917c84f0ae6c29":"By: {artist}","06efae40ae0dfc30fd120b2a4ae8a562":"Preview on site","5e5a96566e495f0e4dc71e160a564304":"License this image for {localizedPrice} after previewing on your site.","52e5fcc75fbf99cf3f18e3a70b86f4a3":"Learn more",b4f6a34e8bec6ba5935a60b17e5e93fc:"Most Popular",ac120a697803259298cf357e301aeb41:"Best Match","6c08b78418ac61ca37c4e71717ed33a3":"Newest",cca72540506eb17588f1e6efcbe31817:"Sort: ",d12e625db09db52e90fcf246ba4dc50b:"Filename",d8d3fd1eeb2f28739ec8fcc29954ac49:"Type",a7b4a4effcfc6e82b496d2f8f82ce5fd:"Added",c040ae16dd4a96ee90aecc3c60ffd93f:"Dimensions","12b795418df9f832577ade1a8caf4e8d":"Size",c810092b6bb932737a7af00a4325538c:"Name","0894f1721465cf2a921df1bb701d661f":"File Type","22ed67bc0ceaa0d53cebc77eb7e488f9":"Date Added","0b69873384925933ff93387e303652cc":"Oldest",b0bf47887c8acfc73694f0cfcea36bae:"Name A-Z","60cdfd3a1543ebfa69053f0ae1428c17":"Name Z-A","39f38ecce0092cce01bf125b1e39e180":"Unsplash's Terms","0ad3d455a7b25e53282cc10b1f98cfa7":"{name} Unsplash profile image","5a9e29a3c0719a3f0f7d8a1c7d8fb83f":"Add Image","0f60457468fe7d3c62937050140564f6":'This image is provided by a third party called Unsplash; it is not provided by Squarespace. By clicking "Add Image", you are agreeing to {termsLink} and you understand that you are publishing the image and are responsible for it. {learnMore}',b2fe9509d5ed6c3280670cab6e6a3aac:"Filter","1597b62cd4d064f4c50058a3bb627b1e":"Reset","4a877dee97cb3c79316785e39d626c4e":"Apply",b0c79571bb7e8f92aafd9870e1c85328:"Creative","5760cb8c65621dc2573652e048312171":"Editorial","575a61c2d4a19516039a6c77e5777c51":"Image Family","7997f9792a69c3a8736d3bc036c41d94":"Horizontal","5500fa9d36f301e129513c252c0e38c1":"Vertical","836b95085a0e9d76a2dac3dc923b127e":"Square",b4ca64322e72019437e188f014a5a87c:"Panoramic Horizontal","70823729d57cd74ce0810116ccd80234":"Panoramic Vertical","55bc730eed21b5dcc6119297e5334913":"Orientations","53e466febbda9648c2edbf17257e5fe6":"Abstract","8594a10dc9cc45c898b9c72d44d9d999":"Close up","12e256231140f41f6d5fba9cf702f29d":"Copy Space",feb8eb33fb399f68756f4b2321003350:"Minimal","18b214f23ecc81638719aceb475efa7e":"Plain Background","4e5c7dc7f973aff120df7d86a8bd6ca0":"Portrait",c502afa66fc772f089a1729ad7d4272e:"Still Life","16dc79537956ef47d722a8d485b08559":"Wallpaper","53425bfd948d1a25d607df0d4d869ca7":"Image Style"}},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/AssetPicker.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var P=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");a("./src/main/webapp/universal/src/shared/i18n/configurations/asset-picker.js");var I=r(a("./common/temp/node_modules/react/index.js"));var s=n(a("./common/temp/node_modules/prop-types/index.js"));var T=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var O=a("./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/lib/index.js");var w=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var x=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var L=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/PurchasedImageAPI.js"));var D=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var q=n(a("./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/createLicensedAssetsByAssetIdMap.js"));var M=n(a("./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/createLicensedAssetsBySourceIdMap.js"));var N=n(a("./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/separateLicensedAssetsFromStandardAssets.js"));var F="escmanager-ignore";var U="image-picker-overlay";var V="Cannot assemble data from null/undefined";var i=function e(t){var a,r;var n=t.baseZIndex,s=t.imageDestination,i=t.isOpen,o=t.onChooseAssetIds,c=t.onChooseImageUrl,l=t.onRequestClose,u=t.initialPanelId;var d=(0,I.useState)({}),m=(0,P.default)(d,2),p=m[0],v=m[1];var f=(0,I.useState)({}),b=(0,P.default)(f,2),h=b[0],E=b[1];(0,I.useEffect)(function(){i&&L.default.getAllWithThumbnails().then(function(e){var t=e.data;v((0,q.default)(t.thumbnails));E((0,M.default)(t.thumbnails))})},[i]);var g=(0,I.useCallback)(function(r){if(!r)throw new Error(V);L.default.getDownloadUrl(r).then(function(e){var t=e.data;var a={licensedAssetId:r.id,url:t.url,isLicensed:true};c({data:a})})},[c]);var y=(0,I.useCallback)(function(e){var t=(0,P.default)(e,1),r=t[0];var a=h[r.assetId];if(a){g(a);return}L.default.license(r.assetId).then(function(e){var t=e.data;var a={url:r.urlDownload,licensedAssetId:t.id,isLicensed:true};c({data:a})}).catch(function(e){console.error(e)})},[g,h,c]);var A=(0,I.useCallback)(function(e){var t=h[e.assetId];if(t){g(t);return}var a={licensedAssetPreview:e,url:e.urlWatermarkComp};c({data:a})},[g,h,c]);var S=(0,I.useCallback)(function(e){return(0,N.default)(e,p)},[p]);var _=(0,I.useCallback)(function(e){var t=S(e),a=t.assetIds,r=t.licensedAssets;a.length&&o({assetIds:a});r.length&&g(r[0])},[S,g,o]);var R=w.default.getState().id;var C=R;var j=null===(a=Static)||void 0===a?void 0:null===(r=a.SQUARESPACE_CONTEXT)||void 0===r?void 0:r.env;var k=x.default.getState().toJS().id;return I.default.createElement(T.Modal.Transition,null,O.AssetPicker&&i&&I.default.createElement(T.Modal,{onRequestClose:l,zIndex:n+50,onClick:function e(t){return t.stopPropagation()}},I.default.createElement(T.Modal.Overlay,null),I.default.createElement(T.Modal.Position,{position:"center"},I.default.createElement(T.Modal.Dialog.ResponsiveProvider,null,I.default.createElement(T.Modal.Dialog,{className:(0,D.default)(U,F)},I.default.createElement(O.AssetPicker,{environment:j,eventTracking:{imageDestination:s,userMemberAccountId:k,websiteId:R,websiteLocale:"en-US"},onRequestClose:l,selectLimit:1,initialPanelId:u},I.default.createElement(O.MyLibraryPanel,{assetLibraryId:C,onChooseAssetIds:_}),I.default.createElement(O.UnsplashPanel,{onChooseUnlicensedAssets:y}),I.default.createElement(O.GettyPanel,{onChooseImageToPreview:A})))))))};i.propTypes={baseZIndex:s.default.number,isOpen:s.default.bool.isRequired,onChooseAssetIds:s.default.func.isRequired,onChooseImageUrl:s.default.func.isRequired,onRequestClose:s.default.func.isRequired,imageDestination:s.default.string.isRequired};i.defaultProps={baseZIndex:31e3};var o=i;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/createLicensedAssetsByAssetIdMap.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a("./src/main/webapp/universal/src/shared/utils/error-reporter/global-sentry.ts");var n=function e(t){return t.reduce(function(e,t){if(t.thumbnail)e[t.thumbnail.systemDataId]=t.licensedAsset;else{var a=t.licensedAsset?t.licensedAsset.id:"";(0,r.withScope)(function(e){e.setTag("project","asset-picker");e.setTag("missingLicensedAsset",a);(0,r.captureMessage)("Licensed Asset with missing thumbnail")})}return e},{})};t.default=n;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/createLicensedAssetsBySourceIdMap.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a("./src/main/webapp/universal/src/shared/utils/error-reporter/global-sentry.ts");var n=function e(t){return t.reduce(function(e,t){if(t.licensedAsset)e[t.licensedAsset.assetId]=t.licensedAsset;else{var a=t.thumbnail?t.thumbnail.id:"";(0,r.withScope)(function(e){e.setTag("project","asset-picker");e.setTag("missingThumbnail",a);(0,r.captureMessage)("Licensed Asset Thumbnail with missing licensedAsset")})}return e},{})};t.default=n;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/separateLicensedAssetsFromStandardAssets.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=function e(t,a){return t.reduce(function(e,t){a[t]?e.licensedAssets.push(a[t]):e.assetIds.push(t);return e},{assetIds:[],licensedAssets:[]})};t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/shared/i18n/configurations/asset-picker.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var n=a("./src/main/webapp/frontend/packages/asset-management/asset-picker/asset-picker/lib/i18n/index.js");var s=r(a("./src/main/webapp/universal/src/shared/i18n/index.ts"));(0,n.setI18nInstance)(s.default)}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/async-asset-picker-modal-5ebbd09bfc3af327a6d7c-min.en-US.js.map