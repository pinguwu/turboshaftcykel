(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[25],{"./src/main/webapp/frontend/packages/enums/FormBackendConnectionState.js":function(e,t){var a={CONNECTED:1,DISCONNECTED:2,PENDING:3};e.exports=a},"./src/main/webapp/frontend/packages/enums/FormBackendConnectionType.js":function(e,t){var a={GOOGLE:1,MAILCHIMP:2,EMAIL:3,SITE_USER:4,ZAPIER:5,CAMPAIGNS:6};e.exports=a},"./src/main/webapp/universal/src/shared/actions/CampaignsConfigActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var o=n(a("./src/main/webapp/universal/src/shared/utils/CampaignsConfigApi.js"));var l=n(a("./src/main/webapp/frontend/packages/enums/FormBackendConnectionState.js"));var u=function(){function e(){(0,r.default)(this,e);this.generateActions("loadFromCheckoutSettingsSuccess","loadFromSavedDataSuccess","changeSelectedListId","showValidationError","connectSuccess","connectFailure","saveSuccess","disconnect","reset")}(0,s.default)(e,[{key:"loadFromSavedData",value:function e(){var t=this;var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){if(a.connectionState!==l.default.CONNECTED)return t.reset();e({savedData:a,listId:a.listId});return o.default.getLists().then(t.loadFromSavedDataSuccess).catch(t.connectFailure)}}},{key:"connect",value:function e(){var t=this;return function(e){e();return o.default.getLists().then(t.connectSuccess).catch(t.connectFailure)}}}]);return e}();var c=i.default.createActions(u);t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/shared/actions/MailChimpConfigActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var l=a("./src/main/webapp/universal/src/shared/utils/MailChimpConfigApi.js");var u=a("./src/main/webapp/universal/src/shared/utils/ExternalAuthentication.js");var c=a("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js");var d=function(){function e(){(0,r.default)(this,e);this.generateActions("loadSuccess","loadFromSavedDataSuccess","connectFailure","updateFailure","disconnectMailChimp","closeDidFailAlert","saveSuccess","reset","changeListId","changeUseSingleOptIn","mailChimpValidationError","closeNoListsAlert","savePreviousSettings","restorePreviousSettings")}(0,s.default)(e,[{key:"loadFromSavedData",value:function e(){var a=this;var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){if(!n.socialConfig||!n.socialConfig.externalAuthenticationId)return a.loadFromSavedDataSuccess({savedData:n});var t=n.socialConfig.externalAuthenticationId;l.getLists(t).then(function(e){a.loadFromSavedDataSuccess({savedData:n,lists:e})},a.connectFailure).catch(a.connectFailure);e()}}},{key:"connectSuccess",value:function e(t,a,n){return{accountDetail:t,lists:a,socialConfig:n}}},{key:"connectMailChimp",value:function e(t){var s=this;return function(e){var t={serviceProvider:c.MAILCHIMP,params:{authenticationType:"website",startSubscription:true}};u.authenticate(t).then(function(e){if(e.socialConfig){var t=e.socialConfig.externalAuthenticationId;return Promise.all([l.getAccountDetail(t),l.getLists(t),e.socialConfig])}},s.updateFailure).then(function(e){var t=(0,i.default)(e,3),a=t[0],n=t[1],r=t[2];s.connectSuccess(a.data,n,r)},s.connectFailure).catch(s.connectFailure);e()}}}]);return e}();e.exports=o.createActions(d)},"./src/main/webapp/universal/src/shared/components/CampaignsConfig.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var s=n(a("./common/temp/node_modules/prop-types/index.js"));var m=n(a("./common/temp/node_modules/react/index.js"));var p=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var f=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var h=n(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var v=n(a("./src/main/webapp/universal/src/shared/stores/CampaignsConfigStore.js"));var C=n(a("./src/main/webapp/universal/src/shared/actions/CampaignsConfigActions.js"));var b=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var g=n(a("./src/main/webapp/universal/src/shared/components/CampaignsConfigDescription.jsx"));var y=n(a("./src/main/webapp/universal/src/shared/components/CampaignsConfig.less"));function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),true).forEach(function(e){(0,d.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _(r){var s=k();return function e(){var t=(0,c.default)(r),a;if(s){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,u.default)(this,a)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var M=document.location.hostname;var S="https://".concat(M,"/config/marketing/campaigns");var O=function(e){(0,l.default)(s,e);var n=_(s);function s(){var r;(0,i.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];r=n.call.apply(n,[this].concat(t));(0,d.default)((0,o.default)(r),"handleContainerClick",function(e){e.stopPropagation();var t=r.props,a=t.isConnected,n=t.lists;if(!a)return C.default.connect();0===n.length&&window.open(S)});(0,d.default)((0,o.default)(r),"handleDisconnectIconClick",function(){r.props.isConnected&&C.default.disconnect()});(0,d.default)((0,o.default)(r),"handleChange",function(e){C.default.changeSelectedListId(e)});(0,d.default)((0,o.default)(r),"renderMailingListOptions",function(){var e=r.props.lists;return e.map(function(e){var t=e.id,a=e.name;return m.default.createElement("option",{key:t,value:t},a)})});(0,d.default)((0,o.default)(r),"renderSelect",function(){var e=r.props,t=e.lists,a=e.selectedListId;var n=t.find(function(e){var t=e.id;return t===a})?a:"";return m.default.createElement("div",{className:y.default.labelAndSelect},m.default.createElement(f.Label,{className:y.default.label},m.default.createElement(b.T,{project:"src.shared"},"Mailing List")),m.default.createElement(f.Select,{wrapperClassName:y.default.select,value:n,onChange:r.handleChange,type:"light"},r.renderMailingListOptions()))});return r}(0,r.default)(s,[{key:"render",value:function e(){var t=this.props,a=t.isConnected,n=t.isConnecting,r=t.hasConnectionError,s=t.lists;var i=a&&s.length>0;var o=(0,p.default)(y.default.container,(0,d.default)({},y.default.connected,i));return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:o,onClick:this.handleContainerClick},m.default.createElement("div",{className:y.default.titleAndButton},m.default.createElement("div",{className:y.default.title},m.default.createElement(b.T,{project:"src.shared"},"Squarespace Email Campaigns")),m.default.createElement("div",{className:y.default.button,onClick:this.handleDisconnectIconClick},m.default.createElement("div",{className:y.default.icon}))),m.default.createElement("div",{className:y.default.descriptionContainer},m.default.createElement(g.default,{isConnected:a,isConnecting:n,hasConnectionError:r,lists:s}),i&&this.renderSelect())),a&&m.default.createElement("p",{className:(0,p.default)(y.default.description,y.default.postDescription)},m.default.createElement(b.T,{campaignsDashboard:m.default.createElement("a",{href:S,target:"_blank"},m.default.createElement(b.T,{project:"src.shared"},"Email Campaigns dashboard")),project:"src.shared"},"To manage this mailing list and customize the confirmation email, go to the {campaignsDashboard}.")))}}]);return s}(m.default.Component);(0,d.default)(O,"propTypes",{initialData:s.default.object,isConnecting:s.default.bool.isRequired,isConnected:s.default.bool.isRequired,isDirty:s.default.bool,lists:s.default.array.isRequired,selectedListId:s.default.string,wasRemoved:s.default.bool,hasConnectionError:s.default.bool});var D=(0,h.default)({getStores:function e(){return[v.default]},componentDidConnect:function e(t){C.default.loadFromSavedData.defer(t.initialData)},getPropsFromStores:function e(){var t=v.default.getState();return w({},t)}},O);t.default=D;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/CampaignsConfig.less":function(e,t,a){e.exports={container:"_3kMxH54LU",icon:"_3Sk3LvgFt",titleAndButton:"_3x92aaJpI",title:"e4b3Ekc8F",button:"_3-Rl7_zgS",descriptionContainer:"_1LRvXGijc",connected:"_1Szn1sDZ_",labelAndSelect:"rsiHJAlfi",label:"_2fERgHpsE",select:"_2LeGNv31C",description:"c4_7fcJOk",innerDescription:"_22rGqbfHQ",postDescription:"hKU_3XQ9o"}},"./src/main/webapp/universal/src/shared/components/CampaignsConfigDescription.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/prop-types/index.js"));var m=n(a("./common/temp/node_modules/react/index.js"));var p=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var f=n(a("./src/main/webapp/universal/src/shared/components/CampaignsConfig.less"));var c={CONNECTING:(0,s.t)("Connecting..."),CONNECTION_ERROR:(0,s.t)("There was an issue retrieving your Squarespace Email Campaigns lists. Please try again later."),CONNECT:(0,s.t)("Click to connect"),NO_LISTS:(0,s.t)("Click here to create a mailing list. Then come back to this page to link it with this block.")};var h=function e(t){var a=t.isConnecting,n=void 0!==a&&a,r=t.hasConnectionError,s=void 0!==r&&r,i=t.isConnected,o=void 0!==i&&i,l=t.isMissingLists,u=void 0!==l&&l;if(n)return c.CONNECTING;if(s)return c.CONNECTION_ERROR;if(!o)return c.CONNECT;if(u)return c.NO_LISTS;return""};var i=function e(t){var a=t.isConnecting,n=void 0!==a&&a,r=t.hasConnectionError,s=void 0!==r&&r,i=t.isConnected,o=void 0!==i&&i,l=t.lists,u=void 0===l?[]:l;var c=o&&0===u.length;var d=h({isConnecting:n,hasConnectionError:s,isConnected:o,isMissingLists:c});return d&&m.default.createElement("div",{className:(0,p.default)(f.default.description,f.default.innerDescription)},m.default.createElement("span",null,d))};i.propTypes={isConnecting:r.default.bool,hasConnectionError:r.default.bool,isConnected:r.default.bool,lists:r.default.array};var o=i;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/Badge/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=n(a("./common/temp/node_modules/@sqs/core-components/lib/web/FeatureGateBadge.js"));var s=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/withLabelsAndAnalytics.js"));var i=(0,s.default)(r.default);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/ConfirmationModal.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=n(a("./common/temp/node_modules/prop-types/index.js"));var p=n(a("./common/temp/node_modules/react/index.js"));var f=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js");var h=n(a("./common/temp/node_modules/@sqs/core-components/lib/web/FeatureGateBadge.js"));var v=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var C=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/ConfirmationModal.less"));function b(r){var s=g();return function e(){var t=(0,c.default)(r),a;if(s){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,o.default)(this,a)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var y=function(e){(0,i.default)(a,e);var t=b(a);function a(){(0,r.default)(this,a);return t.apply(this,arguments)}(0,s.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.positionToMouse,n=t.premiumFeatureLabel,r=t.confirmTitle,s=t.confirmDescription,i=(0,u.default)(t,["positionToMouse","premiumFeatureLabel","confirmTitle","confirmDescription"]);var o=this.props.anchor;o=o||(a?"mousepointer":"window");return p.default.createElement(f.Modal,(0,l.default)({},i,{anchor:o,theme:"damask"}),p.default.createElement(f.Modal.Body,{className:C.default.confirmModal},p.default.createElement(h.default,{premiumFeatureLabel:n}),r&&p.default.createElement("p",{className:C.default.confirmTitle},r),p.default.createElement("p",{className:C.default.confirmDescription},s),p.default.createElement(f.Modal.Button,{onClick:this.props.onRequestClose},p.default.createElement(v.T,{project:"src.shared"},"Okay"))))}}]);return a}(p.default.Component);(0,d.default)(y,"propTypes",{anchor:m.default.oneOf(["window","mousepointer"]),confirmDescription:m.default.node.isRequired,confirmTitle:m.default.string.isRequired,isOpen:m.default.bool.isRequired,onRequestClose:m.default.func.isRequired,positionToMouse:m.default.bool,premiumFeatureLabel:m.default.string.isRequired});(0,d.default)(y,"defaultProps",{anchor:"window",onDismiss:function e(){},onUpgrade:function e(){},positionToMouse:true,theme:"damask"});var j=y;t.default=j;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/ConfirmationModal.less":function(e,t,a){e.exports={confirmModal:"_7B-azbGGa",confirmTitle:"_3P1weRXEh"}},"./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/index.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/ConfirmationModal.js"));var s=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/withLabels.js"));var i=(0,s.default)(r.default);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/withLabels.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var l=n(a("./common/temp/node_modules/react/index.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/shared/constants/FeatureGateDefaultCopy.js"));var r=function e(s){return function(e){var t=e.isTrial,a=e.confirmDescription,n=e.confirmTitle,r=(0,o.default)(e,["isTrial","confirmDescription","confirmTitle"]);a=a||(t?u.default.trialConfirmDescription:u.default.confirmDescription);n=n||(t?u.default.trialConfirmTitle:u.default.confirmTitle);return l.default.createElement(s,(0,i.default)({premiumFeatureLabel:u.default.premiumFeatureLabel,confirmDescription:a,confirmTitle:n},r))}};t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/Logo/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=n(a("./common/temp/node_modules/@sqs/core-components/lib/web/FeatureGateLogo.js"));var s=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/withLabelsAndAnalytics.js"));var i=(0,s.default)(r.default);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/Menu/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=n(a("./common/temp/node_modules/@sqs/core-components/lib/web/FeatureGateMenu.js"));var s=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/withLabelsAndAnalytics.js"));var i=(0,s.default)(r.default);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/Message/FeatureGateMessage.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=n(a("./common/temp/node_modules/react/index.js"));var m=r(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Message/FeatureGateMessage.less"));var p=r(a("./common/temp/node_modules/prop-types/index.js"));var f=r(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var h=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var v=a("./src/main/webapp/universal/src/shared/i18n/index.ts");function C(r){var s=b();return function e(){var t=(0,u.default)(r),a;if(s){var n=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var g=function(e){(0,o.default)(a,e);var t=C(a);function a(){(0,s.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.title,n=t.subTitle,r=t.className,s=t.onRequestUpgrade,i=t.upgradeLabel;return d.default.createElement("div",{className:(0,f.default)(m.default.message,r)},d.default.createElement("div",{className:m.default.title},a),d.default.createElement("div",{className:m.default.subTitle},n),d.default.createElement(h.BaseButton,{onClick:s,className:m.default.upgradeButton},i))}}]);return a}(d.Component);(0,c.default)(g,"propTypes",{title:p.default.string.isRequired,subTitle:p.default.string.isRequired,upgradeLabel:p.default.string.isRequired,onRequestUpgrade:p.default.func});(0,c.default)(g,"defaultProps",{upgradeLabel:(0,v.t)("Upgrade Now")});var y=g;t.default=y;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/Message/FeatureGateMessage.less":function(e,t,a){e.exports={message:"_1HPp98BNU",title:"_35KWWIvkb",subTitle:"_3dVRTAzQ6",upgradeButton:"YWyNSnQlV"}},"./src/main/webapp/universal/src/shared/components/FeatureGate/Message/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Message/FeatureGateMessage.js"));var s=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/withLabelsAndAnalytics.js"));var i=(0,s.default)(r.default);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/UpgradeModalStandalone/UpgradeModalStandalone.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=r(a("./common/temp/node_modules/prop-types/index.js"));var f=n(a("./common/temp/node_modules/react/index.js"));var h=a("./src/main/webapp/universal/src/shared/components/FeatureGate/UpgradeModal/index.jsx");var v=a("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var C=r(a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var b=a("./src/main/webapp/frontend/packages/universal-router/lib/index.js");function g(r){var s=y();return function e(){var t=(0,d.default)(r),a;if(s){var n=(0,d.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var j=function(e){(0,u.default)(a,e);var t=g(a);function a(e){var i;(0,o.default)(this,a);i=t.call(this,e);(0,m.default)((0,l.default)(i),"handleUpgradeModalUpgradeClick",function(e){var t=i.props,a=t.isTrial,n=t.router,r=t.eventTracker;r();e.stopPropagation();i.handleUpgradeModalDismiss(e);i.handleTrackingEvents("upgrade_click");var s=a?v.UpsellUrls[v.UpsellDestination.TRIAL_UPGRADE_PLAN]:v.UpsellUrls[v.UpsellDestination.UPGRADE_PLAN];n?n.push({pathname:s}):window.location.assign("/config".concat(s))});(0,m.default)((0,l.default)(i),"handleUpgradeModalDismiss",function(e){e.stopPropagation();i.setState({isUpgradeModalOpen:false})});(0,m.default)((0,l.default)(i),"handleTrackingEvents",function(e){var t=i.props,a=t.analyticsId,n=t.isTrial;(0,C.default)("feature_gate",{action:e,identifier:a,isTrial:n})});i.state=a.defaultState;i.handleTrackingEvents("display");return i}(0,i.default)(a,[{key:"render",value:function e(){var t=this.state.isUpgradeModalOpen;var a=this.props.isTrial;if(t)return f.default.createElement(h.UpgradeModalWithLabels,(0,s.default)({isOpen:t,key:"upgrade-modal",isTrial:a,onRequestClose:this.handleUpgradeModalDismiss,onRequestUpgrade:this.handleUpgradeModalUpgradeClick},this.props));return null}}]);return a}(f.Component);(0,m.default)(j,"propTypes",{analyticsId:p.default.string.isRequired,isTrial:p.default.bool.isRequired,router:b.RouterPropType.isRequired,anchor:p.default.oneOf(["window","mousepointer"]),eventTracker:p.default.func});(0,m.default)(j,"defaultProps",{anchor:"mousepointer"});(0,m.default)(j,"defaultState",{isUpgradeModalOpen:true});var w=(0,b.withRouter)(j);t.default=w;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/FeatureGate/UpgradeModalStandalone/index.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return r.default}});var r=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/UpgradeModalStandalone/UpgradeModalStandalone.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/shared/components/MailChimpConfig.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(r){var s=p();return function e(){var t=(0,c.default)(r),a;if(s){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,u.default)(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var r=a("./common/temp/node_modules/prop-types/index.js");var f=a("./common/temp/node_modules/react/index.js");var h=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),v=h.Check,C=h.Select;var b=a("./src/main/webapp/universal/src/shared/actions/MailChimpConfigActions.js");var g=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),y=g.Alert;var j=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var w=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var _=a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js");var k=a("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var M=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var S=a("./src/main/webapp/frontend/packages/enums/Features.js");var O=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),D=O.t;var E=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),T=E.T;var R=a("./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js");var I=a("./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/index.jsx");var L=a("./src/main/webapp/universal/src/shared/components/MailChimpConfig.less");var x=function(e){(0,o.default)(r,e);var n=m(r);function r(){var o;(0,s.default)(this,r);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];o=n.call.apply(n,[this].concat(t));(0,d.default)((0,l.default)(o),"state",{showMailchimpWarning:false});(0,d.default)((0,l.default)(o),"handleContainerClick",function(){var e=o.props,t=e.isMailChimpConnected,a=e.shouldShowMailchimpWarning,n=e.showConnectionFailedAlert;if(!t)if(a){R.trackInternal("upsell_confirmation_mailchimp_show");o.setState({showMailchimpWarning:true})}else n||b.connectMailChimp()});(0,d.default)((0,l.default)(o),"getDescription",function(){var e=o.props,t=e.isMailChimpConnected,a=e.isConnecting,n=e.mailChimpError,r=e.mailChimpUsername;if(n)return D("Error connecting to MailChimp");if(t)return D("As {username}",{username:r});if(a)return D("Connectingâ€¦");return D("Click to connect")});(0,d.default)((0,l.default)(o),"handleIconClick",function(){var e=o.props.isMailChimpConnected;e&&b.disconnectMailChimp()});(0,d.default)((0,l.default)(o),"handleCloseMailchimpWarning",function(){o.setState({showMailchimpWarning:false});b.connectMailChimp()});(0,d.default)((0,l.default)(o),"renderMailingListOptions",function(){var e=o.props.mailChimpLists;return e.map(function(e){var t=e.title,a=e.value;return f.createElement("option",{key:a,value:a},t)})});(0,d.default)((0,l.default)(o),"renderOAuthFailedAlert",function(){var e=o.props.showConnectionFailedAlert;return f.createElement(y,{key:"oauth-failed-alert",isOpen:e,onDismiss:b.closeDidFailAlert,title:D("External Authentication Error"),dismissText:D("Okay"),anchor:"window"},f.createElement(T,{project:"src.shared"},"Unable to connect to external service."))});(0,d.default)((0,l.default)(o),"renderNoListsAlert",function(){var e=o.props.showNoMailChimpListsAlert;return f.createElement(y,{key:"no-lists-alert",isOpen:e,onDismiss:b.closeNoListsAlert,title:D("No MailChimp Lists Created"),dismissText:D("Okay"),anchor:"window"},f.createElement(T,{project:"src.shared"},"Connecting to MailChimp requires an existing MailChimp mailing list. Please create one to continue."))});(0,d.default)((0,l.default)(o),"renderIcon",function(){return f.createElement("div",{className:L.button,onClick:o.handleIconClick},f.createElement("div",{"data-test":"mailchimp-config-icon",className:L.icon}))});(0,d.default)((0,l.default)(o),"renderSelect",function(){var e=o.props,t=e.mailChimpListId,a=e.showMailingListRequiredError;var n=[f.createElement("option",{key:"placeholder-option",value:""},"Select Lists")];var r=o.renderMailingListOptions();var s=a?D("Select a list"):null;var i=r.some(function(e){return e.props.value===t})?t:"";return f.createElement(C,{wrapperClassName:L.select,value:i,onChange:function e(t){b.changeListId(t)},type:"light",errorMessage:s},n.concat(r))});(0,d.default)((0,l.default)(o),"renderDoubleOptInConfig",function(){var e=o.props.mailChimpUseSingleOptIn;var t=!e;var a=j(L.check,(0,d.default)({},L.active,t));return f.createElement("div",{className:L.sectionContainer},f.createElement(v,{className:a,wrapperClassName:L.checkWrapper,title:D("Require double opt-in after subscribing"),value:t,onChange:function e(t){b.changeUseSingleOptIn(!t)}}))});(0,d.default)((0,l.default)(o),"renderMailchimpWarning",function(){var e=o.state.showMailchimpWarning;return f.createElement(I,{key:"mailchimp-warning",isOpen:e,isTrial:_.isTrial(),onRequestClose:o.handleCloseMailchimpWarning})});return o}(0,i.default)(r,[{key:"render",value:function e(){var t;var a=this.props.isMailChimpConnected;var n=j(L.container,(t={},(0,d.default)(t,L.connected,a),(0,d.default)(t,L.disconnected,!a),t));var r=a?"mailchimp-config-connected":void 0;return[f.createElement("div",{key:"container",className:n,onClick:this.handleContainerClick,"data-test":r},f.createElement("div",{className:L.sectionContainer},f.createElement("div",{"data-test":"MailChimpConfig-descriptionContainer",className:L.descriptionContainer},f.createElement("div",{className:L.title},"MailChimp"),f.createElement("div",{className:L.description},this.getDescription())),a&&this.renderSelect(),this.renderIcon()),a&&this.renderDoubleOptInConfig()),this.renderNoListsAlert(),this.renderOAuthFailedAlert(),this.renderMailchimpWarning()]}}]);return r}(f.Component);(0,d.default)(x,"propTypes",{isConnecting:r.bool.isRequired,isMailChimpConnected:r.bool.isRequired,mailChimpError:r.bool.isRequired,mailChimpListId:r.string,mailChimpLists:r.arrayOf(r.object),mailChimpUsername:r.string,mailChimpUseSingleOptIn:r.bool,showConnectionFailedAlert:r.bool.isRequired,showMailingListRequiredError:r.bool.isRequired,showNoMailChimpListsAlert:r.bool.isRequired,shouldShowMailchimpWarning:r.bool.isRequired});e.exports=w({getStores:function e(){return[_,M]},getPropsFromStores:function e(){var t=_.getState(),a=t.siteStatus;var n=!M.isFeatureInAllPlans(S.MAILCHIMP_INTEGRATION)&&a===k.TRIAL;return{shouldShowMailchimpWarning:n}}},x)},"./src/main/webapp/universal/src/shared/components/MailChimpConfig.less":function(e,t,a){e.exports={container:"_3D9hdsZDX",disconnected:"CcrOoKrwy",icon:"_3XdJOPZyo",descriptionContainer:"_27lSQwVyh",sectionContainer:"_1_A9Q67p-",connected:"_1exwfcbd7",button:"_1PBfuBTFB",select:"HTrDG2QPy",check:"_2YbkiarhT _2fuHwGhUz",active:"_3BGccezmn",checkWrapper:"_2_YoRIISj",title:"_16z0onN08",description:"_2oGO3gU12"}},"./src/main/webapp/universal/src/shared/stores/CampaignsConfigStore.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var l=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var u=n(a("./src/main/webapp/frontend/packages/enums/FormBackendConnectionState.js"));var c=n(a("./src/main/webapp/frontend/packages/enums/FormBackendConnectionType.js"));var d=n(a("./src/main/webapp/universal/src/shared/actions/CampaignsConfigActions.js"));function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),true).forEach(function(e){(0,o.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var f={initialData:{connectionState:u.default.DISCONNECTED,listId:null},isConnecting:false,isConnected:false,isDirty:false,lists:[],selectedListId:null,wasRemoved:false,hasConnectionError:false};var h=function(){function t(){var e=this;(0,r.default)(this,t);(0,o.default)(this,"isReady",function(){return e.state.hasConnectionError||e.state.isConnected});(0,o.default)(this,"isConnected",function(){return e.state.isConnected&&e.state.selectedListId});(0,o.default)(this,"getConnectionData",function(){return e.isConnected()?{backendType:c.default.CAMPAIGNS,connectionState:u.default.CONNECTED,listId:e.state.selectedListId}:{backendType:c.default.CAMPAIGNS,connectionState:u.default.DISCONNECTED,listId:null}});this.state=p({},f);this.bindActions(d.default);this.exportPublicMethods({getConnectionData:this.getConnectionData,isConnected:this.isConnected,isReady:this.isReady})}(0,s.default)(t,[{key:"onLoadFromSavedData",value:function e(t){var a=t.savedData,n=t.listId;this.setState({initialData:a,selectedListId:n})}},{key:"onLoadFromSavedDataSuccess",value:function e(t){var a=t.results;var n=null!==this.state.initialData.listId;this.setState({isConnected:true,isDirty:!n,lists:a})}},{key:"onLoadFromCheckoutSettingsSuccess",value:function e(t){var a=t.storeMailingListSettings;var n=a.isCampaignsConnected,r=a.campaignsListId,s=a.campaignsMailingLists;this.setState({isConnected:n,isDirty:false,selectedListId:r,lists:s,initialData:{connectionState:n?u.default.CONNECTED:u.default.DISCONNECTED,listId:r}})}},{key:"onChangeSelectedListId",value:function e(t){t&&this.setState({isDirty:true,selectedListId:t})}},{key:"onConnect",value:function e(){this.setState({isConnecting:true,hasConnectionError:false})}},{key:"onConnectSuccess",value:function e(t){var a=t.results;var n={isConnecting:false,isConnected:true,lists:a,wasRemoved:false};if(!this.state.selectedListId){var r=(0,i.default)(a,1),s=r[0].id;n.selectedListId=s;n.isDirty=true}this.setState(n)}},{key:"onConnectFailure",value:function e(){this.setState({isConnecting:false,hasConnectionError:true})}},{key:"onDisconnect",value:function e(){this.setState(p({},f,{initialData:this.state.initialData,isDirty:true,wasRemoved:true}))}},{key:"onSaveSuccess",value:function e(){this.setState({isDirty:false,initialData:this.getConnectionData()})}},{key:"onReset",value:function e(){this.setState(p({},f))}}]);return t}();var v=l.default.createStore(h,"CampaignsConfigStore");t.default=v;e.exports=t.default},"./src/main/webapp/universal/src/shared/stores/MailChimpConfigStore.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var o=a("./common/temp/node_modules/immutable/dist/immutable.js");var l=a("./src/main/webapp/universal/src/shared/actions/MailChimpConfigActions.js");var u=a("./src/main/webapp/universal/src/shared/utils/MailChimpConfigRecord.js");var c=a("./src/main/webapp/frontend/packages/enums/FormBackendConnectionState.js");var d=function(){function t(){(0,r.default)(this,t);var e=new u;this.state={initialMailChimpConfig:e,mailChimpConfig:e,isDirty:false,showConnectionFailedAlert:false,isConnecting:false,showMailingListRequiredError:false,showNoMailChimpListsAlert:false,previousMailChimpConfig:null,wasRemoved:false};this.bindActions(l)}(0,s.default)(t,[{key:"onSavePreviousSettings",value:function e(){var t=this.state.mailChimpConfig;this.setState({previousMailChimpConfig:t,mailChimpConfig:new u})}},{key:"onRestorePreviousSettings",value:function e(){var t=this.state.previousMailChimpConfig;t&&this.setState({mailChimpConfig:t,previousMailChimpConfig:null})}},{key:"onMailChimpValidationError",value:function e(){this.setState({showMailingListRequiredError:true})}},{key:"onConnectMailChimp",value:function e(){this.setState({wasRemoved:false,isConnecting:true})}},{key:"onLoadSuccess",value:function e(t){var a=t.storeMailingListSettings;var n=u.buildFromJson(a);var r=n.isMailChimpConnected;var s=n.mailChimpConnectionInfo.mailChimpLists;var i=r&&(!s||0===s.length);this.setState({isDirty:false,initialMailChimpConfig:n,mailChimpConfig:n,showNoMailChimpListsAlert:i})}},{key:"onLoadFromSavedDataSuccess",value:function e(t){var a=t.savedData,n=t.lists,r=void 0===n?[]:n;var s=!!(a.connectionState===c.CONNECTED&&0===r.length);var i=u.buildFromJson({isMailChimpConnected:a.connectionState===c.CONNECTED,mailChimpListId:a.list,mailChimpUsername:a.username,mailChimpUseSingleOptIn:a.useSingleOptIn,mailChimpConnectionInfo:{mailChimpLists:r},mailChimpOAuthConfig:a.socialConfig});this.setState({isDirty:false,isConnecting:false,mailChimpConfig:i,initialMailChimpConfig:i,showNoMailChimpListsAlert:s})}},{key:"onConnectFailure",value:function e(){var t=this.state.mailChimpConfig;var a=t.mailChimpConnectionInfo;var n=a.merge({mailChimpError:true});var r=t.merge({mailChimpConnectionInfo:n});this.setState({initialMailChimpConfig:r,mailChimpConfig:r})}},{key:"onChangeListId",value:function e(t){var a=this.state,n=a.initialMailChimpConfig,r=a.mailChimpConfig;var s=r.merge({mailChimpListId:t});this.setState({isDirty:!o.is(s,n),mailChimpConfig:s,showMailingListRequiredError:false})}},{key:"onChangeUseSingleOptIn",value:function e(t){var a=this.state,n=a.initialMailChimpConfig,r=a.mailChimpConfig;var s=r.merge({mailChimpUseSingleOptIn:t});this.setState({isDirty:!o.is(s,n),mailChimpConfig:s})}},{key:"onConnectSuccess",value:function e(t){var a=this.state.mailChimpConfig.mailChimpListId;t.accountDetail.list&&(a=t.accountDetail.list);var n=t.lists;var r=0===n.length;var s=u.buildFromJson({isMailChimpConnected:true,mailChimpListId:a,mailChimpUsername:t.accountDetail.username,mailChimpUseSingleOptIn:true,mailChimpConnectionInfo:{mailChimpLists:n},mailChimpOAuthConfig:t.socialConfig});this.setState({isDirty:!(t.accountDetail&&t.accountDetail.connected),isConnecting:false,mailChimpConfig:s,showNoMailChimpListsAlert:r})}},{key:"onDisconnectMailChimp",value:function e(){var t=this.state.mailChimpConfig.mailChimpListId;var a=u.buildFromJson({mailChimpListId:t});this.setState({wasRemoved:true,isDirty:true,mailChimpConfig:a})}},{key:"onSaveSuccess",value:function e(){this.setState({isDirty:false,showMailingListRequiredError:false,initialMailChimpConfig:this.state.mailChimpConfig})}},{key:"onUpdateFailure",value:function e(){this.setState({showConnectionFailedAlert:true,isConnecting:false})}},{key:"onCloseDidFailAlert",value:function e(){this.setState({showConnectionFailedAlert:false})}},{key:"onCloseNoListsAlert",value:function e(){this.setState({showNoMailChimpListsAlert:false})}},{key:"onReset",value:function e(){var t=this.state.initialMailChimpConfig;this.setState({isDirty:false,showMailingListRequiredError:false,mailChimpConfig:t})}}]);return t}();e.exports=i.createStore(d,"MailChimpConfigStore")},"./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.isBlockTypeFeatureGated=k;t.getFeatureGatedBlockTypes=M;t.featureGateBlockItems=S;t.trackInternal=O;t.willAddFeatureGate=D;t.renderLogo=T;t.renderMenu=R;t.renderBadgeWithProps=I;t.renderBadge=L;t.renderBlockWrapper=x;t.renderPanelNode=P;t.renderPanel=F;t.renderMessage=A;t.renderUpgradeModal=N;t.showUpsellConfirmation=G;t.transformUpsellCopy=q;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var o=n(a("./common/temp/node_modules/react/index.js"));var u=n(a("./common/temp/node_modules/react-dom/index.js"));var s=n(a("./common/temp/node_modules/lodash/invert.js"));var i=n(a("./common/temp/node_modules/lodash/isUndefined.js"));var l=n(a("./src/main/webapp/frontend/packages/enums/BlockType.js"));var c=a("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var d=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js"));var m=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js"));var p=n(a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var f=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Logo/index.js"));var v=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Menu/index.js"));var C=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Panel/index.js"));var b=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Badge/index.js"));var g=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Message/index.js"));var y=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/UpgradeModalStandalone/index.jsx"));function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),true).forEach(function(e){(0,r.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var _=(0,s.default)(l.default);function k(e){var t=c.BlockTypeToFeature[e];if((0,i.default)(t))return false;return d.default.isFeatureGated(t)}function M(){return Object.keys(c.BlockTypeToFeature).filter(function(e){return k(e)}).map(function(e){return parseInt(e,10)})}function S(e){var t=M();var a=[];e.forEach(function(e){e.items=e.items.filter(function(e){if(t.includes(e)){a.push(e);return false}return true})});a.length>0&&e.push({label:(0,f.t)("Premium"),items:a,premium:true,meta:{isTrial:m.default.isTrial()}});return e}function O(e,t){(0,p.default)(e,w({},t,{isTrial:m.default.isTrial()}))}function D(e){var t=e.blockType,a=e.featureGateClass,n=void 0===a?"":a,r=e.node;if(t&&!k(t))return false;if(n&&r.querySelector("".concat(n)))return false;return true}function E(e){var t=e.blockType,a=e.component,n=e.featureGateClass,r=void 0===n?"":n,s=e.node;var i=s.ownerDocument.createElement("div");if(r){var o=r.split(" ");for(var l=0;l<o.length;++l)i.classList.add(o[l].replace(".",""))}s.insertBefore(i,s.firstChild);u.default.render(a,i)}function T(e){var t=e.analyticsId,a=e.blockType,n=e.node,r=e.featureGateClass,s=e.upsellCopyOverrides;E({blockType:a,node:n,featureGateClass:r||".sqs-widget .sqs-featuregate",component:o.default.createElement(h.default,w({analyticsId:t||"".concat(_[a].toLowerCase(),"-block"),isTrial:m.default.isTrial()},s))})}function R(e){var t=e.analyticsId,a=e.blockType,n=e.escapePadding,r=e.node,s=e.isEditing;var i=".sqs-featuregate-menu";if(!D({blockType:a,featureGateClass:i,node:r}))return false;E({blockType:a,node:r,featureGateClass:i,component:o.default.createElement(v.default,{analyticsId:t||"".concat(_[a].toLowerCase(),"-block"),isTrial:m.default.isTrial(),escapePadding:n,isEditing:s})});return true}function I(e){var t=e.node,a=e.upsellCopyOverrides,n=void 0===a?{}:a,r=e.componentProps,s=void 0===r?{}:r;E({node:t,featureGateClass:".sqs-featuregate-badge",component:o.default.createElement(b.default,w({isTrial:m.default.isTrial()},n,{},s))})}function L(e){var t=e.analyticsId,a=e.blockType,n=e.knockout,r=e.node,s=e.upsellCopyOverrides;E({blockType:a,node:r,featureGateClass:".sqs-featuregate-badge",component:o.default.createElement(b.default,w({analyticsId:t,isTrial:m.default.isTrial(),knockout:n},s))})}function x(e){var t=e.blockType,a=e.node;if(k(t)){a.classList.add("sqs-feature-gated-wrapper");var n=".sqs-feature-gated-logo-container";T({blockType:t,node:a,featureGateClass:n})}}function P(e){var t=e.blockType,a=e.node,n=e.analyticsId,r=e.upsellCopyOverrides;E({blockType:t,node:a,featureGateClass:".sqs-featuregate-panel",component:o.default.createElement(C.default,w({isTrial:m.default.isTrial(),analyticsId:n},r))})}function F(e){var t=e.featureType,a=e.analyticsId;if(!d.default.isFeatureGated(t))return null;return o.default.createElement(C.default,{isTrial:m.default.isTrial(),analyticsId:a})}function A(e){var t=e.blockType,a=e.node,n=e.analyticsId,r=e.title,s=e.subTitle,i=e.upsellCopyOverrides;E({blockType:t,node:a,featureGateClass:".sqs-featuregate-message",component:o.default.createElement(g.default,w({isTrial:m.default.isTrial(),analyticsId:n,title:r,subTitle:s},i))})}function N(e){var t=e.blockType,a=e.node,n=e.analyticsId,r=e.upsellCopyOverrides,s=e.eventTracker;E({blockType:t,node:a,featureGateClass:".sqs-featuregate-upgrade-modal",component:o.default.createElement(y.default,w({isOpen:true,isTrial:m.default.isTrial(),analyticsId:n,eventTracker:s},r))})}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};N({analyticsId:"upgrade-modal",node:document.createElement("div"),upsellCopyOverrides:e,eventTracker:t})}function q(e){var t=m.default.isTrial();return{isSoftWarning:t,title:e.upgradeTitle,message:e.upgradeDescription,destination:t?c.UpsellDestination.TRIAL_UPGRADE_PLAN:c.UpsellDestination.UPGRADE_PLAN}}},"./src/main/webapp/universal/src/shared/utils/CampaignsConfigApi.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));var s=n(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var i=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var o="/api/composer";var l="".concat(o,"/mailing-lists");var u={getLists:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;if(i.legacyV6Flags.isFeatureEnabled(s.default.CAMPAIGNS_API_MOCK))return Promise.resolve({results:[{id:"ffffffffffffffffffffffff",name:"Mocked Campaigns API Response",count:1}],hasNextPage:false});return r.default.get(t).then(function(e){var t=e.data;return t})}};var c=u;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/MailChimpConfigApi.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var r="/api/external/GetMailChimpAccountDetail";var s="/api/external/GetMailChimpLists";var i=function e(t,a){var n=t.title.toLowerCase();var r=a.title.toLowerCase();if(n<r)return-1;if(n>r)return 1;return 0};var o=function e(t){var a=t.data;return Object.keys(a).filter(function(e){return""!==e}).map(function(e){return{value:e,title:a[e].title}}).sort(i)};var l={getAccountDetail:function e(t){return n.get(r,{params:{connectedAccountId:t}})},getLists:function e(t){return n.get(s,{params:{connectedAccountId:t}}).then(o)}};e.exports=l},"./src/main/webapp/universal/src/shared/utils/MailChimpConfigRecord.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function u(r){var s=c();return function e(){var t=(0,l.default)(r),a;if(s){var n=(0,l.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,o.default)(this,a)}}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var d=a("./common/temp/node_modules/immutable/dist/immutable.js"),m=d.Record;var p=a("./src/main/webapp/universal/src/shared/utils/MailChimpConnectionInfoRecord.js");var f=a("./src/main/webapp/universal/src/shared/utils/MailChimpOAuthConfigRecord.js");var h={mailChimpUsername:"",mailChimpUseSingleOptIn:true,isMailChimpConnected:false,mailChimpListId:"",mailChimpConnectionInfo:new p,mailChimpOAuthConfig:null};var v=function(e){(0,i.default)(l,e);var t=u(l);function l(){(0,r.default)(this,l);return t.apply(this,arguments)}(0,s.default)(l,null,[{key:"buildFromJson",value:function e(t){var a=t.mailChimpUsername,n=t.mailChimpUseSingleOptIn,r=t.isMailChimpConnected,s=t.mailChimpListId,i=t.mailChimpConnectionInfo,o=t.mailChimpOAuthConfig;return new l({mailChimpUsername:a||"",mailChimpUseSingleOptIn:!!n,isMailChimpConnected:!!r,mailChimpListId:s||"",mailChimpConnectionInfo:new p(i),mailChimpOAuthConfig:o?new f(o):null})}}]);return l}(m(h));e.exports=v},"./src/main/webapp/universal/src/shared/utils/MailChimpConnectionInfoRecord.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/immutable/dist/immutable.js"),r=n.Record;e.exports=r({mailChimpLists:[],mailChimpError:false})},"./src/main/webapp/universal/src/shared/utils/MailChimpOAuthConfigRecord.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/immutable/dist/immutable.js"),r=n.Record;e.exports=r({externalAuthenticationId:null,oauthError:false})}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/25-a7742ac3277dfa59a3e80-min.en-US.js.map