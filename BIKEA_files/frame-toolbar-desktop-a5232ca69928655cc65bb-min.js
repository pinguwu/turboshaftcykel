(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["frame-toolbar-desktop"],{"./common/temp/node_modules/@sqs/core-components/lib/web/DateTimeField.js":function(e,t,a){"use strict";a.r(t);var n=a("./common/temp/node_modules/@sqs/core-components/build/lib/fields/DateTimeField/index.js");a.d(t,"default",function(){return n["a"]})},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/InEditorSurveyModal.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var T=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var j=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var C=r(a("./common/temp/node_modules/react/index.js"));var _=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var x=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var A=a("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var k=n(a("./src/main/webapp/universal/src/shared/utils/events/UserSurveyEvents.js"));var P=a("./src/main/webapp/universal/src/apps/App/components/Survey/SurveyModal.tsx");var D=n(a("./src/main/webapp/universal/src/apps/App/components/Survey/components/Scale.tsx"));var I=n(a("./src/main/webapp/universal/src/apps/App/components/Survey/components/FreeTextInput.tsx"));var M=n(a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/components/MultiSelectInput.js"));var R=a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/steps.js");var O=a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/index.js");var F=n(a("./src/main/webapp/universal/src/apps/App/components/Survey/components/InputStep.less"));var s;var B=(s={},(0,j.default)(s,R.StepTypes.SCALE,"response_numeric"),(0,j.default)(s,R.StepTypes.STRUCTURED_TEXT,"response_structured_text"),s);var o=function e(){var t=(0,C.useState)(true),a=(0,T.default)(t,2),n=a[0],r=a[1];var s=(0,C.useState)(0),o=(0,T.default)(s,2),l=o[0],i=o[1];var u=(0,C.useState)(),d=(0,T.default)(u,2),c=d[0],p=d[1];var m=(0,C.useState)(""),f=(0,T.default)(m,2),v=f[0],b=f[1];var h=O.questions[l];var y=l===O.questions.length-1;(0,C.useEffect)(function(){n&&k.default.userViewsInEditorSurvey({step:l,displayName:h.analyticsName,variant:O.variant})},[l,n,h]);var E=(0,C.useMemo)(function(){if(v)return true;if(h.type===R.StepTypes.STRUCTURED_TEXT)return Object.values(c||{}).some(function(e){return e});return!!c},[h,c,v]);var g=function e(){k.default.userDismissesInEditorSurvey({displayName:h.analyticsName,step:l,variant:O.variant});r(false)};var S=function e(t){var a=h.type===R.StepTypes.SCALE?c:(0,O.formatStructuredTextResponse)(c);k.default.userSubmitsInEditorSurvey({freeText:v,displayName:h.analyticsName,step:l,response:(0,j.default)({},B[h.type],a),variant:O.variant});y?t():i(l+1);p(null);b("")};var w=function e(){r(false)};return C.default.createElement(P.SurveyModal,{display:n,onRequestClose:g,onComplete:w,inputStep:function e(t){var a=t.updateStepOnSave;return C.default.createElement(x.Flex,{flexDirection:"column"},C.default.createElement(x.Text.Title,{as:"h2",id:"survey-header",mb:4},h.title),h.type===R.StepTypes.SCALE?C.default.createElement(D.default,{labelId:"survey-header",onChange:p,variant:P.SurveyVariant.LIKERT,surveyOptions:h.options,currentValue:c}):C.default.createElement(C.default.Fragment,null,C.default.createElement(M.default,{labelId:"survey-header",onChange:p,options:h.options}),C.default.createElement(I.default,{freeTextInputLabel:h.freeTextInputLabel,freeTextInputPlaceholder:h.freeTextInputPlaceholder,onChange:b,value:null!==v&&void 0!==v?v:""})),E?C.default.createElement(x.Box,{sx:{animation:"".concat(F.default.fadeFreeTextInput," ").concat(A.time[300]," ").concat(A.easing.product.entrance)}},h.type===R.StepTypes.SCALE?C.default.createElement(I.default,{freeTextInputLabel:h.freeTextInputLabel,freeTextInputPlaceholder:h.freeTextInputPlaceholder,onChange:b,value:null!==v&&void 0!==v?v:""}):null,C.default.createElement(x.Button.Primary,{onClick:function e(){return S(a)},mt:5,size:1,width:"100%"},y?(0,_.t)("Submit"):(0,_.t)("Next"))):null)}})};var l=o;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/components/MultiSelectInput.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=n(a("./common/temp/node_modules/react/index.js"));var s=r(a("./common/temp/node_modules/prop-types/index.js"));var f=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var v=r(a("./src/main/webapp/universal/src/apps/App/components/Survey/components/ScaleCell.tsx"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),true).forEach(function(e){(0,c.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var h=function e(t){return t.reduce(function(e,t){e[t.value]=false;return e},{})};var l=function e(t){var a=t.options,n=t.labelId,r=t.onChange;var s=(0,m.useState)(h(a)),o=(0,p.default)(s,2),l=o[0],i=o[1];var u=function e(t){var a=b({},l,(0,c.default)({},t,!l[t]));i(a);r(a)};return m.default.createElement(f.Flex,{flexWrap:"wrap",position:"relative",role:"group","aria-labelledby":n},a.map(function(t){return m.default.createElement(v.default,(0,d.default)({id:t.value,key:t.value,currentValue:!!l[t.value]&&t.value,onChange:function e(){return u(t.value)},inputType:"checkbox",halfWidth:true},t))}))};l.propTypes={options:s.default.array.isRequired,labelId:s.default.string.isRequired,onChange:s.default.func.isRequired};var i=l;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/react/index.js"));var s=a("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var o=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var l=n(a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/InEditorSurveyModal.js"));var i=n(a("./src/main/webapp/universal/src/apps/App/components/Survey/hooks/useTimedDelivery.tsx"));var u=a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/index.js");var d=function e(){var t=["mobile","tablet"].includes((0,o.getBreakpoint)(s.breakpoints).platform);var a=(0,i.default)((0,u.getTimeToSurveyMs)(),u.markSurveySeen);if(!(0,u.isWebsiteEligibleForSurvey)()||t||!a||(0,u.hasAlreadySeenSurvey)())return null;return r.default.createElement(l.default,null)};var c=d;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.isWebsiteEligibleForSurvey=t.formatStructuredTextResponse=t.getTimeToSurveyMs=t.markSurveySeen=t.hasAlreadySeenSurvey=t.questions=t.variant=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var s=n(a("./common/temp/node_modules/@sqs/cookie-cutter/index.js"));var o=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var l=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/AuthenticatedAccountActions.js"));var i=n(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var u=a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/steps.js");var d,c;var p="45_minutes";var m="30_minutes";var f="15_minutes";var v="none";var b=(d={},(0,r.default)(d,p,45),(0,r.default)(d,m,30),(0,r.default)(d,f,15),d);var h=(c={},(0,r.default)(c,p,u.ABS_STEPS),(0,r.default)(c,m,u.LAYOUT_STEPS),(0,r.default)(c,f,u.ABS_STEPS),c);var y="force_in_editor_survey";var E="in_editor_survey";var g=.25;var S=function e(){var t=window.Static.SQUARESPACE_CONTEXT.cmsExperimentList,a=void 0===t?[]:t;var n=a.find(function(e){var t=e.name;return t===E});return(null===n||void 0===n?void 0:n.variant)||v};var w=function e(){return!!s.default.get(y)};var T=S();t.variant=T;var j=h[T];t.questions=j;var C=function e(){return o.default.isTutorialCompleted(E)&&!w()};t.hasAlreadySeenSurvey=C;var _=function e(){return l.default.markTutorialCompleted(E)};t.markSurveySeen=_;var x=function e(){return 1e3*(w()?g:b[T])*60};t.getTimeToSurveyMs=x;var A=function e(t){if(!t)return"";return Object.keys(t).filter(function(e){return t[e]}).sort().join(",")};t.formatStructuredTextResponse=A;var k=function e(){return i.default.isSevenOne()&&T!==v};t.isWebsiteEligibleForSurvey=k},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/steps.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LAYOUT_STEPS=t.ABS_STEPS=t.StepTypes=void 0;var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r={SCALE:"SCALE",STRUCTURED_TEXT:"STRUCTURED_TEXT"};t.StepTypes=r;var s=[{title:(0,n.t)("This website is exactly what I envision."),analyticsName:"This website is exactly what I envision",type:r.SCALE,freeTextInputLabel:(0,n.t)("Feedback"),freeTextInputPlaceholder:(0,n.t)("Why's that? (Optional)"),options:[{id:"likert1",value:1,text:(0,n.t)("Strongly Disagree")},{id:"likert2",value:2,text:(0,n.t)("Disagree")},{id:"likert3",value:3,text:(0,n.t)("Neither Disagree nor Agree")},{id:"likert4",value:4,text:(0,n.t)("Agree")},{id:"likert5",value:5,text:(0,n.t)("Strongly Agree")}]},{title:(0,n.t)("What needs to change for this website to match your vision (if anything)? (select all that apply)"),analyticsName:"What needs to change for this website to match your vision (if anything)? (select all that apply)",type:r.STRUCTURED_TEXT,freeTextInputLabel:(0,n.t)("Other"),freeTextInputPlaceholder:(0,n.t)("Write Here"),options:[{value:"layout",text:(0,n.t)("Layout")},{value:"color",text:(0,n.t)("Color")},{value:"site-title",text:(0,n.t)("Site Title")},{value:"text",text:(0,n.t)("Text")},{value:"fonts",text:(0,n.t)("Fonts")},{value:"logo",text:(0,n.t)("Logo")},{value:"images",text:(0,n.t)("Images")},{value:"nothing",text:(0,n.t)("Nothing")}]}];t.ABS_STEPS=s;var o=[{title:(0,n.t)("How would you rate our website builder?"),analyticsName:"How would you rate our website builder",type:r.SCALE,freeTextInputLabel:(0,n.t)("Feedback"),freeTextInputPlaceholder:(0,n.t)("Why's that? (Optional)"),options:[{id:"likert1",value:1,text:(0,n.t)("Very hard to use")},{id:"likert2",value:2,text:(0,n.t)("Hard to use")},{id:"likert3",value:3,text:(0,n.t)("Neither easy nor hard")},{id:"likert4",value:4,text:(0,n.t)("Easy to use")},{id:"likert5",value:5,text:(0,n.t)("Very easy to use")}]}];t.LAYOUT_STEPS=o},"./src/main/webapp/universal/src/apps/App/shared/actions/CollectionAndItemCatalogTaxonomyActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var l=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/CatalogTaxonomyAPI.js"));var i=o.default.createActions(function(){function e(){(0,r.default)(this,e);this.generateActions("loadCategoriesSuccess","saveCategorySuccess","removeCategorySuccess")}(0,s.default)(e,[{key:"loadCategories",value:function e(t,a){var n=this;var r=a?l.default.loadItemCategories(t,a):l.default.loadPageCategories(t);return r.then(function(e){var t=e.data;return n.loadCategoriesSuccess({taxonomyCategories:t})})}},{key:"saveCategory",value:function e(t,a,n){var r=this;var s=a?l.default.saveItemCategory(t,a,n):l.default.savePageCategory(t,n);return s.then(function(e){var t=e.data;return r.saveCategorySuccess(t)})}},{key:"removeCategory",value:function e(t,a,n){var r=this;var s=a?l.default.removeItemCategory(t,a,n):l.default.removePageCategory(t,n);return s.then(function(){return r.removeCategorySuccess({collectionId:t,itemId:a,categoryId:n})})}}]);return e}());t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/actions/PageAdminActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var l=a("./src/main/webapp/universal/src/apps/App/shared/utils/PageCatalogAPI.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/utils/ItemCatalogAPI.js");var u=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentCollectionActions.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js"));var c=function(){function e(){(0,r.default)(this,e);this.generateActions("open","close")}(0,s.default)(e,[{key:"setPageIsAvailableInCatalog",value:function e(t,a){return(0,l.setIsPageAvailableInCatalog)(t,a).then(function(){return u.default.read(t)})}},{key:"setItemIsAvailableInCatalog",value:function e(t,a){return(0,i.setIsItemAvailableInCatalog)(t,a).then(function(){return d.default.read(t)})}}]);return e}();var p=o.default.createActions(c);t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var v=n(a("./common/temp/node_modules/react/index.js"));var b=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var f=n(a("./src/main/webapp/frontend/packages/enums/AccessPermissions.js"));var h=n(a("./src/main/webapp/universal/src/shared/stores/AccessPermissionStore.js"));var y=a("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var s=n(a("./src/main/webapp/universal/src/apps/App/shared/constants/SectionsArea.js"));var E=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var g=a("./src/main/webapp/universal/src/apps/App/shared/utils/UndoRedoUtils.js");var S=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var w=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.js"));var T=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.js"));var j=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarDeviceViewButton.js"));var C=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarExpandButton.js"));var _=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSiteStylesButton.js"));var x=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSectionAdminButton.js"));var A=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSettingsButton.js"));var k=a("./src/main/webapp/universal/src/apps/App/shared/components/UndoStack/reduxUndoStack/UndoRedoControls.js");var P=n(a("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/index.js"));var D=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function I(r){var s=M();return function e(){var t=(0,c.default)(r),a;if(s){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,d.default)(this,a)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var R=function(e){(0,u.default)(s,e);var r=I(s);function s(){var e;(0,o.default)(this,s);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e=r.call.apply(r,[this].concat(a));(0,p.default)((0,i.default)(e),"handleClickTitle",function(){if(!e.props.isEditing)return;e.context.handleEditSettings()});return e}(0,l.default)(s,[{key:"renderToolbarLeft",value:function e(){var t=this.props,a=t.item,n=t.itemId,r=t.collection,s=t.isDirty,o=t.isEditing,l=t.isExpanded,i=t.isReady,u=t.itemAddText,d=t.isSaving,c=t.isSiteExpired,p=t.isSiteStylesEditing,m=t.shouldHideEditButton;if(c)return null;var f=(0,g.isUndoRedoEnabled)()&&(o||p);return v.default.createElement(v.default.Fragment,null,v.default.createElement(w.default,{itemAddText:u,item:a,itemId:n,collection:r,isDirty:s,isEditing:o,isSiteStylesEditing:p,isExpanded:l,isReady:i,isSaving:d,shouldHideEditButton:m}),f&&v.default.createElement(b.Box,{pl:2},v.default.createElement(k.FrameToolbarUndoRedoControls,null)))}},{key:"renderCenter",value:function e(){var t=this.props,a=t.isEditing,n=t.pageTitle,r=t.isReady,s=t.isHeaderEditing,o=t.isFooterEditing,l=t.collection,i=t.item,u=t.itemId,d=t.isDirty,c=t.isExpanded,p=t.isSaving;return v.default.createElement(S.default.Title,{className:D.default.toolbarTitle},v.default.createElement(T.default,{isEditing:a,pageTitle:n,isExpanded:c,isReady:r,isHeaderEditing:s,isFooterEditing:o,collection:l,item:i,itemId:u,isDirty:d,onClick:this.handleClickTitle,isSaving:p}))}},{key:"renderRightmostButton",value:function e(){var t=this.props,a=t.isEditing,n=t.isSiteStylesEditing,r=t.shouldHidePreviewButton;var s=h.default.hasPermission(f.default.CONFIG_SETTINGS_TEMPLATE);if(s)return a||n?v.default.createElement(_.default,{isEditing:a,isSiteStylesEditing:n}):r?null:v.default.createElement(C.default,null);return v.default.createElement(v.default.Fragment,null,v.default.createElement(A.default,null),r?null:v.default.createElement(C.default,null))}},{key:"render",value:function e(){var t;var a=this.props,n=a.className,r=a.isEditing,s=a.isHidden,o=a.deviceView,l=a.isSiteStylesEditing;var i=this.context.isTransitioningFromStylesToEditMode;return v.default.createElement(v.default.Fragment,null,r||l||i?v.default.createElement(P.default,null):null,v.default.createElement("div",{id:"frame-toolbar-desktop",role:"toolbar",className:(0,m.default)(D.default.toolbar,n,(t={},(0,p.default)(t,D.default.isExpanded,r),(0,p.default)(t,D.default.isMobile,o!==y.DeviceViewType.DESKTOP),(0,p.default)(t,D.default.hidden,s),t))},v.default.createElement(S.default,null,v.default.createElement(S.default.Left,null,this.renderToolbarLeft()),v.default.createElement(S.default.Center,null,this.renderCenter()),v.default.createElement(S.default.Right,null,v.default.createElement(x.default,null),v.default.createElement(j.default,null),this.renderRightmostButton()))))}}]);return s}(v.default.Component);t.default=R;(0,p.default)(R,"propTypes",{isExpanded:r.default.bool,isHidden:r.default.bool,isEditing:r.default.bool,isEditModeDisabled:r.default.bool,isDirty:r.default.bool,isReady:r.default.bool,sectionsArea:r.default.oneOf(Object.values(s.default)).isRequired,pageTitle:r.default.string,deviceView:r.default.oneOf(Object.values(y.DeviceViewType)),shouldHideEditButton:r.default.bool.isRequired,shouldHidePreviewButton:r.default.bool.isRequired});(0,p.default)(R,"contextType",E.default);e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less":function(e,t,a){e.exports={toolbar:"aFqnhaKPx",toolbarTitle:"G5Fuqgz9n",adminButton:"_2YNEiaCTi",hidden:"_2bRZ7NHAw",buttonSelected:"_2TfRzJkGs",expandIcon:"_2YPEuspKA"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/DiscardChangesConfirmModal.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var m=n(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var f=n(a("./common/temp/node_modules/react/index.js"));var v=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var b=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var h=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var r=function e(t){var a=t.isOpen,n=t.onConfirm,r=t.onDismiss,s=t.onRequestClose,o=t.title,l=t.message,i=t.confirmLabel,u=t.confirmHtmlAttributes,d=void 0===u?{}:u,c=t.position,p=t.anchor;return f.default.createElement(b.Modal.Transition,null,a?f.default.createElement(b.Modal,{onRequestClose:s},f.default.createElement(b.Modal.Overlay,null),f.default.createElement(b.Modal.Position,{position:c,anchor:p},f.default.createElement(h.AlertDialog,{m:8,title:o,message:l,buttons:[f.default.createElement(h.AlertDialog.Button,{key:"close",onClick:r},(0,v.t)("Close")),f.default.createElement(h.AlertDialog.Button,(0,m.default)({},d,{key:"delete",variant:"danger",onClick:n}),i)]}))):null)};var s=r;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var d=r(a("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var f=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var v=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var b=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var h=r(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var y=r(a("./common/temp/node_modules/prop-types/index.js"));var E=r(a("./common/temp/node_modules/react/index.js"));var g=r(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var S=r(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var w=r(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/DiscardChangesConfirmModal.js"));var T=r(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var j=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var C=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var _=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var x=r(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var A=r(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.js"));var k=r(a("./src/main/webapp/universal/src/apps/ConfigWebsite/SevenOneLifecycleProvider/LifecycleActionType.js"));var P=r(a("./src/main/webapp/universal/src/apps/App/shared/actions/campaigns/BlogToEmailActions.js"));var D=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var I=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js"));var M=a("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var R=a("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var O=a("./src/main/webapp/universal/src/shared/utils/ProductsUtils.js");var F=a("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var B=a("./src/main/webapp/universal/src/shared/lightstep/utils.ts");var q=r(a("./src/main/webapp/universal/src/shared/stores/TweakStore.js"));var L=a("./src/main/webapp/universal/src/shared/utils/Tweaks/TweakAnalytics.js");var N=r(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Inventory/screens/components/EditProductModal/ProductDialogActions.ts"));var U=a("./src/main/webapp/universal/src/apps/ConfigWebsite/paths.js");var V=r(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.less"));function W(r){var s=H();return function e(){var t=(0,m.default)(r),a;if(s){var n=(0,m.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var Y=function(e){(0,u.default)(a,e);var t=W(a);function a(e){var u;(0,l.default)(this,a);u=t.call(this,e);(0,f.default)((0,c.default)(u),"isEditingSiteStylesOnSystemPage",function(){var e=window.CONFIG_PANEL.get("router");var t=e.getCurrentLocation();var a=e.getCurrentRoute();var n=t.basename+t.pathname;var r=t.state.frameUrl;if(!n||!r)return false;return(null===a||void 0===a?void 0:a.isSiteStyles)&&U.WEBSITE_ROUTES_WHERE_EDIT_BLOCKED.some(function(e){return e===r})});(0,f.default)((0,c.default)(u),"handleDiscard",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=!!u.isEditingSiteStylesOnSystemPage();u.fireClickMenuItemInDoneMenu("discard-open",e);u.setState({isDiscardConfirmOpen:true,isSystemPage:e})});(0,f.default)((0,c.default)(u),"handleCancel",function(){var e;u.fireClickMenuItemInDoneMenu("cancel");u.context.doDiscardChangesAndExitEditMode(null===(e=u.props.item)||void 0===e?void 0:e.fullUrl)});(0,f.default)((0,c.default)(u),"closeDiscardConfirm",function(){u.fireClickMenuItemInDoneMenu("discard-close",u.state.isSystemPage);u.setState({isDiscardConfirmOpen:false,isSystemPage:false})});(0,f.default)((0,c.default)(u),"handleDiscardSubmit",function(){u.fireClickMenuItemInDoneMenu("discard",u.state.isSystemPage);u.setState({isDiscardConfirmOpen:false});if(u.state.isSystemPage)u.context.doDiscardSiteStylesAndExitEditMode();else{var e;u.context.doDiscardChangesAndExitEditMode(null===(e=u.props.item)||void 0===e?void 0:e.fullUrl)}u.setState({isSystemPage:false})});(0,f.default)((0,c.default)(u),"handleSaveSiteStyles",function(){u.fireClickMenuItemInDoneMenu("save",true);u.context.doSaveSiteStylesAndExitEditMode()});(0,f.default)((0,c.default)(u),"handleSave",(0,o.default)(d.default.mark(function e(){var a,n,r,s;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("save");t.prev=1;a=u.context.getIframeWindow().Static.SQUARESPACE_CONTEXT,n=a.collectionId,r=a.itemId;s=(0,R.getEditCount)(M.cmsStore.getState());t.next=6;return(0,B.traceWith)(F.CMSPerformanceEvents.PAGE_EDIT_SAVE,(0,o.default)(d.default.mark(function e(){var a,n,r,s,o,l,i;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:a=u.props,n=a.collection,r=a.item;if(D.default.isProducts(n)){s=r?"item":"collection";o=q.default.getState(),l=o.tweakValuesSaved,i=o.tweakValuesCurrent;(0,L.fireProductSaveTweakEvents)({tweakValuesSaved:l,tweakValuesCurrent:i,indirectObjectType:s})}t.next=4;return u.context.doSaveChangesAndExitEditMode();case 4:case"end":return t.stop()}},e)})),{spanOptions:{attributes:{collectionId:n,itemId:r}},onTraceComplete:function e(t){I.default.userSavesEditingSession({collectionId:n,itemId:r,measurement:t,editCount:s})}});case 6:t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);u.setState({isSaveError:true});case 11:case"end":return t.stop()}},e,null,[[1,8]])})));(0,f.default)((0,c.default)(u),"handlePublish",(0,o.default)(d.default.mark(function e(){var a,n,r;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("publish");t.prev=1;t.next=4;return u.context.doSaveChangesAndExitEditMode({publish:true});case 4:a=u.props,n=a.item,r=a.isCampaignsBlogToEmailTutorialCompleted;D.default.isBlogPost(n)&&!r&&P.default.showDraftCreationModal({id:n.id,collectionId:n.collectionId,postUrl:n.fullUrl});t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);u.setState({isSaveError:true});case 11:case"end":return t.stop()}},e,null,[[1,8]])})));(0,f.default)((0,c.default)(u),"handleEditSchedule",function(){u.fireClickMenuItemInDoneMenu("schedule-open");u.setState({isSchedulerModalOpen:true})});(0,f.default)((0,c.default)(u),"closeSchedulerModal",function(){u.fireClickMenuItemInDoneMenu("schedule-close");u.setState({isSchedulerModalOpen:false})});(0,f.default)((0,c.default)(u),"handleEditScheduleSubmit",function(){var t=(0,o.default)(d.default.mark(function e(a){return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("schedule");u.setState({isSchedulerModalOpen:false},function(){try{u.context.doSaveChangesAndExitEditMode({scheduleOn:a})}catch(e){u.setState({isSaveError:true})}});case 2:case"end":return t.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());(0,f.default)((0,c.default)(u),"handleOldToolbarSaveClick",function(){u.fireClickMenuItemInDoneMenu("save");u.context.handleOldToolbarSaveClick()});(0,f.default)((0,c.default)(u),"handleDismissSaveError",function(){u.setState({isSaveError:false})});(0,f.default)((0,c.default)(u),"handleEditProduct",function(){var e=u.props.itemId;N.default.commerceOpenCreateProductDialog({productId:e})});u.doneMenuRef=E.default.createRef();u.state={isSchedulerModalOpen:false,isDiscardConfirmOpen:false,isSaveError:false};u.hasFiredProductEditModeAssignmentEvent=false;return u}(0,i.default)(a,[{key:"fireClickMenuItemInDoneMenu",value:function e(t,a){var n=this.props,r=n.collection,s=n.itemId;I.default.clickMenuItemInDoneMenu({button:t,collectionId:a?I.SYSTEM_PAGE:null===r||void 0===r?void 0:r.id,itemId:s,editCount:(0,R.getEditCount)(M.cmsStore.getState())})}},{key:"isItemEditMode",value:function e(){return this.props.itemId}},{key:"isStoreItem",value:function e(){return D.default.isProductItem(this.props.item)}},{key:"shouldShowEditProductDropdown",value:function e(){return this.isStoreItem()&&(0,O.isEditModeV1Enabled)()&&!(0,O.isEditModeV2Enabled)()}},{key:"renderNewDoneMenu",value:function e(){var i=this;var t=this.props.isSaving;var a=this.context.getButtons();if(t)return E.default.createElement("div",{className:V.default.doneMenuParentContainer,ref:this.doneMenuRef},this.renderSpinner());var n=0===a.length;var r={};n&&(r={onClick:function e(){return i.handleCancel()}});return E.default.createElement("div",{className:(0,h.default)(V.default.doneMenuParentContainer,(0,f.default)({},V.default.showDoneMenuParentContainer,!n)),ref:this.doneMenuRef},E.default.createElement(T.default.Button,(0,s.default)({label:(0,v.t)("Done"),inverted:false,isDisabled:false,className:(0,h.default)(V.default.editButton,V.default.doneButton,(0,f.default)({},V.default.doneButtonWithChevron,!n)),htmlAttributes:{"data-test":"frameToolbarDone"}},r)),E.default.createElement("div",{className:(0,h.default)(V.default.doneMenuWrapper)},a.map(function(e,t){var a;var n=e.style,r=e.label,s=e.action;var o=null;var l="";if(s===k.default.DISCARD){o=i.handleDiscard;l="frameToolbarDiscard"}else if(s===k.default.SAVE){o=i.handleSave;l="frameToolbarSave"}else if(s===k.default.SAVE_SITE_STYLES){o=i.handleSaveSiteStyles;l="frameToolbarSave"}else if(s===k.default.DISCARD_SITE_STYLES){o=function e(){return i.handleDiscard(true)};l="frameToolbarDiscard"}else if(s===k.default.PUBLISH)o=i.handlePublish;else if(s===k.default.EDIT_SCHEDULE)o=i.handleEditSchedule;else if(s===k.default.CANCEL){o=i.handleCancel;l="frameToolbarCancel"}return E.default.createElement("button",{key:"".concat(r,"-").concat(t),className:(0,h.default)(V.default.doneMenuItem,(a={},(0,f.default)(a,V.default.doneMenuItemCancel,"cancel"===n),(0,f.default)(a,V.default.doneMenuItemBold,"bold"===n),a)),onClick:o,"data-test":l},r)})))}},{key:"renderSpinner",value:function e(){return E.default.createElement("div",{className:V.default.loadingIndicator},E.default.createElement(_.ActivityIndicator,{size:"small"}))}},{key:"renderEditButton",value:function e(){var t=this.props,a=t.itemId,n=t.itemAddText;var r=(0,v.t)("Edit");a&&n&&(r=n);var s=(0,O.isEditModeV2Enabled)()?this.context.enterItemEditingMode:this.context.handleEdit;return E.default.createElement(T.default.Button,{className:V.default.editButton,label:r,onClick:s,inverted:false,htmlAttributes:{"data-test":"frameToolbarEdit"}})}},{key:"renderEditDesignButton",value:function e(){var t=(0,O.isEditModeV2Enabled)()?this.context.handleEdit:this.context.handleEditDesign;return E.default.createElement(T.default.Button,{className:V.default.editButton,label:(0,v.t)("Edit Design"),inverted:false,onClick:t})}},{key:"renderEditProductDropdown",value:function e(){return E.default.createElement("div",{className:(0,h.default)(V.default.doneMenuParentContainer,V.default.showDoneMenuParentContainer),ref:this.doneMenuRef},E.default.createElement(T.default.Button,{label:(0,v.t)("Edit"),inverted:false,isDisabled:false,className:(0,h.default)(V.default.editButton,V.default.doneButton,V.default.doneButtonWithChevron),htmlAttributes:{"data-test":"frameToolbarEditProductDropdown"}}),E.default.createElement("div",{className:(0,h.default)(V.default.doneMenuWrapper,V.default.productDropdown)},E.default.createElement(C.Touchable,{css:{textAlign:"left",margin:"0 !important"},onClick:this.handleEditProduct,interaction:function e(t){return E.default.createElement(C.Touchable.Solid,(0,s.default)({},t,{display:"block"}))}},E.default.createElement(C.Text.Action,{px:4,py:2,display:"block","data-test":"frameToolbarEditProduct"},E.default.createElement(b.T,{project:"src.seven-one"},"Edit Product"))),E.default.createElement(C.Touchable,{css:{textAlign:"left",margin:"0 !important"},onClick:this.context.handleEdit,interaction:function e(t){return E.default.createElement(C.Touchable.Solid,(0,s.default)({},t,{display:"block"}))}},E.default.createElement(C.Text.Action,{px:4,py:2,display:"block","data-test":"frameToolbarEditProductDesign"},E.default.createElement(b.T,{project:"src.seven-one"},"Edit Design")))))}},{key:"renderToolbarLeft",value:function e(){var t=this.props,a=t.isDirty,n=t.isEditing,r=t.isExpanded,s=t.isReady,o=t.isSiteStylesEditing,l=t.shouldHideEditButton;if(l)return null;if(n&&a||o)return this.renderNewDoneMenu();if(n){if(!s||!r)return this.renderSpinner();return this.renderNewDoneMenu()}if(this.shouldShowEditProductDropdown())return this.renderEditProductDropdown();var i=this.isStoreItem()&&(!(0,O.isEditModeV1Enabled)()||(0,O.isEditModeV2Enabled)());return E.default.createElement(E.default.Fragment,null,this.renderEditButton(),i&&this.renderEditDesignButton())}},{key:"renderPageConfirmModal",value:function e(){var t;return E.default.createElement(w.default,{isOpen:this.state.isDiscardConfirmOpen,onConfirm:this.handleDiscardSubmit,onDismiss:this.closeDiscardConfirm,onRequestClose:this.closeDiscardConfirm,title:(0,v.t)("Discard changes?"),message:(0,v.t)("Are you sure you want to discard your changes?"),confirmLabel:(0,v.t)("Discard"),confirmHtmlAttributes:{"data-test":"frameToolbarConfirmDiscard"},position:null===(t=this.doneMenuRef)||void 0===t?void 0:t.current,anchor:"top-left"})}},{key:"renderItemSchedulerModal",value:function e(){if(!this.isItemEditMode())return null;var t=this.props.item;if(!t)return null;return E.default.createElement(A.default,{key:"scheduler",isOpen:this.state.isSchedulerModalOpen,onSave:this.handleEditScheduleSubmit,onRequestClose:this.closeSchedulerModal,anchorRef:this.doneMenuRef,value:t.publishOn})}},{key:"renderSaveError",value:function e(){return E.default.createElement(_.Modal.Transition,null,this.state.isSaveError&&E.default.createElement(_.Modal,null,E.default.createElement(_.Modal.Position,{position:"center"},E.default.createElement(j.AlertDialog,{title:(0,v.t)("Couldn't Save Information"),message:(0,v.t)("Try reloading the page. If the problem persists, contact us."),buttons:[E.default.createElement(j.AlertDialog.Button,{onClick:this.handleDismissSaveError},E.default.createElement(b.T,{project:"src.seven-one"},"OK"))]}))))}},{key:"render",value:function e(){return E.default.createElement(E.default.Fragment,null,this.renderToolbarLeft(),this.renderPageConfirmModal(),this.renderItemSchedulerModal(),this.renderSaveError())}}],[{key:"getStores",value:function e(){return[S.default]}},{key:"getPropsFromStores",value:function e(){var t=S.default.isTutorialCompleted("CAMPAIGNS_BLOG_TO_EMAIL_MODAL");return{isCampaignsBlogToEmailTutorialCompleted:t}}}]);return a}(E.default.Component);(0,f.default)(Y,"propTypes",{isExpanded:y.default.bool,isHidden:y.default.bool,isEditing:y.default.bool,isEditModeDisabled:y.default.bool,isDirty:y.default.bool,isReady:y.default.bool,pageTitle:y.default.string,shouldHideEditButton:y.default.bool,isCampaignsBlogToEmailTutorialCompleted:y.default.bool});(0,f.default)(Y,"contextType",x.default);var K=(0,g.default)(Y);t.default=K;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.less":function(e,t,a){e.exports={editButton:"_3VRcd9E3s",doneButton:"_1FXC_7zaF",doneButtonWithChevron:"_3Z6ClLRuM",loadingIndicator:"dqDQk6iI9",doneMenuParentContainer:"_1riV1-2A1",doneMenuWrapper:"_3yJZCdp9v",productDropdown:"X8IaDCDYP",showDoneMenuParentContainer:"_2IDDPWPaE",doneMenuItem:"_1Jq00D42_",doneMenuItemBold:"_1BwtdCfmS",doneMenuItemCancel:"oRsR1ebb9"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarDeviceViewButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var o=n(a("./common/temp/node_modules/react/index.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=a("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var s=a("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/redux/actions/frameDisplayActions.js");var u=n(a("./src/main/webapp/universal/src/apps/App/components/SevenOneUserSurvey/flux/actions.js"));var d=a("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var c=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var p=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var m=n(a("./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js"));var f=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var v=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function b(e){var t=e.isSaving,a=e.onToggleDeviceView,n=e.deviceView;var r=n===d.DeviceViewType.DESKTOP?(0,l.t)("Mobile Preview"):(0,l.t)("Desktop View");var s=n===d.DeviceViewType.DESKTOP?void 0:v.default.buttonSelected;return o.default.createElement(m.default,{content:r},o.default.createElement(p.default.IconButton,{"aria-label":(0,l.t)("Toggle device view"),isDisabled:t,onClick:function e(){u.default.userTogglesDeviceView(n!==d.DeviceViewType.DESKTOP);a()},className:s},o.default.createElement(f.Mobile,null)))}var h=(0,r.cmsStoreConnect)(function(e){return{deviceView:(0,s.getFrameDeviceView)(e)}},{onToggleDeviceView:i.toggleDeviceView})((0,c.default)(b));t.default=h;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarExpandButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.ExpandButton=p;t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var s=r(a("./common/temp/node_modules/react/index.js"));var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js"));var i=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var u=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/arrowup.svg"));var c=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function p(e){var t=e.isEditing;var a=(0,s.useCallback)(function(){return l.default.toggleExpanded()},[]);return!t&&s.default.createElement(u.default.IconButton,{"aria-label":(0,o.t)("Toggle expand page preview"),url:d.default,onClick:a,iconClassName:c.default.expandIcon})}var m=(0,i.default)(p);t.default=m},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSectionAdminButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.SectionAdminButton=v;t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var o=r(a("./common/temp/node_modules/react/index.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var s=n(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var i=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var u=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/CollectionAndItemCatalogTaxonomyActions.js"));var c=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/PageAdminActions.js"));var p=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var m=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));var f=i.legacyV6Flags.isFeatureEnabled(s.default.SECTION_ADMIN);function v(e){var t=e.collectionId,a=e.isEditing,n=e.isSaving,r=e.itemId;var s=(0,o.useCallback)(function(){d.default.loadCategories(t,r);c.default.open()},[t,r]);return a&&f&&o.default.createElement(p.default.IconButton,{"aria-label":(0,l.t)("Open admin settings"),isDisabled:n,onClick:s},o.default.createElement("div",{className:m.default.adminButton}))}var b=(0,u.default)(v);t.default=b},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSettingsButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.SettingsButton=c;t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var s=r(a("./common/temp/node_modules/react/index.js"));var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var i=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var u=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/settings.svg"));function c(e){var t=e.isEditing,a=e.isSaving;var n=(0,s.useContext)(i.default),r=n.handleEditSettings;return t&&s.default.createElement(u.default.IconButton,{"aria-label":(0,o.t)("Edit page settings"),htmlAttributes:{"data-test":"frameToolbarSettings"},url:d.default,isDisabled:a,onClick:r})}var p=(0,l.default)(c);t.default=p},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSiteStylesButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var s=r(a("./common/temp/node_modules/react/index.js"));var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var c=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var p=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var o=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var m=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var f=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var v=n(a("./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js"));function l(e){var t=e.isSaving,o=e.isSiteStylesEditing;var a=(0,s.useContext)(m.default),l=a.doEnterSiteStylesEditing,i=a.doExitSiteStylesEditing,u=a.getIframeWindow;var n=function e(t){var a,n;t.stopPropagation();var r=u();var s=null===r||void 0===r?void 0:null===(a=r.Static)||void 0===a?void 0:null===(n=a.SQUARESPACE_CONTEXT)||void 0===n?void 0:n.collectionId;if(o){p.default.userToggleSiteStylesPaintbrush("close",s);i()}else{p.default.userToggleSiteStylesPaintbrush("open",s);l()}};return s.default.createElement(v.default,{content:(0,d.t)("Site Styles")},s.default.createElement(f.default.IconButton,{"aria-label":(0,d.t)("Toggle Site Styles editing"),isActive:o,isDisabled:t,onClick:n,htmlAttributes:{"data-test":"frameToolbarSiteStyles"}},s.default.createElement(c.Style,null)))}var i=(0,o.default)(l);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var v=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var h=n(a("./common/temp/node_modules/react/index.js"));var y=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var E=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var g=a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/utils/ToolbarTitleUtils.js");var S=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.less"));var w=n(a("./common/temp/node_modules/lodash/isString.js"));function p(r){var s=m();return function e(){var t=(0,c.default)(r),a;if(s){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,d.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var s=/&amp;/g;function T(e){return e.replace(s,"&")}var f=function(e){(0,u.default)(s,e);var r=p(s);function s(){var n;(0,o.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,v.default)((0,i.default)(n),"handleClick",function(){var e=n.props,t=e.onClick,a=e.isSaving;if(a)return;t&&t()});return n}(0,l.default)(s,[{key:"render",value:function e(){var t;var a=this.props,n=a.className,r=a.collection,s=a.item,o=a.isReady,l=a.itemId,i=a.isDirty,u=a.isEditing,d=a.isFooterEditing,c=a.isHeaderEditing,p=a.isSaving;if(u){if(d)return(0,y.t)("Editing Site Footer");if(c)return(0,y.t)("Editing Site Header")}if(!o)return null;if(!l&&!r)return null;if(l&&!s)return null;var m=null;m=l&&s?s.title:r.title;m=!m||(0,w.default)(m)&&0===m.trim().length?h.default.createElement("span",{className:S.default.noTitle},h.default.createElement(E.T,{project:"src.seven-one"},"No Title")):T(m);var f=(0,g.getSecondaryTitle)({collection:r,item:s,isSaving:p});return h.default.createElement("div",{className:(0,b.default)(S.default.toolbarTitleStacked,n,(t={},(0,v.default)(t,S.default.toolbarTitleDirty,!p&&i),(0,v.default)(t,S.default.toolbarTitleEditing,!p&&u),t)),onClick:this.handleClick},h.default.createElement("div",{"data-test":"frame-toolbar-title",className:S.default.toolbarStackedTitle},m),h.default.createElement("div",{className:S.default.toolbarStackedState},f))}}]);return s}(h.default.Component);t.default=f;(0,v.default)(f,"propTypes",{className:r.default.string,isEditing:r.default.bool,pageTitle:r.default.string,isDirty:r.default.bool,isReady:r.default.bool,isHeaderEditing:r.default.bool,isFooterEditing:r.default.bool,collection:r.default.object,item:r.default.object,itemId:r.default.string,onClick:r.default.func,isSaving:r.default.bool});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.less":function(e,t,a){e.exports={toolbarTitleStacked:"_39q0B0v1w",toolbarTitleEditing:"zB8nbatYM",toolbarTitleDirty:"_3HhE8ZYXr",toolbarStackedState:"_9osot1ZA4",toolbarStackedTitle:"_2PNxdPIxN",noTitle:"qdtADwmMq"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=n(a("./common/temp/node_modules/react/index.js"));var s=r(a("./common/temp/node_modules/prop-types/index.js"));var f=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var v=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var b=r(a("./common/temp/node_modules/@sqs/core-components/lib/web/DateTimeField.js"));var h=r(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.less"));var y=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var E=a("./src/main/webapp/universal/src/shared/i18n/react.ts");function g(r){var s=S();return function e(){var t=(0,c.default)(r),a;if(s){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,d.default)(this,a)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?"":(0,y.formatDateTime)(t,"LLLLT")};var T=864e5;var j=function(e){(0,u.default)(s,e);var r=g(s);function s(){var t;(0,o.default)(this,s);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];t=r.call.apply(r,[this].concat(a));(0,p.default)((0,i.default)(t),"state",{value:null,isOpen:false});(0,p.default)((0,i.default)(t),"handleDateChange",function(e){t.setState({value:e})});(0,p.default)((0,i.default)(t),"handleScheduleClick",function(){t.props.onSave(t.getValue());t.setState({isOpen:false,value:null})});(0,p.default)((0,i.default)(t),"handleCancelClick",function(){t.setState({isOpen:false,value:null});t.props.onRequestClose()});return t}(0,l.default)(s,[{key:"getValue",value:function e(){if(null!==this.state.value)return this.state.value;return this.props.value}},{key:"render",value:function e(){var t=this.props.onRequestClose;var a=this.state,n=a.isOpen,r=a.openTime;var s=this.getValue();return m.default.createElement(f.Modal.Transition,null,n&&m.default.createElement(f.Modal,{className:h.default.modal,onRequestClose:t},m.default.createElement(f.Modal.Position,{position:"center"},m.default.createElement(f.Modal.Dialog,null,m.default.createElement(v.Box,{p:2},m.default.createElement("div",{tabIndex:0,style:{outline:"none"}},m.default.createElement("div",{className:h.default.actionButtons},m.default.createElement(v.Button.Tertiary,{onClick:this.handleCancelClick},m.default.createElement(E.T,{project:"src.seven-one"},"Cancel")),m.default.createElement(v.Button.Tertiary,{onClick:this.handleScheduleClick},m.default.createElement(E.T,{project:"src.seven-one"},"Schedule"))),m.default.createElement("div",{className:h.default.titles},m.default.createElement(v.Text.Title,null,m.default.createElement(E.T,{project:"src.seven-one"},"Date & Time")),m.default.createElement(v.Text.Subtitle,null,w(s))),m.default.createElement(b.default,{className:h.default.dateTimeField,mode:"datetime",onChange:this.handleDateChange,value:s,disable:[{before:r-T}]})))))))}}],[{key:"getDerivedStateFromProps",value:function e(t,a){var n={};if(t.isOpen&&!a.isOpen){n.isOpen=true;n.openTime=Date.now()}!t.isOpen&&a.isOpen&&(n.isOpen=false);return n}}]);return s}(m.Component);t.default=j;(0,p.default)(j,"propTypes",{isOpen:s.default.bool,value:s.default.number,onSave:s.default.func,onRequestClose:s.default.func,anchorRef:s.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.less":function(e,t,a){e.exports={titles:"_36oUKn4R_",dateLabel:"_3guBiptbh",dateTimeField:"_45xf2yFIm",actionButtons:"_4o48sFJVV"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/arrowup.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='16' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3 6l2-2h10v10l-2 2V7.414L1.707 18.707.293 17.293 11.586 6H3z' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/settings.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='11' cy='11' r='6.5' stroke='%23313131' stroke-width='2'/%3E%3Cpath d='M11 1v3M11 18v3M1 11h3M18 11h3M3.929 3.929L6.05 6.05M15.95 15.95l2.121 2.121M3.929 18.071L6.05 15.95M15.95 6.05L18.07 3.93' stroke='%23313131' stroke-width='2'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/utils/ToolbarTitleUtils.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getSecondaryTitle=h;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var s=n(a("./common/temp/node_modules/react/index.js"));var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=n(a("./src/main/webapp/frontend/packages/enums/WorkflowStates.js"));var i=n(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var u,d,c,p;var m=[{test:function e(t){return i.default.isBlog(t)},labels:(u={},(0,r.default)(u,l.default.DRAFT,(0,o.t)("Draft")),(0,r.default)(u,l.default.NEEDS_REVIEW,(0,o.t)("Needs Review")),(0,r.default)(u,l.default.PUBLISHED,(0,o.t)("Published")),(0,r.default)(u,l.default.SCHEDULED,(0,o.t)("Scheduled")),u),itemTypeLabel:(0,o.t)("Post")},{test:function e(t){return i.default.isPortfolio(t)},labels:(d={},(0,r.default)(d,l.default.DRAFT,(0,o.t)("Draft")),(0,r.default)(d,l.default.NEEDS_REVIEW,(0,o.t)("Needs Review")),(0,r.default)(d,l.default.PUBLISHED,(0,o.t)("Published")),(0,r.default)(d,l.default.SCHEDULED,(0,o.t)("Scheduled")),d),itemTypeLabel:(0,o.t)("Project")},{test:function e(t){return i.default.isEvents(t)},labels:(c={},(0,r.default)(c,l.default.DRAFT,(0,o.t)("Draft")),(0,r.default)(c,l.default.NEEDS_REVIEW,(0,o.t)("Needs Review")),(0,r.default)(c,l.default.PUBLISHED,(0,o.t)("Published")),(0,r.default)(c,l.default.SCHEDULED,(0,o.t)("Scheduled")),c),itemTypeLabel:(0,o.t)("Event")},{test:function e(t){return i.default.isProducts(t)},labels:(p={},(0,r.default)(p,l.default.DRAFT,(0,o.t)("Hidden")),(0,r.default)(p,l.default.NEEDS_REVIEW,(0,o.t)("Needs Review")),(0,r.default)(p,l.default.PUBLISHED,(0,o.t)("Visible")),(0,r.default)(p,l.default.SCHEDULED,(0,o.t)("Scheduled")),p),itemTypeLabel:(0,o.t)("Product")}];var f=[{test:function e(t){return i.default.isBlog(t)},labels:{published:(0,o.t)("Published"),disabled:(0,o.t)("Disabled"),passwordProtected:(0,o.t)("Password Protected")},collectionTypeLabel:(0,o.t)("Blog")},{test:function e(t){return i.default.isPortfolio(t)},labels:{published:(0,o.t)("Published"),disabled:(0,o.t)("Disabled"),passwordProtected:(0,o.t)("Password Protected")},collectionTypeLabel:(0,o.t)("Portfolio")},{test:function e(t){return i.default.isEvents(t)},labels:{published:(0,o.t)("Published"),disabled:(0,o.t)("Disabled"),passwordProtected:(0,o.t)("Password Protected")},collectionTypeLabel:(0,o.t)("Events")},{test:function e(t){return i.default.isProducts(t)},labels:{published:(0,o.t)("Published"),disabled:(0,o.t)("Disabled"),passwordProtected:(0,o.t)("Password Protected")},collectionTypeLabel:(0,o.t)("Products")},{test:function e(t){return i.default.isPage(t)},labels:{published:(0,o.t)("Published"),disabled:(0,o.t)("Disabled"),passwordProtected:(0,o.t)("Password Protected")},collectionTypeLabel:(0,o.t)("Page")}];function v(e){var t=e.collection,a=e.item;if(!t)return null;var n=i.default.getCollection(t.id);if(!n)return null;var r=m.find(function(e){return e.test(n)});if(!r)return null;if(r.labels.hasOwnProperty(a.workflowState))return s.default.createElement("span",null,r.itemTypeLabel,"  ",r.labels[a.workflowState]);return r.itemTypeLabel}function b(e){var t=i.default.getCollection(e.id);if(!t)return null;var a=f.find(function(e){return e.test(t)});if(!a)return null;var n=a.labels.published;e.enabled?e.passwordProtected&&(n=a.labels.passwordProtected):n=a.labels.disabled;return s.default.createElement("span",null,a.collectionTypeLabel,"  ",n)}function h(e){var t=e.collection,a=e.item,n=e.isSaving;if(n)return(0,o.t)("Saving");if(a)return v({collection:t,item:a});if(t)return b(t);return null}},"./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var d=r(a("./common/temp/node_modules/lodash/noop.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var c=n(a("./common/temp/node_modules/react/index.js"));var s=r(a("./common/temp/node_modules/prop-types/index.js"));var p=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var m=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var o=function e(t){var a=t.content,n=t.children;var r=(0,c.useState)(false),s=(0,u.default)(r,2),o=s[0],l=s[1];var i=(0,c.useRef)(null);(0,c.useEffect)(function(){var e=function e(){l(false)};var t=document.querySelector(".sqs-damask-panel-content");t&&t.addEventListener("scroll",e);return function(){t&&t.removeEventListener("scroll",e);e()}},[]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(p.Box,{ref:i,onMouseEnter:function e(){return l(true)},onFocus:function e(){return l(true)},onMouseLeave:function e(){return l(false)},onBlur:function e(){return l(false)}},n),a&&o&&i.current?c.default.createElement(m.Tooltip,{anchor:i.current,isOpen:o,position:"bottom",delay:{enter:120},onRequestClose:d.default},a):null)};o.propTypes={content:s.default.string};var l=o;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/UndoStack/reduxUndoStack/UndoRedoControls.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.ContextualStyleUndoRedoControls=t.FrameToolbarUndoRedoControls=t.TransitionOpacityInAndOut=void 0;var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var b=n(a("./common/temp/node_modules/react/index.js"));var s=r(a("./common/temp/node_modules/prop-types/index.js"));var h=a("./common/temp/node_modules/react-transition-group/esm/index.js");var i=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var u=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var y=a("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/index.js");var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var c=a("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/redux/actions/cmsUndoStackActions.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var f=r(a("./src/main/webapp/universal/src/apps/App/shared/components/IconButton.jsx"));var v=r(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var E=function e(t){var a=t.children,n=t.in;var r=(0,y.useTheme)(),s=r.easing,o=r.time;var l=o["300"];var i=o["300"];var u=s.product.entrance;var d=s.product.exit;var c=(0,b.useCallback)(function(e){e.style.display="block";e.style.transitionTimingFunction=u;e.style.transitionDuration=l;e.style.transitionProperty="opacity";e.style.opacity=0},[u,l]);var p=(0,b.useCallback)(function(e){e.style.opacity=1},[]);var m=(0,b.useCallback)(function(e){e.style.display="block";e.style.transitionTimingFunction=d;e.style.transitionDuration=i;e.style.transitionProperty="opacity";e.style.opacity=1},[d,i]);var f=(0,b.useCallback)(function(e){e.style.opacity=0},[]);var v=(0,b.useCallback)(function(e){e.style.display="";e.style.transitionTimingFunction="";e.style.transitionDuration="";e.style.transitionProperty="";e.style.opacity=""},[]);return b.default.createElement(h.Transition,{in:n,appear:true,mountOnEnter:true,unmountOnExit:true,onEnter:c,onEntering:p,onEntered:v,onExit:m,onExiting:f,onExited:v,timeout:{enter:parseInt(l,10),exit:parseInt(i,10)}},a)};t.TransitionOpacityInAndOut=E;var g=function e(t){var a=t.canUndo,n=t.canRedo,r=t.onUndo,s=t.onRedo,o=t.compact;var l=b.default.createElement(f.default,{"aria-label":(0,d.t)("Redo"),style:{margin:0,padding:0,opacity:n?1:.2},disabled:!n,onClick:function e(t){t.stopPropagation();s()}},b.default.createElement(i.Redo,null));return b.default.createElement(u.Flex,{justifyContent:"flex-end","data-sqs-keep-editors-open":true},b.default.createElement(f.default,{"aria-label":(0,d.t)("Undo"),style:{margin:0,padding:0,opacity:a?1:.2},disabled:!a,onClick:function e(t){t.stopPropagation();r()}},b.default.createElement(i.Undo,null)),o?b.default.createElement(E,{in:n},l):l)};g.propTypes={compact:s.default.bool,canUndo:s.default.bool,canRedo:s.default.bool,onUndo:s.default.func.isRequired,onRedo:s.default.func.isRequired};var S=(0,c.cmsStoreConnect)(function(e){return{canUndo:(0,m.getCanUndo)(e),canRedo:(0,m.getCanRedo)(e)}},{onUndo:p.undo,onRedo:p.redo});var w=S(g);t.FrameToolbarUndoRedoControls=w;var T=function e(t){var a=t.onUndo,n=t.onRedo,r=t.panel,s=(0,l.default)(t,["onUndo","onRedo","panel"]);return b.default.createElement(g,(0,o.default)({},s,{onUndo:function e(){v.default.userClickUndoCSE(r);a()},onRedo:function e(){v.default.userClickRedoCSE(r);n()}}))};var j=S(T);t.ContextualStyleUndoRedoControls=j},"./src/main/webapp/universal/src/apps/App/shared/utils/CatalogTaxonomyAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));var s="/api/catalog-taxonomy";var o=function e(t){return r.default.get("".concat(s,"/collection/").concat(t,"/categories"))};var l=function e(t,a){return r.default.post("".concat(s,"/collection/").concat(t,"/categories"),{categoryName:a})};var i=function e(t,a){return r.default.delete("".concat(s,"/collection/").concat(t,"/categories/").concat(a))};var u=function e(t,a){return r.default.get("".concat(s,"/collection/").concat(t,"/item/").concat(a,"/categories"))};var d=function e(t,a,n){return r.default.post("".concat(s,"/collection/").concat(t,"/item/").concat(a,"/categories"),{categoryName:n})};var c=function e(t,a,n){return r.default.delete("".concat(s,"/collection/").concat(t,"/item/").concat(a,"/categories/").concat(n))};var p={loadItemCategories:u,loadPageCategories:o,removeItemCategory:c,removePageCategory:i,saveItemCategory:d,savePageCategory:l};t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/ItemCatalogAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.setIsItemAvailableInCatalog=s;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));function s(e,t){return r.default.put("/api/item-catalog/item/".concat(e,"/available?availableInCatalog=").concat(t))}},"./src/main/webapp/universal/src/apps/App/shared/utils/PageCatalogAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.setIsPageAvailableInCatalog=s;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));function s(e,t){return r.default.put("/api/page-catalog/collection/".concat(e,"/available?availableInCatalog=").concat(t))}},"./src/main/webapp/universal/src/shared/utils/Tweaks/TweakAnalytics.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.fireProductSaveTweakEvents=t.fireSaveEvents=t.getAnalyticsDataForChangedTweakValues=t.dataFromDefinition=t.fireDebounced=t.fire=t.events=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var l=n(a("./common/temp/node_modules/lodash/map.js"));var s=n(a("./common/temp/node_modules/lodash/isArray.js"));var o=n(a("./common/temp/node_modules/lodash/debounce.js"));var i=n(a("./common/temp/node_modules/lodash/compact.js"));var u=n(a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var d=n(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var c=n(a("./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js"));var p=a("./src/main/webapp/universal/src/shared/utils/Tweaks/SiteAestheticsUtils.js");var m=n(a("./src/main/webapp/universal/src/shared/utils/Tweaks/getChangedTweakValues.js"));var f=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),true).forEach(function(e){(0,r.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var h={RESET:"tweak_reset",SAVE:"tweak_save",DISCARD:"tweak_discard",MODAL_OPEN:"tweak_modal_open",UPDATE:"tweak_update",FILTER_BY_CLICK:"tweak_filter_by_click",FILTER_BY_SHOW_ALL:"tweak_filter_by_show_all",STYLE_PACK_IMPORT:"tweak_style_pack_import",STYLE_PACK_EXPORT:"tweak_style_pack_export"};t.events=h;var y=500;var E={};var g=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a&&"string"===typeof a&&(n=b({},n,{tweak_page_type:a}));(0,u.default)(t,n)};t.fire=g;var S=function e(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];E[t]||(E[t]=(0,o.default)(function(){g.apply(void 0,n);delete E[t]},y));E[t]()};t.fireDebounced=S;var w=function e(t,a){if(!t)return null;return{tweak_label:t.label,tweak_name:t.variableName,tweak_category:t.category,tweak_type:t.type,tweak_value:a,tweak_is_draggable:(0,s.default)(t.properties)&&t.properties.length>0}};t.dataFromDefinition=w;var T=function e(t){var a=t.tweakDefinitions,n=t.tweakValuesSaved,r=t.tweakValuesCurrent;var s=(0,m.default)({prev:n,next:r});var o=(0,i.default)((0,l.default)(s,function(e,t){return w(a[t],e)}));return o};t.getAnalyticsDataForChangedTweakValues=T;var j=function e(t){var r=t.pageType,a=t.tweakApi,s=t.tweakDefinitions,o=t.tweakValuesSaved,l=t.tweakValuesCurrent;window.requestIdleCallback(function(){try{var e=T({tweakDefinitions:s,tweakValuesSaved:o,tweakValuesCurrent:l});var n=new Set;e.forEach(function(e){var t=e.tweak_type,a=e.tweak_name;if(d.default.isSevenOne()){if(t===c.default.color)return;if((0,p.isFontVariableName)(a))return}n.add(a);g(h.SAVE,r,e)});null===a||void 0===a?void 0:a.trackSaveChanges(Array.from(n))}catch(e){}},{timeout:1e3})};t.fireSaveEvents=j;var C=function e(t){var r=t.tweakValuesSaved,s=t.tweakValuesCurrent,o=t.indirectObjectType;window.requestIdleCallback(function(){try{var e=(0,m.default)({prev:r,next:s});for(var t=0,a=Object.keys(e);t<a.length;t++){var n=a[t];f.default.frameToolbarSaveTweak(n,o)}}catch(e){}})};t.fireProductSaveTweakEvents=C},"./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./src/main/webapp/universal/src/shared/utils/enum.js"));var s=(0,r.default)("fontFamily","fontStyle","fontWeight","value","dropdown","checkbox","color");t.default=s;e.exports=t.default}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/frame-toolbar-desktop-e3254130f12d9d6aa257e-min.en-US.js.map