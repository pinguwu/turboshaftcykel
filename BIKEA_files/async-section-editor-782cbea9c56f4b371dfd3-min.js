(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["async-section-editor"],{"./common/temp/node_modules/@sqs/block-editor-schemas/dist/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$":function(e,t,n){var a={"./block-editor-schemas.en-US.yaml":"./common/temp/node_modules/@sqs/block-editor-schemas/dist/sqs-i18n-translations/strings/block-editor-schemas.en-US.yaml"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}r.keys=function e(){return Object.keys(a)};r.resolve=s;e.exports=r;r.id="./common/temp/node_modules/@sqs/block-editor-schemas/dist/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$"},"./common/temp/node_modules/@sqs/block-schemas/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$":function(e,t,n){var a={"./block-schemas.en-US.json":"./common/temp/node_modules/@sqs/block-schemas/sqs-i18n-translations/strings/block-schemas.en-US.json"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}r.keys=function e(){return Object.keys(a)};r.resolve=s;e.exports=r;r.id="./common/temp/node_modules/@sqs/block-schemas/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$"},"./common/temp/node_modules/@sqs/local-listings/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":function(e,t,n){"use strict";var l={childContextTypes:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var c={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var u=Object.defineProperty;var p=Object.getOwnPropertyNames;var d=Object.getOwnPropertySymbols;var m=Object.getOwnPropertyDescriptor;var f=Object.getPrototypeOf;var v=f&&f(Object);function b(e,t,n){if("string"!==typeof t){if(v){var a=f(t);a&&a!==v&&b(e,a,n)}var r=p(t);d&&(r=r.concat(d(t)));for(var s=0;s<r.length;++s){var o=r[s];if(!l[o]&&!c[o]&&(!n||!n[o])){var i=m(t,o);try{u(e,o,i)}catch(e){}}}return e}return e}e.exports=b},"./common/temp/node_modules/@sqs/rosetta-icons/svg/Highlights.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11 6V4a7 7 0 110 14v-2H6.101a7.018 7.018 0 01-1.427-2H11v-2H4.07a7.06 7.06 0 010-2H11V8H4.674A7.018 7.018 0 016.1 6H11zm0-4a9 9 0 100 18 9 9 0 000-18z' fill='%230E0E0E'/%3E%3C/svg%3E"},"./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpFull.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 16V2h14v14H4zM6 4h10v10H6V4z' fill='%230E0E0E'/%3E%3Cpath d='M4 18h6v2H4v-2zM12 18h6v2h-6v-2z' fill='%230E0E0E'/%3E%3C/svg%3E"},"./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpHalf.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 2v18h10V2H1zm8 2H3v14h6V4z' fill='%230E0E0E'/%3E%3Cpath d='M13 2h8v2h-8V2zM21 6h-8v2h8V6z' fill='%230E0E0E'/%3E%3C/svg%3E"},"./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpSimple.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3 2H1v2h2V2z' fill='%230E0E0E'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5 2v18h10V2H5zm8 2H7v14h6V4z' fill='%230E0E0E'/%3E%3Cpath d='M17 2h4v2h-4V2zM21 6h-4v2h4V6zM1 6h2v2H1V6z' fill='%230E0E0E'/%3E%3C/svg%3E"},"./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpWrap.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 10h6v10H4V2h8v8zm-2-6H6v6h4V4zm0 14v-6H6v6h4zm6 0v-6h-4v6h4z' fill='%230E0E0E'/%3E%3Cpath d='M14 2h4v2h-4V2zM18 6h-4v2h4V6z' fill='%230E0E0E'/%3E%3C/svg%3E"},"./common/temp/node_modules/@sqs/uischema-fields/web/DropdownSelectField.js":function(e,t,n){e.exports=n("./common/temp/node_modules/@sqs/uischema-fields/web/components/DropdownSelectField.js")},"./common/temp/node_modules/@sqs/uischema-fields/web/components/DropdownSelectField.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var r=n("./common/temp/node_modules/react/index.js");var s=p(r);var o=n("./common/temp/node_modules/prop-types/index.js");var i=p(o);var l=n("./common/temp/node_modules/@sqs/core-components/fields/DropdownSelectField.js");var c=p(l);var u=n("./common/temp/node_modules/@sqs/uischema-fields/web/utils/propTransforms.js");function p(e){return e&&e.__esModule?e:{default:e}}var d=function e(t){return s.default.createElement(c.default,a({},(0,u.baseProps)(t),(0,u.enumToOptions)(t),{actionButton:t.actionButton,dropdownClassName:t.dropdownClassName,isFloating:t.isFloating,isMulti:t.isMulti,maxHeight:t.maxHeight,placeholder:t.placeholder}))};d.displayName="DropdownSelectField";d.dispatchTypes=i.default.string;d.propTypes={actionButton:i.default.oneOfType([i.default.func,i.default.object]),className:i.default.string,dropdownClassName:i.default.string,enum:i.default.arrayOf(i.default.any),enumAnnotation:i.default.arrayOf(i.default.shape({icon:i.default.oneOfType([i.default.element,i.default.func,i.default.string]),label:i.default.string})),errors:i.default.shape({message:i.default.string}),isDisabled:i.default.bool,isFloating:i.default.bool,isMulti:i.default.bool,maxHeight:i.default.number,onChange:i.default.func.isRequired,placeholder:i.default.string,value:i.default.any};t.default=d;e.exports=t["default"]},"./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/components/AssetPreviewField/AssetPreviewFieldActions.less":function(e,t,n){e.exports={replaceActionMenu:"_33kbrdnAk",deleteActionMenu:"mxEV1PhNE"}},"./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/i18n/index.js":function(e,t,n){"use strict";n.r(t);n.d(t,"getI18nInstance",function(){return l});n.d(t,"setI18nInstance",function(){return c});var a=n("./common/temp/node_modules/@sqs/i18n-ui/lib/library-helpers.js");var r=n.n(a);var s="assetManagement.assetUploader";function o(e){return n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$")("./".concat(s,".").concat(e,".yaml"))}var i=Object(a["setupLibrary"])(s,o),l=i.getI18nInstance,c=i.setI18nInstance},"./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/index.js":function(e,t,n){"use strict";n.r(t);n.d(t,"ActionsMenu",function(){return S});n.d(t,"AssetPreviewContainer",function(){return w});n.d(t,"AssetPreviewField",function(){return Fe});n.d(t,"AssetUploadContext",function(){return Ve});n.d(t,"useAssetUploadContext",function(){return Ge});n.d(t,"withAssetUploadContext",function(){return He});n.d(t,"UPLOAD_UI_STATE",function(){return Ue});n.d(t,"AssetUploaderField",function(){return $e});n.d(t,"requestMediaUpload",function(){return ht});n.d(t,"requestJobProcess",function(){return _t});n.d(t,"HiddenInputField",function(){return Ct});n.d(t,"UploadErrorModal",function(){return Tt});n.d(t,"acceptedFileTypes",function(){return xe});n.d(t,"acceptedFileTypeEnums",function(){return Ie});n.d(t,"useAssetDetails",function(){return xt});n.d(t,"setI18nInstance",function(){return x["setI18nInstance"]});n.d(t,"FocalPointPopOver",function(){return Gt});n.d(t,"FocalPointAnchor",function(){return Lt});n.d(t,"useFocalPoint",function(){return qt});n.d(t,"EventTracking",function(){return a});var a={};n.r(a);n.d(a,"EventTrackingContext",function(){return on});n.d(a,"useEventTrackingContext",function(){return ln});n.d(a,"withEventTrackingContext",function(){return cn});n.d(a,"withEventTrackingConsumer",function(){return un});n.d(a,"EventTrackingProvider",function(){return dn});var r=n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js");var u=n.n(r);var O=n("./common/temp/node_modules/react/index.js");var E=n.n(O);var s=n("./common/temp/node_modules/prop-types/index.js");var o=n.n(s);var h=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var g=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Flex/index.js");var i=n("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/ActionList/index.js");var m=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Touchable/index.js");var f=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Text/index.js");var l=function e(t){var n=t.onClick,a=t.IconComponent,r=t.title,s=t.subtitle,o=t.color;return E.a.createElement(m["a"].Solid,{onClick:n,sx:{cursor:"pointer"}},E.a.createElement(g["a"],{pl:2,pr:4,py:2,justifyItems:"center",width:"100%"},E.a.createElement(g["a"],{alignSelf:"center",alignContent:"center",mr:2,size:"sizes.150"},E.a.createElement(a,{color:o,width:"100%"})),E.a.createElement(g["a"],{flexDirection:"column"},E.a.createElement(f["a"].Action,{color:o},r),s&&E.a.createElement(f["a"].Caption,null,s))))};l.propTypes={onClick:o.a.func.isRequired,IconComponent:o.a.elementType.isRequired,title:o.a.string.isRequired,subtitle:o.a.string,color:o.a.string};l.defaultProps={color:"gray.100",subtitle:""};var c=l;var p=n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js");var _=n.n(p);var d=function e(){var t=Object(O["useState"])(false),n=_()(t,2),a=n[0],r=n[1];return{isMenuOpen:a,onCloseMenu:function e(){return r(false)},onOpenMenu:function e(){return r(true)}}};var v=d;var b=function e(t){var n=t.children,a=u()(t,["children"]);var r=function e(){return E.a.createElement(g["a"],{width:"100%",flexDirection:"column",flexWrap:"wrap",justifyContent:"stretch",py:1},n)};return E.a.createElement(E.a.Fragment,null,a.isOpen&&E.a.createElement(h["Modal"],null,E.a.createElement(h["Modal"].Overlay,{background:"transparent"})),E.a.createElement(i["a"].PopOver,a,r))};b.propTypes={children:o.a.oneOfType([o.a.element,o.a.arrayOf(o.a.element)]).isRequired,isOpen:o.a.bool,onRequestClose:o.a.func,onRequestOpen:o.a.func,renderTrigger:o.a.func};b.Button=c;b.useMenuOpenState=v;var S=b;var y=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Box/index.js");var j=function e(t){var n=t.children;return E.a.createElement(y["a"],{maxWidth:"sizes.700",px:3,sx:{"& > *":{width:"100%"}}},n)};j.propTypes={children:o.a.oneOfType([o.a.element,o.a.arrayOf(o.a.element)]).isRequired};var w=j;var P=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Button/index.js");var A=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Trash.js");var C=n("./common/temp/node_modules/@sqs/i18n-ui/lib/react/index.js");var I=n.n(C);var T=n("./common/temp/node_modules/@sqs/i18n-ui/lib/icu-message-formatter/index.js");var k=n.n(T);var x=n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/i18n/index.js");var D=Object(x["getI18nInstance"])();var R=new I.a(D);var M=new k.a(D);var N=R.T,F=R.Plural,U=R.FormattedCurrency,L=R.FormattedNumber,q=R.FormattedDateTime,H=R.RelativeTime,G=R.FormattedMoney;var V=D.formatNumber,B=D.formatCurrency,W=D.formatCurrencyToParts,z=D.getCurrencySymbol,J=D.formatQuantity,K=D.formatDateTime,Y=D.formatRelativeTime,$=D.translate,Z=D.pluralize,X=D.formatMoney;var Q=M.formatIcuMessage;var ee=n("./common/temp/node_modules/@babel/runtime/helpers/extends.js");var te=n.n(ee);var ne=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/AlignVerticalTop.js");var ae=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Portfolio.js");var re=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Search.js");var se=n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/components/AssetPreviewField/AssetPreviewFieldActions.less");var oe=n.n(se);var ie=function e(t){var n=t.children,a=t.isOpen,r=t.onBrowseStockImages,s=t.onRequestClose,o=t.onRequestOpen,i=t.onSelectFromFile,l=t.onUploadFile,c=u()(t,["children","isOpen","onBrowseStockImages","onRequestClose","onRequestOpen","onSelectFromFile","onUploadFile"]);return E.a.createElement(S,te()({},c,{isOpen:a,onRequestClose:s,onRequestOpen:o}),l&&E.a.createElement(S.Button,{IconComponent:ne["a"],title:$("Upload File",null,{project:"assetManagement.assetUploader"}),onClick:function e(){l();s()}}),i&&E.a.createElement(S.Button,{IconComponent:ae["a"],title:$("Select from Library",null,{project:"assetManagement.assetUploader"}),onClick:function e(){i();s()}}),r&&E.a.createElement(S.Button,{IconComponent:re["a"],title:$("Browse Stock Images",null,{project:"assetManagement.assetUploader"}),onClick:function e(){r();s()}}),n)};ie.propTypes={isOpen:o.a.bool.isRequired,onRequestClose:o.a.func.isRequired,onRequestOpen:o.a.func.isRequired,onBrowseStockImages:o.a.func,onSelectFromFile:o.a.func,onUploadFile:o.a.func};var le=ie;var ce=n("./common/temp/node_modules/@babel/runtime/helpers/objectSpread.js");var ue=n.n(ce);var pe=n("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/main.js");var de=n("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/compose.js");var me=n("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/system.js");var fe=function e(t){return E.a.createElement("svg",te()({color:t.color,fill:"currentColor",height:22,viewBox:"0 0 22 22",width:22,xmlns:"http://www.w3.org/2000/svg"},t),E.a.createElement("path",{d:"M3 3H9V5H5V9H3V3Z"}),E.a.createElement("path",{d:"M19 3H13V5H17V9H19V3Z"}),E.a.createElement("path",{d:"M9 19H3V13H5V17H9V19Z"}),E.a.createElement("path",{d:"M19 19H13V17H17V13H19V19Z"}),E.a.createElement("circle",{cx:"11",cy:"11",r:"2"}))};fe.propTypes={color:o.a.string};var ve=Object(pe["a"])(fe)(Object(de["a"])(me["d"],me["s"],me["g"]));ve.propTypes={color:o.a.oneOf(o.a.string,o.a.bool)};var be=function e(t){return E.a.createElement(ve,ue()({color:"gray.100"},t))};var he=be;var ge=function e(t){return E.a.createElement(S.Button,te()({title:$("Focal Point",null,{project:"assetManagement.assetUploader"}),IconComponent:he},t))};var Se=ge;var ye=S.useMenuOpenState;var je=function e(t){var n=t.onBrowseStockImages,a=t.onEdit,r=t.onFocalPointClick,s=t.onPurchase,o=t.onRemove,i=t.onSelectFromFile,l=t.onUploadFile;var c=ye(),u=c.isMenuOpen,p=c.onCloseMenu,d=c.onOpenMenu;var m=ye(),f=m.isMenuOpen,v=m.onCloseMenu,b=m.onOpenMenu;return E.a.createElement(g["a"],{alignItems:"flex-end",justifyContent:"space-between",pb:1},E.a.createElement(g["a"],null,E.a.createElement(le,{renderTrigger:function e(t){var n=t.toggleActionListOpen;return E.a.createElement(P["a"].Tertiary,{onClick:n},$("Replace",null,{project:"assetManagement.assetUploader"}))},isOpen:f,onRequestOpen:b,onRequestClose:v,onBrowseStockImages:n,onSelectFromFile:i,onUploadFile:l,position:"bottom-right",className:oe.a.replaceActionMenu}),a&&E.a.createElement(P["a"].Tertiary,{ml:2,onClick:a},$("Edit",null,{project:"assetManagement.assetUploader"})),s&&E.a.createElement(P["a"].Tertiary,{ml:2,onClick:s},$("Purchase",null,{project:"assetManagement.assetUploader"}))),E.a.createElement(S,{isOpen:u,onRequestClose:p,onRequestOpen:d,position:"bottom-left",className:oe.a.deleteActionMenu},r&&E.a.createElement(E.a.Fragment,null,E.a.createElement(Se,{onClick:function e(){r();p()}}),E.a.createElement(h["Divider"],{my:1})),E.a.createElement(S.Button,{title:$("Remove",null,{project:"assetManagement.assetUploader"}),IconComponent:A["a"],color:"red",onClick:function e(){o();p()}})))};je.propTypes={onEdit:o.a.func,onFocalPointClick:o.a.func,onPurchase:o.a.func,onRemove:o.a.func.isRequired,onReplace:o.a.func.isRequired};var we=je;var Pe=n("./common/temp/node_modules/core-js/modules/es.array.reduce.js");var Oe=n("./common/temp/node_modules/core-js/modules/es.object.entries.js");var Ee=n("./common/temp/node_modules/core-js/modules/es.object.keys.js");var _e=n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js");var Ae=n.n(_e);var Ce={IMAGE:["image/jpeg","image/png","image/gif"],AUDIO:["audio/mp3","audio/mpeg","audio/wav"],VIDEO:["video/mp4","video/quicktime"]};var Ie=Object.keys(Ce).reduce(function(e,t){e[t]=t;return e},{});var Te=Object.entries(Ce).reduce(function(e,t){var n=_()(t,2),a=n[0],r=n[1];return ue()({},e,r.reduce(function(e,t){return ue()({},e,Ae()({},t,a))},{}))},{});var ke=function e(t){return Te[t]};var xe=Ce;var De=$("Preview",null,{project:"assetManagement.assetUploader"});var Re=function e(t){var n=t.assetDetails,a=void 0===n?{}:n,r=t.isProcessing,s=void 0!==r&&r;return E.a.createElement(g["a"],{justifyContent:"space-between",alignItems:"center",pb:2},E.a.createElement(g["a"],{minWidth:"0"},E.a.createElement(h["Image"],{borderRadius:"2px",mr:2,width:"sizes.200",height:"sizes.200",src:a.imageSrc,sx:{objectFit:"cover",visibility:a.imageSrc?"visible":"hidden"},opacity:s&&"0.4"}),E.a.createElement(g["a"],{flexDirection:"column",justifyContent:"center",flex:"1",minWidth:"0"},E.a.createElement(f["a"].Body,{as:"span",color:s&&"gray.600",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},a.filename),!s&&E.a.createElement(f["a"].Caption,{as:"span",css:{textTransform:"capitalize"}},ke(a.fileType).toLowerCase()," ",De))),s&&E.a.createElement(y["a"],{ml:2},E.a.createElement(h["ActivityIndicator"],{size:0})))};Re.propTypes={assetDetails:o.a.shape({imageSrc:o.a.string,filename:o.a.string,fileType:o.a.string}),isProcessing:o.a.bool};var Me=Re;var Ne=function e(t){var n=t.assetDetails,a=t.isProcessing,r=t.onEdit,s=t.onFocalPointClick,o=t.onPurchase,i=t.onRemove,l=t.onUploadFile,c=t.onSelectFromFile,u=t.onBrowseStockImages;return E.a.createElement(E.a.Fragment,null,E.a.createElement(y["a"],{backgroundColor:"gray.900",borderRadius:1,pt:2,px:2},E.a.createElement(Me,{assetDetails:n,isProcessing:a}),!a&&E.a.createElement(we,{onEdit:r,onFocalPointClick:s,onPurchase:o,onRemove:i,onUploadFile:l,onSelectFromFile:c,onBrowseStockImages:u})),o&&E.a.createElement(f["a"].Caption,{as:"div",mt:1},$("This is an unlicensed preview image. To purchase its license, select “Purchase” above. Watermarks will be removed after purchase.",null,{project:"assetManagement.assetUploader"})))};Ne.propTypes={assetDetails:o.a.shape(),isProcessing:o.a.bool,onEdit:o.a.func,onFocalPointClick:o.a.func,onPurchase:o.a.func,onRemove:o.a.func,onReplace:o.a.func};Ne.Mini=Me;Ne.Actions=we;Ne.ReplaceFileMenu=le;var Fe=Ne;var Ue={EMPTY:"EMPTY",UPLOADING:"UPLOADING",PROCESSING:"PROCESSING",COMPLETE:"COMPLETE",ERROR:"ERROR"};var Le=E.a.createContext(void 0);var qe=function e(t){var n=t.children,a=t.initialState,r=void 0===a?Ue.EMPTY:a;var s=Object(O["useState"])(r),o=_()(s,2),i=o[0],l=o[1];var c=Object(O["useState"])(null),u=_()(c,2),p=u[0],d=u[1];var m=Object(O["useState"])(0),f=_()(m,2),v=f[0],b=f[1];var h=function e(){null!==p&&d(null);l(Ue.UPLOADING)};var g=b;var S=function e(){l(Ue.PROCESSING)};var y=function e(){l(Ue.COMPLETE)};var j=function e(t){d(t.message);l(Ue.ERROR)};var w=function e(){l(Ue.EMPTY)};var P=Object(O["useMemo"])(function(){return{uploadState:i,progress:v,errorMessage:p,onUploadStart:h,onUploadProgress:g,onUploadProcess:S,onUploadComplete:y,onUploadFail:j,onUploadReset:w}},[i,v]);return E.a.createElement(Le.Provider,{value:P},n)};qe.propTypes={children:o.a.any.isRequired,initialState:o.a.oneOf(Ue)};var He=function e(n){var t=function e(t){return E.a.createElement(qe,null,E.a.createElement(n,t))};return t};var Ge=function e(){var t=Object(O["useContext"])(Le);if(t)return t;throw new Error("To use useAssetUploadContext, the component needs to be a child of AssetUploadContext")};var Ve=qe;var Be=n("./common/temp/node_modules/core-js/modules/es.array.includes.js");var We=n("./common/temp/node_modules/core-js/modules/es.object.values.js");var ze=n("./common/temp/node_modules/core-js/modules/es.string.includes.js");var Je=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/icons/Plus.js");var Ke={DEFAULT:"DEFAULT",FOCUS:"FOCUS",HOVER:"HOVER"};var Ye=function e(t){var a=t.fileType,n=t.onAddFileClick,r=t.onDropFile;var s=Object(O["useState"])(Ke.DEFAULT),o=_()(s,2),i=o[0],l=o[1];var c=function e(){if(!r)return{};return{onDragEnter:function e(t){t.preventDefault();l(Ke.FOCUS)},onDragLeave:function e(t){t.preventDefault();l(Ke.DEFAULT)},onDragOver:function e(t){t.preventDefault();t.dataTransfer.dropEffect="copy"},onDrop:function e(t){t.preventDefault();var n=t.dataTransfer.items[0];if(n&&"file"===n.kind&&xe[a].includes(n.type))r(n.getAsFile());else if(!xe[a].includes(n.type))throw new Error("Unsupported file type ".concat(n.type))}}};var u=function e(t){t.stopPropagation();n()};var p=function e(){l(Ke.HOVER)};var d=function e(){l(Ke.DEFAULT)};return E.a.createElement(y["a"],te()({py:4,px:6,borderWidth:1,borderStyle:"dashed",borderColor:i===Ke.FOCUS?"gray.100":"gray.600",backgroundColor:i===Ke.FOCUS?"gray.700":"transparent",borderRadius:3,sx:{cursor:"pointer"},onClick:u,onMouseOver:p,onFocus:p,onMouseOut:d,onBlur:d},c()),E.a.createElement(g["a"],{justifyContent:"center",sx:{pointerEvents:"none"}},E.a.createElement(m["a"].Solid,{sx:{size:"sizes.200",borderRadius:"circle",backgroundColor:(i===Ke.FOCUS?"white":i===Ke.HOVER&&"gray.800")||"gray.900"}},E.a.createElement(Je["a"],null))),E.a.createElement(f["a"].Body,{as:"div",color:"gray.100",textAlign:"center",pt:2,sx:{pointerEvents:"none"}},$("Add an image",null,{project:"assetManagement.assetUploader"})),E.a.createElement(f["a"].Caption,{as:"div",color:"gray.300",textAlign:"center",sx:{pointerEvents:"none"}},$("20MB max",null,{project:"assetManagement.assetUploader"})))};Ye.propTypes={fileType:o.a.oneOf(Object.values(Ie)),onAddFileClick:o.a.func.isRequired,onDropFile:o.a.func};Ye.defaultProps={fileType:Ie.IMAGE,onDropFile:null};var $e=Ye;var Ze=n("./common/temp/node_modules/core-js/modules/es.object.to-string.js");var Xe=n("./common/temp/node_modules/core-js/modules/es.promise.js");var Qe=n("./src/main/webapp/frontend/packages/asset-management/asset-authorization-client/lib/clients/AlexandriaAuthorizationClient.js");var et=n("./common/temp/node_modules/core-js/modules/es.array.concat.js");var tt=n("./common/temp/node_modules/core-js/modules/es.function.name.js");var nt=n("./common/temp/node_modules/@sqs/network/lib/index.js");var at=n.n(nt);var rt=n("./common/temp/node_modules/cancel/lib/index.js");var st=n.n(rt);var ot="https://media.dev.squarespace.net";var it="https://media.stage.sqsp.net";var lt="https://media-api.squarespace.com";var ct={};var ut=function e(t){var n=ct[t]=new st.a;return n};var pt=function e(t){var n=ct[t];delete ct[t];return n};var dt=function e(r){return function(e){var t=e.lengthComputable,n=e.loaded,a=e.total;t&&r(n/a*100)}};var mt=function e(n){return Object.keys(n).reduce(function(e,t){n[t]instanceof window.Blob?e.append(t,n[t],n[t].name):e.append(t,n[t]);return e},new FormData)};var ft=function e(t,n,a){var r=a.websiteId,s=a.onProgress,o=a.onCancel,i=a.isInternal;var l=i?ot:lt;var c="image";var u="".concat(l,"/uploads/").concat(c);var p={image:n};var d={headers:{"Content-Type":"multipart/form-data","X-sqsp-source":"web upload","X-Library-Id":r},withCredentials:true};o&&(d.cancel=ut(t));s&&(d.progress=dt(s));return at.a.post(u,mt(p),d).then(function(e){pt(t);return Promise.resolve(e)},function(e){e instanceof rt["CancellationError"]?o(t):pt(t);return Promise.reject(e.error||e)})};var vt=ft;var bt=function e(t,n){var a=n.uploadToken;return Qe["a"].authorize().then(function(){return vt(a.getId(),t,n)}).catch(function(e){Qe["a"].handleErrorResponse(e);return Promise.reject(e)})};var ht=bt;var gt=n("./common/temp/node_modules/core-js/modules/es.array.join.js");var St=n("./common/temp/node_modules/@babel/runtime/regenerator/index.js");var yt=n.n(St);var jt=n("./common/temp/node_modules/regenerator-runtime/runtime.js");var wt=n("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js");var Pt=n.n(wt);var Ot=function e(t,n){var a=n.isInternal;Array.isArray(t)&&(t=t.join(","));var r=a?ot:lt;var s="image";return at.a.get("".concat(r,"/jobs/").concat(s,"/status?job-list=").concat(t))};var Et=function(){var a=Pt()(yt.a.mark(function e(n,a){var r,s,o;return yt.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=a.isInternal;s=function e(){return new Promise(function(t){setTimeout(function(){Ot(n,{isInternal:r}).then(function(e){t(e.data[0])})},2e3)})};o=function(){var n=Pt()(yt.a.mark(function e(n){var a;return yt.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:if(!n.isActive){t.next=5;break}t.next=3;return s();case 3:a=t.sent;return t.abrupt("return",o(a));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}},e)}));return function e(t){return n.apply(this,arguments)}}();return t.abrupt("return",o({id:n,isActive:true}));case 4:case"end":return t.stop()}},e)}));return function e(t,n){return a.apply(this,arguments)}}();var _t=Et;var At=E.a.forwardRef(function(e,t){var n=e.fileType,a=e.isMultiple;return E.a.createElement("input",{type:"file",accept:xe[n].join(", "),ref:t,multiple:a,style:{display:"none"}})});At.propTypes={isMultiple:o.a.bool,fileType:o.a.oneOf(Object.values(Ie))};At.defaultProps={fileType:Ie.IMAGE,isMultiple:false};At.useHiddenInputField=function(n){var a=E.a.createRef();var e=function e(){if(a&&a.current){var t=function e(t){n(t.target.files[0]);t.target.removeEventListener("change",e)};a.current.click();a.current.addEventListener("change",t)}};return{inputRef:a,onOpenFileBrowser:e}};var Ct=At;var It=n("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/AlertDialog/index.js");var Tt=function(e){var t=e.isOpen,n=e.message,a=e.onRequestClose;return E.a.createElement(h["Modal"].Transition,null,t&&E.a.createElement(h["Modal"],{closeOnOverlayClicked:false},E.a.createElement(h["Modal"].Overlay,null),E.a.createElement(h["Modal"].Position,{position:"center"},E.a.createElement(It["a"],{title:$("Something went wrong",null,{project:"assetManagement.assetUploader"}),message:n,buttons:[function(){return E.a.createElement(It["a"].Button,{key:"close",onClick:a},E.a.createElement(N,{project:"assetManagement.assetUploader"},"Close"))}]}))))};var kt=function e(){var t=Object(O["useState"])({assetUrl:void 0,fileType:void 0,filename:void 0,id:void 0,licensedAssetPreview:void 0,mediaFocalPoint:{x:.5,y:.5}}),n=_()(t,2),a=n[0],l=n[1];var r=function e(t){var n=new FileReader;n.readAsDataURL(t);n.onload=function(){l({id:void 0,imageSrc:n.result,filename:t.name,fileType:t.type,mediaFocalPoint:{x:.5,y:.5}})}};return{assetDetails:a,setAssetDetailsFromFile:r,setAssetDetails:function e(t){var n=t.assetUrl,a=t.id,r=t.filename,s=t.fileType,o=t.licensedAssetPreview,i=t.mediaFocalPoint;l({assetUrl:n,id:a,filename:r,fileType:s,licensedAssetPreview:o,mediaFocalPoint:i})}}};var xt=kt;var Dt=n("./common/temp/node_modules/core-js/modules/es.string.anchor.js");var Rt=n("./common/temp/node_modules/@sqs/core-components/build/lib/index.js");var Mt=function e(t){return ue()({},t,{y:1-t.y})};var Nt=200;var Ft=function e(t){var n=t.onChange,a=t.value,r=t.assetUrl;var s=$("Move the focal point to determine which part of the image stays focused in the frame.",null,{project:"assetManagement.assetUploader"});var o=Object(O["useState"])(Mt(a)),i=_()(o,2),l=i[0],c=i[1];var u=function e(t,n){c({x:t,y:n})};Object(O["useEffect"])(function(){n(Mt(l))},[l]);return E.a.createElement(y["a"],{p:2,sx:{"& .focal-point-image-field":{backgroundColor:"transparent",borderWidth:0},"& div[class^=Handle]":{width:"22px",height:"22px",borderWidth:"3px",boxShadow:"0px 2px 8px 0px rgb(0 0 0 / 12%), inset 0px 0px 1px 0px rgb(0 0 0 / 8%)"}}},E.a.createElement(g["a"],{backgroundColor:"gray.900",mb:1,alignContent:"center",justifyContent:"center"},E.a.createElement(Rt["ImageField"],{className:"focal-point-image-field",focalPoint:l,onFocalPointChange:u,maxHeight:Nt,value:r,src:r,dataField:false})),E.a.createElement(f["a"].Caption,{as:"p",lineHeight:"16px"},s))};Ft.propTypes={assetUrl:o.a.string.isRequired,onChange:o.a.func.isRequired,value:o.a.shape({x:o.a.number.isRequired,y:o.a.number.isRequired}).isRequired};var Ut=Ft;var Lt=E.a.forwardRef(function(e,t){return E.a.createElement(y["a"],te()({},e,{ref:t,width:"100%",position:"relative"}))});var qt=function e(){var t=Object(O["useState"])(false),n=_()(t,2),a=n[0],r=n[1];var s=E.a.createRef();Object(O["useEffect"])(function(){s.current&&r(s.current)},[s.current]);var o=v(),i=o.isMenuOpen,l=o.onCloseMenu,c=o.onOpenMenu;return{focalPointAnchor:a,focalPointRef:s,isFocalPointOpen:i,onCloseFocalPoint:l,onOpenFocalPoint:c}};var Ht=function e(t){var n=t.anchor,a=t.focalPointProps,r=t.style,s=void 0===r?{}:r,o=u()(t,["anchor","focalPointProps","style"]);return E.a.createElement(h["PopOver"],te()({anchor:n,closeOnClickOutside:true,position:"bottom"},o,{style:ue()({width:null===n||void 0===n?void 0:n.clientWidth,borderRadius:"4px",overflow:"hidden"},s)}),E.a.createElement(Ut,a))};Ht.propTypes={anchor:o.a.instanceOf(Node).isRequired,focalPointProps:o.a.shape({}),style:o.a.shape({})};var Gt=Ht;var Vt=n("./common/temp/node_modules/@sqs/track-events/v2.js");var Bt=n.n(Vt);var Wt=n("./common/temp/node_modules/@sqs/local-listings/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");var zt=n.n(Wt);var Jt;var Kt={DEVELOPMENT:"DEVELOPMENT",DEV_PROXY:"DEV_PROXY",INTERNAL:"INTERNAL",INTRANET:"INTRANET",PRODUCTION:"PRODUCTION",QA:"QA",STAGING:"STAGING"};var Yt={customSchemaName:"AssetUploader",fireEvents:true,logging:false,useBeacon:true,validateMode:false};var $t=ue()({},Yt,{devBaseDomainUrl:"http://localhost:1338",logging:true,sourceEnvironment:Vt["SourceEnvironment"].DEV});var Zt=ue()({},Yt,{sourceEnvironment:Vt["SourceEnvironment"].STAGING});var Xt=ue()({},Yt,{sourceEnvironment:Vt["SourceEnvironment"].STAGING});var Qt=(Jt={},Ae()(Jt,Kt.DEVELOPMENT,$t),Ae()(Jt,Kt.DEV_PROXY,$t),Ae()(Jt,Kt.STAGING,Zt),Ae()(Jt,Kt.PRODUCTION,Xt),Jt);var en=function e(t){return Qt[t]};var tn={USER_ADDS_FILE:"UserAddsFile",USER_CANCELS_FROM_OS_FILE_MENU:"UserCancelsFromOSFileMenu",USER_CLICKS_EDIT_FILE:"UserClicksEditFile",USER_CLICKS_FILE_OVERFLOW:"UserClicksFileOverflow",USER_CLICKS_REPLACE_FILE:"UserClicksReplaceFile",USER_CLICKS_TO_SELECT_FILE:"UserClicksToSelectFile",USER_DRAGS_AND_DROPS_FILE:"UserDragsAndDropsFile",USER_FILE_LOADS:"UserFileLoads",USER_MOVES_FOCAL_POINT:"UserMovesFocalPoint",USER_SELECTS_FILE_FROM_OS_FILE_MENU:"UserSelectsFileFromOSFileMenu",USER_SELECTS_FILE_UPLOAD_OPTIONS:"UserSelectsFileUploadOptions",USER_SELECTS_OPTION_FROM_FILE_OVERFLOW:"UserSelectsOptionFromFileOverflow",USER_VIEWS_OS_FILE_MENU:"UserViewsOSFileMenu",USER_VIEWS_SELECT_FILE_OPTIONS:"UserViewsSelectFileOptions"};var nn={CANCEL:"cancel",CLICK:"click",LOAD:"load",SELECT:"select",VIEW:"view"};var an={CLICK_TO_SELECT:"click-to-select",DRAG_AND_DROP:"drag-and-drop",SELECT_FILE_OPTIONS:"select-file-options",OS_FILE_MENU:"os-file-menu",OS_FILE_MENU_SELECT:"os-file-menu-select",ADD_FILE:"add-file",UPLOAD_FILE:"upload-file",EDIT_FILE:"edit-file",REPLACE_FILE:"replace-file",MEDIA_FOCAL_POINT:"focal-point",FILE_OVERFLOW_MENU:"file-overflow-menu"};var rn={BUTTON:"button",FILE:"file",MENU:"menu",MENU_ITEM:"menuitem",MODAL:"modal"};var sn=function e(t){return t};var on=Object(O["createContext"])({});var ln=function e(){return Object(O["useContext"])(on)};var cn=function e(n){var t=function e(t){return E.a.createElement(dn,null,E.a.createElement(n,t))};return t};var un=function e(n){var t=function e(t){return E.a.createElement(on.Consumer,null,function(e){return E.a.createElement(n,te()({},t,{tracking:e}))})};t.displayName="withEventTrackingConsumer(".concat(sn(n));return zt()(t,n)};var pn=null;var dn=function e(t){var n=t.children;var a={actor:"user",event_owner_team:"asset_management",event_source:"web",member_account_id:null,object_id:null,object_identifier:null,product_area:"AssetUploader",indirect_object_type:"menu"};var r=function e(t){var n=en(t);pn=new Bt.a(n,a)};var s=function e(t){try{pn.track(t)}catch(e){console.error("[".concat(a.product_area,"] Event Tracker not initialized"))}};var o=function e(){s({action:nn.CLICK,event_name:tn.USER_CLICKS_TO_SELECT_FILE,object_type:rn.MENU_ITEM,object_identifier:an.CLICK_TO_SELECT,object_display_name:"Click to select image or drag and drop"})};return E.a.createElement(on.Provider,{value:{setTrackingEnvironment:r,trackClickToSelectFile:o}},n)}},"./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$":function(e,t,n){var a={"./assetManagement.assetUploader.en-US.yaml":"./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/sqs-i18n-translations/strings/assetManagement.assetUploader.en-US.yaml"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}r.keys=function e(){return Object.keys(a)};r.resolve=s;e.exports=r;r.id="./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$"},"./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/sqs-i18n-translations/strings/assetManagement.assetUploader.en-US.yaml":function(e,t){e.exports={c9f775865d2708f36b272d0c5302ca56:"Add an image","3b234cfb515fdb9f52e3a9fe0d4992ba":"20MB max","8d749770c198f58fd3e6f79d4ba11e67":"Something went wrong","02c110012e118fc1605f92b067deac6d":"Close",e98f9a5d91521b7b5e89da310f150d35:"Replace","29db57a05cd734b5455c61bc377f2841":"Edit","7df6fa342a5ef369209818f3f314051f":"Purchase","69f27aaab58644542a723100eb095988":"Remove","714c7f018d1a9f39a91c536e87ae4744":"Preview",f6b80587f94f8898e26aee84c0b68d31:"Upload File",df58165b00f55dde6d1f0bf2b1deb3c5:"Select from Library",adfbe17a80dda456cf0381a02a68c843:"Browse Stock Images",e5a4287e70dcca84e524678936df0e8f:"This is an unlicensed preview image. To purchase its license, select “Purchase” above. Watermarks will be removed after purchase.","473e4d316b01fbe0a03518aa2198cf40":"Focal Point",cdb2893961a3366329410c3d471d3efb:"Move the focal point to determine which part of the image stays focused in the frame."}},"./src/main/webapp/frontend/packages/enums/SectionBackgroundMode.js":function(e,t){var n={IMAGE:"image",VIDEO:"video"};e.exports=n},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/constants/panelIdConstants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ASSET_PICKER_PANEL_ID=void 0;var a={UNSPLASH_PANEL:"unsplash-panel",MY_LIBRARY:"my-library",GETTY_PANEL:"getty-panel"};t.ASSET_PICKER_PANEL_ID=a},"./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/PreviewField.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var x=r(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/asset-uploader.js");var D=a(n("./common/temp/node_modules/react/index.js"));var o=r(n("./common/temp/node_modules/prop-types/index.js"));var R=r(n("./src/main/webapp/universal/src/apps/App/shared/components/ImageEditor/index.js"));var M=r(n("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/index.js"));var N=n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/index.js");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),true).forEach(function(e){(0,s.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=function e(t){var n=t.assetDetails,a=t.onAssetPurchaseSuccess,r=t.onBrowseStockImages,s=t.onRemove,o=t.onSelectFromFile,i=t.onUploadFile,l=t.uploadFile,c=t.onFocalPointChange;var u=n.filename,p=n.licensedAssetPreview,d=n.assetUrl;var m=(0,D.useState)(false),f=(0,x.default)(m,2),v=f[0],b=f[1];var h=(0,D.useState)(false),g=(0,x.default)(h,2),S=g[0],y=g[1];var j=(0,N.useFocalPoint)(),w=j.focalPointAnchor,P=j.focalPointRef,O=j.isFocalPointOpen,E=j.onCloseFocalPoint,_=j.onOpenFocalPoint;var A=function e(){b(false)};var C=function e(t){A();l(t)};var I=function e(){return y(true)};var T=function e(){return b(true)};var k=function e(){return y(false)};return D.default.createElement(D.default.Fragment,null,D.default.createElement(N.FocalPointPopOver,{anchor:w,isOpen:O,onRequestClose:E,focalPointProps:{onChange:c,value:n.mediaFocalPoint,assetUrl:d}}),D.default.createElement(N.FocalPointAnchor,{ref:P},d&&D.default.createElement(N.AssetPreviewField,{assetDetails:F({},n,{imageSrc:"".concat(n.assetUrl,"?format=100w")}),onRemove:s,onEdit:!p&&T,onPurchase:p&&I,onFocalPointClick:_,onUploadFile:i,onSelectFromFile:o,onBrowseStockImages:r})),D.default.createElement(R.default,{isOpen:v,imageSrc:d,imageFileName:u||"",onCancel:A,onSave:C}),p&&D.default.createElement(M.default,{key:"licensed-image-purchase-modal",assetPreview:p,previewUrl:S&&d,isOpen:p&&S,onRequestClose:k,onPurchaseSuccess:function e(t){a(t);k()}}))};l.propTypes={assetDetails:o.default.shape({imageSrc:o.default.string.isRequired,filename:o.default.string}).isRequired,onAssetPurchaseSuccess:o.default.func.isRequired,onRemove:o.default.func.isRequired,onReplace:o.default.func.isRequired,uploadFile:o.default.func.isRequired,onFocalPointChange:o.default.func.isRequired};var c=l;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var z=r(n("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var J=r(n("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var K=r(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/asset-uploader.js");var Y=a(n("./common/temp/node_modules/react/index.js"));var $=r(n("./src/main/webapp/frontend/packages/enums/RecordType.js"));var Z=r(n("./src/main/webapp/frontend/packages/enums/WorkflowStates.js"));var X=r(n("./src/main/webapp/universal/src/shared/utils/uploadToken.js"));var Q=n("./src/main/webapp/universal/src/shared/utils/EnvUtils.ts");var ee=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/ContentItemAPI.js"));var te=r(n("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js"));var ne=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/getAssetReferenceUrl.ts"));var ae=r(n("./src/main/webapp/universal/src/apps/App/shared/components/ImagePicker/index.js"));var re=r(n("./src/main/webapp/universal/src/apps/App/shared/components/ImagePicker/actions/ImagePickerViewActions.js"));var se=r(n("./src/main/webapp/universal/src/apps/App/shared/components/ImagePicker/constants/ImagePickerPane.js"));var oe=r(n("./src/main/webapp/universal/src/apps/App/shared/components/ImagePicker/constants/LicensedAssetDestination.js"));var ie=n("./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/constants/panelIdConstants.js");var le=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/createContentItemFromAsset.js"));var ce=r(n("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var ue=r(n("./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/uploadFileFromUrl.js"));var o=r(n("./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/withAssetUploadContext.js"));var pe=r(n("./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/PreviewField.js"));var i=r(n("./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/withStore.js"));var de=n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/index.js");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),true).forEach(function(e){(0,s.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var fe=de.HiddenInputField.useHiddenInputField;var ve=de.ActionsMenu.useMenuOpenState;var be=de.EventTracking.useEventTrackingContext,c=de.EventTracking.withEventTrackingContext;var u=function e(i){var t,n;var a=null===(t=Static)||void 0===t?void 0:null===(n=t.SQUARESPACE_CONTEXT)||void 0===n?void 0:n.env;var r=(0,de.useAssetUploadContext)(),s=r.uploadState,o=r.errorMessage,l=r.onUploadStart,c=r.onUploadProgress,u=r.onUploadProcess,p=r.onUploadComplete,d=r.onUploadFail,m=r.onUploadReset;var f=be(),v=f.setTrackingEnvironment,b=f.trackClickToSelectFile;var h=ve(),g=h.isMenuOpen,S=h.onCloseMenu,y=h.onOpenMenu;var j=(0,de.useAssetDetails)(),w=j.assetDetails,P=j.setAssetDetailsFromFile,O=j.setAssetDetails;var E=(0,Y.useState)({}),_=(0,K.default)(E,2),A=_[0],C=_[1];var I=(0,Y.useState)(ie.ASSET_PICKER_PANEL_ID.MY_LIBRARY),T=(0,K.default)(I,2),k=T[0],x=T[1];var D=(0,Y.useCallback)(function(e){O({id:e.id,assetUrl:e.assetUrl,fileType:e.contentType,filename:e.filename,licensedAssetPreview:e.licensedAssetPreview,mediaFocalPoint:e.mediaFocalPoint})},[O]);var R=function e(t){var s=A.id;i.onChange({});C({});P(t);l();var o={isInternal:(0,Q.isInternal)()};(0,de.requestMediaUpload)(t,me({onProgress:c,onCancel:m,websiteId:ce.default.getState().id,uploadToken:X.default.getUploadToken()},o)).then(function(){var t=(0,J.default)(z.default.mark(function e(n){var a,r;return z.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u();t.next=3;return(0,de.requestJobProcess)(n.data.jobId,o);case 3:a=t.sent;if(!a.isSuccess){t.next=7;break}r=(0,ne.default)(ne.AssetReferenceType.TRANSIENT_IMAGE);return t.abrupt("return",ee.default.createAssetReference(r,{libraryId:a.libraryId,assetId:a.assetId,recordType:$.default.IMAGE,replaceItemId:s}));case 7:case"end":return t.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()).then(function(e){te.default.insert(e.data.media[0]);C(e.data.media[0]);D(me({},e.data.media[0],{licensedAssetPreview:void 0}));i.onChange({id:e.data.media[0].id});p()}).catch(function(e){console.log("AssetUploadField Error",e);d(e)})};var M=fe(R),N=M.onOpenFileBrowser,F=M.inputRef;(0,Y.useEffect)(function(){v(a)},[v,a]);(0,Y.useEffect)(function(){if(s!==de.UPLOAD_UI_STATE.COMPLETE&&s!==de.UPLOAD_UI_STATE.UPLOADING&&i.contentItem&&i.contentItem.id!==w.id){C(i.contentItem);D(i.contentItem);p()}},[i.contentItem,w.id,s,D,p]);var U=function e(t){var n=t.assetIds;var a=A.id;i.onChange({});C({});O({});u();re.default.closeImagePicker();(0,le.default)(ne.AssetReferenceType.TRANSIENT_IMAGE,n[0],void 0,a).then(function(e){te.default.insert(e);C(e);D(me({},e,{licensedAssetPreview:void 0}));i.onChange({id:e.id});p()})};var L=function(){var n=(0,J.default)(z.default.mark(function e(n){var a;var r,s,o;return z.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=n.data;s=A.id;i.onChange({});C({});O({});u();re.default.finishLoadingImage();re.default.closeImagePicker();t.next=10;return(0,ue.default)(r).catch(function(e){d(e)});case 10:o=t.sent;null!==o&&void 0!==o&&null!==(a=o.data)&&void 0!==a&&a.contentItemId&&te.default.read(o.data.contentItemId).then(function(e){C(e);D(e);i.onChange(e);p();s&&te.default.deleteMany([s])}).catch(function(e){d(e.message)});case 12:case"end":return t.stop()}},e)}));return function e(t){return n.apply(this,arguments)}}();var q=function(){var n=(0,J.default)(z.default.mark(function e(n){var a;var r,s;return z.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=A.id;i.onChange({});C({});O({});u();re.default.finishLoadingImage();re.default.closeImagePicker();if(!n.cloneItemId){t.next=10;break}ee.default.copy(n.cloneItemId,Z.default.PUBLISHED,null).then(function(e){var t=e.data.id;i.onChange({id:t})});return t.abrupt("return");case 10:t.next=12;return(0,ue.default)(n).catch(function(e){d(e)});case 12:s=t.sent;null!==s&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.contentItemId&&te.default.read(s.data.contentItemId).then(function(e){C(e);D(me({},e,{licensedAssetPreview:void 0}));i.onChange(e);p();r&&te.default.deleteMany([r])}).catch(function(e){d(e.message)});case 14:case"end":return t.stop()}},e)}));return function e(t){return n.apply(this,arguments)}}();var H=function e(t){te.default.updateField(w.id,"mediaFocalPoint",t);i.onChange({id:w.id,mediaFocalPoint:t})};var G=function e(){N()};var V=function e(){re.default.openImagePicker();re.default.changeImagePickerPane(se.default.MY_IMAGES);x(ie.ASSET_PICKER_PANEL_ID.MY_LIBRARY)};var B=function e(){re.default.openImagePicker();re.default.changeImagePickerPane(se.default.FREE);x(ie.ASSET_PICKER_PANEL_ID.UNSPLASH_PANEL)};var W=function e(){switch(s){case de.UPLOAD_UI_STATE.EMPTY:return Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(de.HiddenInputField,{ref:F}),Y.default.createElement(de.AssetPreviewField.ReplaceFileMenu,{renderTrigger:function e(){return Y.default.createElement(de.AssetUploaderField,{onAddFileClick:function e(){y();b()},onDropFile:R})},isOpen:g,onRequestClose:S,onRequestOpen:y,position:"bottom",onUploadFile:G,onSelectFromFile:V,onBrowseStockImages:B}));case de.UPLOAD_UI_STATE.UPLOADING:case de.UPLOAD_UI_STATE.PROCESSING:return Y.default.createElement(de.AssetPreviewField,{assetDetails:w,isProcessing:true});case de.UPLOAD_UI_STATE.COMPLETE:return Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(de.HiddenInputField,{ref:F}),w&&Y.default.createElement(pe.default,{assetDetails:w,uploadFile:R,onAssetPurchaseSuccess:function e(t){L({data:t})},onRemove:function e(){C({});O({});i.onChange({id:void 0});m()},onUploadFile:G,onSelectFromFile:V,onBrowseStockImages:B,onFocalPointChange:H}));case de.UPLOAD_UI_STATE.ERROR:return Y.default.createElement(de.AssetPreviewField,{assetDetails:w,isProcessing:true})}};return Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(de.UploadErrorModal,{isOpen:s===de.UPLOAD_UI_STATE.ERROR,message:o,onRequestClose:p}),Y.default.createElement(de.AssetPreviewContainer,null,W()),Y.default.createElement(ae.default,{baseZIndex:300001,onChooseAssetIds:U,onChooseImageUrl:L,onUnlicensedPreview:q,onLicensedPreview:q,imageDestination:i.imageDestination||oe.default.IMAGE_BLOCK,initialPanelId:k}))};var p=(0,o.default)(c((0,i.default)(u)));t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/uploadFileFromUrl.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var s=a(n("./src/main/webapp/frontend/packages/enums/RecordType.js"));var l=a(n("./src/main/webapp/universal/src/shared/utils/UploadAPI.js"));var c=a(n("./src/main/webapp/universal/src/shared/utils/buildUploadPostData.js"));var u=a(n("./src/main/webapp/universal/src/shared/constants/UploadModes.js"));var p=a(n("./src/main/webapp/universal/src/shared/utils/JobAPI.js"));var d=a(n("./src/main/webapp/frontend/packages/enums/JobStatuses.js"));var m=function(){var n=(0,i.default)(o.default.mark(function e(n){var r,s;return o.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=function e(a){return new Promise(function(t,n){setTimeout(function(){p.default.load(a.id).then(function(e){t(e.data[0])}).catch(function(e){n(e)})},2e3)})};s=function(){var n=(0,i.default)(o.default.mark(function e(n){var a;return o.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:if(!(!n||!n.status||n.status===d.default.FAILURE)){t.next=2;break}throw new Error("job failed");case 2:if(!(n.status===d.default.WAITING||n.status===d.default.PROCESSING)){t.next=7;break}t.next=5;return r(n);case 5:a=t.sent;return t.abrupt("return",s(a));case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}},e)}));return function e(t){return n.apply(this,arguments)}}();return t.abrupt("return",s(n));case 3:case"end":return t.stop()}},e)}));return function e(t){return n.apply(this,arguments)}}();var r=function(){var a=(0,i.default)(o.default.mark(function e(n,a){var r;return o.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:r=(0,c.default)(n,s.default.IMAGE,u.default.TRANSIENT,a);return t.abrupt("return",l.default.uploadFromFileUrl(void 0,l.default.URLS.IMAGE,r).then(function(){var t=(0,i.default)(o.default.mark(function e(n){var a;return o.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return m(n.data.job);case 2:a=t.sent;return t.abrupt("return",a);case 4:case"end":return t.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}},e)}));return function e(t,n){return a.apply(this,arguments)}}();var f=r;t.default=f;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/withAssetUploadContext.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/asset-uploader.js");var r=a(n("./common/temp/node_modules/react/index.js"));var s=n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/index.js");var o=function e(n){var t=function e(t){return r.default.createElement(s.AssetUploadContext,{initialState:t.value.id?s.UPLOAD_UI_STATE.PROCESSING:s.UPLOAD_UI_STATE.EMPTY},r.default.createElement(n,t))};return t};var i=o;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/withStore.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/ContentItemStore.js"));var o=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js"));var i=function e(t){return(0,r.default)({getStores:function e(){return[s.default]},getPropsFromStores:function e(t){var n=t.value.id?s.default.getState().get(t.value.id).toJS():{};return{contentItem:n}},componentDidConnect:function e(t){console.log("componentDidConnect",t);t.value.id&&!s.default.getState().get(t.value.id)&&o.default.read.defer(t.value.id)}},t)};var l=i;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/ColorsDescriptionWithLink/ColorsDescriptionWithLink.less":function(e,t,n){e.exports={wrapper:"_1BMzrB9lj"}},"./src/main/webapp/universal/src/apps/App/shared/components/ColorsDescriptionWithLink/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.HeaderThemesDescription=t.SectionThemesDescription=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=a(n("./common/temp/node_modules/react/index.js"));var s=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var o=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var i=a(n("./src/main/webapp/universal/src/apps/App/shared/components/ColorsDescriptionWithLink/ColorsDescriptionWithLink.less"));var l=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var c=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/PageSectionsActions.js"));var p=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/PageSectionsStore.js"));var d=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/FooterSectionsStore.js"));var u=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/TweakActions.js"));var m=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/SiteHeaderStore.js"));var f=a(n("./src/main/webapp/universal/src/shared/stores/TweakStore.js"));var v=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var b=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/getThemeEditorPath.js"));var h=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var g=function e(t){var n=t.activeThemeId;return r.default.createElement("a",{href:(0,b.default)(),onClick:function e(t){t.preventDefault();u.default.setAdvancedEditingThemeId(n);c.default.navigateToThemeEditor({theme:n})}},r.default.createElement(o.T,{project:"apps.App"},"Theme Editor"))};function S(e){var t=(0,s.default)({getStores:function e(){return[d.default,p.default,m.default]},getPropsFromStores:function e(t){var n=p.default.getState();var a=d.default.getState();var r=a.isEditing?a:n;var s=m.default.getState();var o=t.sectionEditContexts;var i=r.isSettingsOpen,l=r.openSettingsId;var c;if(s.isHeaderModalOpen)c=o.header.sectionTheme;else if(i&&l){var u=o[l];u&&u.styles&&(c=u.styles.sectionTheme)}void 0===c&&(c=f.default.getState().siteAestheticValues.colors.activeThemeId);return{activeThemeId:c}}},e);return(0,v.cmsStoreConnect)(function(e){return{sectionEditContexts:(0,h.getSectionEditContexts)(e)}})(t)}var y=S(function(e){var t=e.activeThemeId;return r.default.createElement(l.Text.Caption,{className:i.default.wrapper,my:1,mx:2,px:2},r.default.createElement(o.T,{project:"apps.App",themeEditorLink:g({activeThemeId:t})},"Select a theme for this section. To change a theme’s colors, visit the {themeEditorLink}."))});t.SectionThemesDescription=y;var j=S(function(e){var t=e.activeThemeId;return r.default.createElement(l.Text.Caption,{className:i.default.wrapper,my:1,mx:2,px:2},r.default.createElement(o.T,{project:"apps.App",themeEditorLink:g({activeThemeId:t})},"Select a theme for the header. To change a theme’s colors, visit the {themeEditorLink}."))});t.HeaderThemesDescription=j},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditor.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/react/index.js"));var o=n("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var i=n("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorContainer.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorForm.js"));var c={"mobile-0":r.default.Mobile,default:r.default.Desktop};var u=function e(t){var n=(0,i.getBreakpoint)(o.breakpoints),a=n.name;var r=c[a]||c.default;return s.default.createElement(r,t,s.default.createElement(l.default,t))};t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorContainer.desktop.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/block-schemas.js");var d=r(n("./common/temp/node_modules/prop-types/index.js"));var m=a(n("./common/temp/node_modules/react/index.js"));var f=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var v=n("./common/temp/node_modules/@sqs/block-editor-schemas/dist/cjs/index.js");var b=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var h=n("./common/temp/node_modules/@sqs/styles/variables/baseRosetta.js");var g=r(n("./src/main/webapp/universal/src/apps/App/screens/Design/screens/Tweak/shared/utils/TweakDomManagerCache.js"));var S=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/PageSectionSettingsTabOptions.js"));function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),true).forEach(function(e){(0,p.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function w(r){var s=P();return function e(){var t=(0,u.default)(r),n;if(s){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,c.default)(this,n)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var O=230;var E=476;var _=56;var A=48;var C=function e(t){if(!t)return _;if(t.bottom+E>window.innerHeight-h.GRID_SIZE_PX)return window.innerHeight-E-4*h.GRID_SIZE_PX;return t.top+_};var I=function(e){(0,l.default)(a,e);var t=w(a);function a(e){var n;(0,s.default)(this,a);n=t.call(this,e);(0,p.default)((0,i.default)(n),"handleIO",function(e){var t=e[0].isIntersecting;t||n.onRequestClose()});(0,p.default)((0,i.default)(n),"onRequestClose",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation();n.props.SectionActions.setIsSettingsOpen({isSettingsOpen:false,openSettingsId:n.props.openSettingsId,openSectionToolbarRect:null})});(0,p.default)((0,i.default)(n),"handleDrag",function(){n.state.wasDragged||n.setState({wasDragged:true})});(0,p.default)((0,i.default)(n),"renderModalHeader",function(e){return m.default.createElement(f.Modal.Position.DragHandle,null,m.default.createElement(v.JSFHeader,e))});n.state={isOpen:false,mountPos:null,constrainTo:null,wasDragged:false,activeTab:S.default.SPACING};n.mounted=true;return n}(0,o.default)(a,[{key:"componentDidMount",value:function e(){this.sectionObserver=new IntersectionObserver(this.handleIO,{threshold:[0,1]});this.sectionObserver.observe(this.props.openSectionNode)}},{key:"componentDidUpdate",value:function e(t){if(this.sectionObserver&&t.openSectionNode!==this.props.openSectionNode){this.props.openSectionNode&&this.sectionObserver.observe(this.props.openSectionNode);t.openSectionNode&&this.sectionObserver.unobserve(t.openSectionNode)}}},{key:"componentWillUnmount",value:function e(){this.mounted=false;this.sectionObserver.disconnect();g.default.releaseInstance(this)}},{key:"render",value:function e(){var t=this;var n=this.state,a=n.isOpen,r=n.mountPos,s=n.wasDragged,o=n.constrainTo;var i=function e(){if(t.props.isMobileView||s)return"window";if(!o)return null;return o.querySelector(".content-wrapper")||o};return m.default.createElement(f.Modal.Transition,{duration:O},a&&m.default.createElement(f.Modal,{className:b.default.noPointerEvents,onRequestClose:this.onRequestClose,lockScroll:false},m.default.createElement(f.Modal.Position,{className:b.default.noPointerEvents,draggable:true,position:r,anchor:this.props.isMobileView?"top-left":"top-right",onDrag:this.handleDrag,constrainTo:i(),constrainOffset:{x:0,y:_}},m.default.createElement(f.Modal.Dialog,{htmlAttributes:{tabIndex:0},className:b.default.dialogContainer},m.default.cloneElement(m.default.Children.only(this.props.children),j({},this.props.children.props,{isModalContainer:true,renderHeader:this.renderModalHeader}))))))}}],[{key:"getDerivedStateFromProps",value:function e(t,n){var a={};var r=false;if(n.constrainTo!==t.openSectionNode){r=true;a.constrainTo=t.openSectionNode}if(t.isSettingsOpen&&!n.isOpen){r=true;a.isOpen=true;a.mountPos={y:t.isFooter?C(t.openSectionToolbarRect)+_+E:C(t.openSectionToolbarRect),x:window.innerWidth-A}}if(!t.isSettingsOpen&&n.isOpen){r=true;a.isOpen=false;a.mountPos=null;a.wasDragged=false}if(r)return a;return null}}]);return a}(m.Component);(0,p.default)(I,"propTypes",{activeTab:d.default.string,isFooter:d.default.bool,isMobileView:d.default.bool,isSettingsOpen:d.default.bool.isRequired,openSettingsId:d.default.string,openSectionNode:d.default.object,openSectionToolbarRect:d.default.object,SectionActions:d.default.object});var T=I;t.default=T;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorContainer.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorContainer.desktop.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorContainer.mobile.js"));var o={Desktop:r.default,Mobile:s.default};t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorContainer.mobile.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/block-schemas.js");var m=a(n("./common/temp/node_modules/react/index.js"));var f=a(n("./common/temp/node_modules/react-dom/index.js"));var v=a(n("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var b=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var h=n("./common/temp/node_modules/@sqs/block-editor-schemas/dist/cjs/index.js");var g=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/PageSectionsStore.js"));var S=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.mobile.less"));var y=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionControls.js"));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),true).forEach(function(e){(0,d.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function w(r){var s=P();return function e(){var t=(0,p.default)(r),n;if(s){var a=(0,p.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,u.default)(this,n)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var s=function(e){(0,c.default)(s,e);var r=w(s);function s(){var n;(0,o.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,d.default)((0,l.default)(n),"sheetRef",m.default.createRef());(0,d.default)((0,l.default)(n),"onSettingsClick",function(){n.sheetRef.current.setDockIndex(1)});(0,d.default)((0,l.default)(n),"onDockIndexChange",function(e){var t=n.props.SectionActions;0===e&&t.setIsSettingsOpen({isSettingsOpen:false,openSettingsId:"",openSectionToolbarRect:null})});(0,d.default)((0,l.default)(n),"receiveHeaderRef",function(e){n.headerNode=e});(0,d.default)((0,l.default)(n),"renderBody",function(){var e=n.props.isSettingsOpen;return m.default.createElement("div",{style:{height:"100%"}},e?m.default.cloneElement(m.default.Children.only(n.props.children),j({},n.props.children.props,{className:S.default.formContainer,renderHeader:n.renderFormHeader})):null)});(0,d.default)((0,l.default)(n),"renderFormHeader",function(e){return n.headerNode?f.default.createPortal(m.default.createElement(h.JSFHeader,e),n.headerNode):null});(0,d.default)((0,l.default)(n),"renderSectionControls",function(){var e=g.default.getState(),t=e.focusedSectionId;return m.default.createElement("div",{className:S.default.controlsContainer},m.default.createElement("div",null,m.default.createElement(y.default,{focusedSectionId:t,onSectionControlClick:{settings:n.onSettingsClick}})))});(0,d.default)((0,l.default)(n),"renderHeader",function(){var e=n.props.isSettingsOpen;return m.default.createElement("div",{ref:n.receiveHeaderRef,className:(0,v.default)(S.default.header,(0,d.default)({},S.default.draggable,e))},e?null:n.renderSectionControls())});return n}(0,i.default)(s,[{key:"render",value:function e(){var t=g.default.getState(),n=t.focusedSectionId;var a=this.props,r=a.isSettingsOpen,s=a.isHeaderModalOpen;if(!r&&!n||s)return null;return m.default.createElement(b.Sheet.Portal,null,m.default.createElement(b.Sheet.Container,{zIndex:99999},m.default.createElement(b.Sheet.Drawer,{currentDockIndex:n&&!r?0:void 0,docks:[55,window.innerHeight/2,window.innerHeight],draggable:r,onDockIndexChange:this.onDockIndexChange,ref:this.sheetRef,renderHeader:this.renderHeader,renderBody:this.renderBody})))}}]);return s}(m.default.Component);var O=s;t.default=O;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorForm.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/block-schemas.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var g=r(n("./common/temp/node_modules/react/index.js"));var o=a(n("./common/temp/node_modules/@sqs/jsf-fields/lib/es/main.js"));var S=n("./common/temp/node_modules/@sqs/jsf-utils/lib/es/main.js");var y=n("./common/temp/node_modules/@sqs/block-editor-schemas/dist/cjs/index.js");var i=r(n("./common/temp/node_modules/@sqs/core-components/components/LinkEditor.js"));var j=r(n("./src/main/webapp/universal/src/shared/components/Form/index.js"));var l=r(n("./src/main/webapp/universal/src/apps/App/shared/actions/PageSectionsActions.js"));var w=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/withOnClickAction.js"));var P=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/withOnEditActionForThemeCard.js"));var O=n("./src/main/webapp/universal/src/apps/App/shared/components/Colors/index.js");var c=r(n("./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/index.js"));var u=n("./src/main/webapp/universal/src/apps/App/shared/components/ColorsDescriptionWithLink/index.js");var p=r(n("./src/main/webapp/universal/src/apps/App/shared/components/NullableRichTextField.js"));var d=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ImageUploaderWithLicensedAssets.js"));var m=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/IconDetail.js"));var f=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ThemeCardsGrid.js"));var v=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withMsToSecondConversion.js"));var b=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsVideoPreview.js"));var h=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsDropDownSelectField.js"));var E=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withIntToFloatConversion.js"));var _=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/customFields/ListArray.js"));var A=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/customFields/ListArrayHeader.js"));var C=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/customFields/ListArrayDisclosure.js"));var I=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/customFields/ListNonArrayDisclosure.js"));var T=n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/utils/trackEvents.js");var k=r(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorForm.less"));function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),true).forEach(function(e){(0,s.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var R=(0,E.default)(o.range,12);var M=(0,v.default)(o.range,12);var N=function e(t){var n=t.value;l.default.navigateToThemeEditor({theme:n})};var F=D({},o,{},y.fields,{colorsDescriptionWithLink:u.HeaderThemesDescription,themecardgrid:f.default,dropdownselect:h.default,grid:f.default,imageuploaderwithlicensedassets:d.default,videopreview:b.default,imageOverlayOpacityRange:R,secondsRange:M,icondetail:m.default,assetuploader:c.default,listarray:_.default,listarrayheader:A.default,nullablerichtext:p.default,LinkEditor:i.default,listarraydisclosure:C.default,listnonarraydisclosure:I.default});var U=o.spacer;var L=function e(t){var s=t.activeTab,n=t.schema,a=t.uiSchema,r=t.itemDefaults,o=t.value,i=t.renderHeader,l=t.onSectionDiff,c=t.openSettingsId,u=t.jsonSchemaSectionSubUiSchema,p=t.section;var d=S.schemaPaths.generateSchemaPathToObjectPathMap(n);var m=function e(t){var n;var a=t.value,r=t.onChange;a!==(null===(n=o.styles)||void 0===n?void 0:n.sectionTheme)&&r(a)};var f=D({},F,{themecard:(0,P.default)((0,w.default)(O.ThemeCard,m),N)});var v=function e(t){var n=t.changes,a=t.value;var r=n.default.diff;(0,T.fireTrackingEvents)({activeTab:s,diff:r,value:a,section:p});l(c,r)};var b=function e(){return g.default.createElement(U,{gridMultiplier:2})};var h=function e(){if(u){if(!a[u]){console.error("JsonSchemaSection: sub-UISchema not found for key ".concat(u));return[]}return a[u]}if(a.default)return a.default;return[]};return g.default.createElement(y.JSFHeaderContextProvider,null,g.default.createElement(j.default,{isfullHeight:true,components:f,configurations:{default:{schema:n,uiSchema:h(a),value:o,itemDefaults:r,jsonSchemaToObjectPathMap:d}},onChange:v,renderHeader:i,scrollContainerClassName:k.default.scrollContainer,panelHeader:b}))};var q=L;t.default=q;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditorForm.less":function(e,t,n){e.exports={scrollContainer:"hvbvC-gtN"}},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/JsonSchemaSectionEditor.js"));var S=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/SiteHeaderStore.js"));var o=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/FooterSectionsStore.js"));var i=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/PageSectionsStore.js"));var y=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/StoreUtils.js");var l=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var c=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/sectionActions.js");var u=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/tweakActions.js");var p=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var j=function e(t){if(t&&t.parentNode&&"FOOTER"===t.parentNode.nodeName)return true;return false};var d=(0,r.default)({getStores:function e(){return[o.default,i.default]},getPropsFromStores:function e(t){var n=(0,y.getSectionStore)(),a=n.isSettingsOpen,r=n.openSettingsId,s=n.openSectionToolbarRect,o=n.openSectionNode,i=n.activeTab,l=n.jsonSchemaSectionSubUiSchema;var c=S.default.getState(),u=c.isHeaderModalOpen;var p=j(o);var d=t.section,m=t.sectionDefinitions,f=t.onSectionDiff;var v=m[d.sectionDefinitionName]||{jsonSchema:{},uiSchema:[],itemDefaults:[]},b=v.jsonSchema,h=v.uiSchema,g=v.itemDefaults;return{isHeaderModalOpen:u,isSettingsOpen:a,openSettingsId:r,activeTab:i,SectionActions:(0,y.getSectionActions)(),openSectionToolbarRect:s,openSectionNode:o,onSectionDiff:f,schema:b,uiSchema:h,itemDefaults:g,value:d.jsonData,isFooter:p,jsonSchemaSectionSubUiSchema:l,section:d}}},s.default);var m=(0,l.cmsStoreConnect)(function(e){return{loaded:!(0,p.getTweaksLoaded)(e),sectionDefinitions:(0,p.getSectionDefinitions)(e)}},{updateTweakField:u.updateTweakField,onSectionDiff:c.sectionDiff})(d);var f=m;t.default=f;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/utils/trackEvents.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.fireTrackingEvents=void 0;var s=n("./common/temp/node_modules/@sqs/jsf-utils/lib/es/main.js");var m=r(n("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js"));var f=r(n("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var d=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/constants/index.js"));var v=s.jsonPointerUtils.getJsonPointerValue;var b={SPACING:"spacing",BACKGROUND:"background",COLOR:"color"};var h=function e(t,n){var a=n.activeTab,r=n.diff,s=n.value,o=n.section;var i=false;if(t.includes("#/galleryOptions/design")){m.default.changeGalleryLayoutStart();i=true}if(t.includes("#/galleryOptions")){var l=t.includes("scrollAnimation");var c=t.includes("transition");if(l||c){var u={strips:"stripOptions",slideshow:"slideshowOptions",fullscreenSlideshow:"fullscreenSlideshowOptions",grid:"gridOptions",masonry:"masonryOptions",reel:"reelOptions"};var p=l?"scrollAnimation":"transition";var d=s.galleryOptions[u[s.galleryOptions.design]][p];f.default.userSelectGalleryAnimationOverride(d);i=true}}return i};var g=function e(t,n){var a=n.activeTab,r=n.diff,s=n.value,o=n.section;var i=false;if(t.includes("#/userItemsListOptions/layout")){var l=r[t];var c;l===d.ENUMS.LAYOUT_VALUES.SIMPLE?c=d.ENUM_ANNOTATIONS.LAYOUT_LABELS.SIMPLE.label:l===d.ENUMS.LAYOUT_VALUES.BANNER_SLIDESHOW?c=d.ENUM_ANNOTATIONS.LAYOUT_LABELS.BANNER_SLIDESHOW.label:l===d.ENUMS.LAYOUT_VALUES.CAROUSEL&&(c=d.ENUM_ANNOTATIONS.LAYOUT_LABELS.CAROUSEL.label);m.default.userChangesSectionLayout({section:o,layoutName:l,layoutDisplayName:c,location:d.TRACKING.MAIN});i=true}if(t.includes("isCardEnabled")){m.default.userTogglesOptionInSettingsModal({section:o,toggleLabel:"isCardEnabled",toggleValue:r[t],location:d.TRACKING.MAIN});i=true}if(t.includes("FontSize")){var u=t.split("/").pop().replace("FontSize","");m.default.userChangesFontSizeInSettingsModal({section:o,fontTarget:u,fontSize:r[t],location:d.TRACKING.MAIN});i=true}if("#/userItems"===t){var p=v(o.jsonData,t);p.length<s.userItems.length?m.default.userAddsContentItemInSettingsModal({section:o,location:d.TRACKING.MAIN}):p.length===s.userItems.length&&m.default.userReordersContentItemsInSettingsModal({section:o,location:d.TRACKING.MAIN});i=true}return i};var o=function e(t){var n=t.activeTab,a=t.diff,r=t.value,s=t.section;var o=Object.keys(a);var i=s.sectionDefinitionName;if(n===b.COLOR){var l=r.styles.sectionTheme;f.default.applyThemeToSection(o.join(","),l);return}var c=false;for(var u=0,p=o;u<p.length;u++){var d=p[u];"gallery"===i&&(c=h(d,{activeTab:n,diff:a,value:r,section:s}));"user-items-list"===i&&(c=g(d,{activeTab:n,diff:a,value:r,section:s}))}if(c)return;f.default.applyFormatEditingOption(o.join(","))};t.fireTrackingEvents=o},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/GalleryJsonSchema/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={type:"object",properties:{design:{type:"string"},showCaptions:{type:"boolean"},gridOptions:{type:"object",properties:{aspectRatio:{type:"string"},scrollAnimation:{type:"string"},spacing:{type:"integer"},numColumns:{type:"integer"},width:{type:"string"},lightboxEnabled:{type:"boolean"}}},masonryOptions:{type:"object",properties:{scrollAnimation:{type:"string"},spacing:{type:"integer"},numColumns:{type:"integer"},width:{type:"string"},lightboxEnabled:{type:"boolean"}}},stripOptions:{type:"object",properties:{scrollAnimation:{type:"string"},spacing:{type:"integer"},rowHeight:{type:"integer"},width:{type:"string"},lightboxEnabled:{type:"boolean"}}},slideshowOptions:{type:"object",properties:{controlsLocation:{type:"string"},galleryHeight:{type:"integer"},transition:{type:"string"},autoplayEnabled:{type:"boolean"},slideDurationMs:{type:"integer"},thumbnailsEnabled:{type:"boolean"}}},fullscreenSlideshowOptions:{type:"object",properties:{viewportHeight:{type:"integer"},galleryHeight:{type:"integer"},transition:{type:"string"},controls:{type:"string"},autoplayEnabled:{type:"boolean"},slideDurationMs:{type:"integer"}}},reelOptions:{type:"object",properties:{controlsLocation:{type:"string"},cropping:{type:"string"},viewportHeight:{type:"integer"},galleryHeight:{type:"integer"},width:{type:"string"}}}}};var r=a;t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextJsonSchema/imageAndTextOptions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a={value:{type:"number"},unit:{type:"string"}};var r={type:"object",properties:{equalContentHeightsEnabled:{type:"boolean"},headlineBottomSpacing:{type:"object",properties:a},headlinePositionHorizontal:{type:"string"},headlineTextAlignment:{type:"string"},headlineWidth:{type:"object",properties:a},imageAspectRatio:{type:"string"},imagePositionHorizontal:{type:"string"},imagePositionVertical:{type:"string"},imageTextSpacing:{type:"object",properties:a},imageWidth:{type:"number"},layout:{type:"string"},subheadlineBottomSpacing:{type:"object",properties:a},subheadlinePositionHorizontal:{type:"string"},subheadlineTextAlignment:{type:"string"},subheadlineWidth:{type:"object",properties:a},textCardEnabled:{type:"boolean"},textCardOffsetHorizontal:{type:"object",properties:a},textCardPadding:{type:"object",properties:a},textPositionHorizontal:{type:"string"},textPositionVertical:{type:"string"},textWidth:{type:"number"}}};var s=r;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextJsonSchema/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextJsonSchema/imageAndTextOptions.js"));var s={type:"object",properties:{imageAndTextOptions:r.default}};var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextUISchema/ImageAndTextPickerSchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var s={type:"group",properties:{children:[{type:"context",properties:{label:"Image And Text schema placeholder",className:r.default.contextWithoutMargin}},{type:"dropdownselect",$mapping:"#/imageAndTextOptions/layout",properties:{enum:["card","collage","overlap","poster","custom"],enumAnnotation:[{label:"Card"},{label:"Collage"},{label:"Overlap"},{label:"Poster"},{label:"Custom"}]}}]}};t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextUISchema/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextUISchema/ImageAndTextPickerSchema.js"));var s={type:"group",properties:{children:[r.default]}};var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionControls.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=a(n("./common/temp/node_modules/react/index.js"));var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/withSectionControllers.js"));var f=a(n("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var v=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionControls.less"));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),true).forEach(function(e){(0,p.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function h(r){var s=g();return function e(){var t=(0,u.default)(r),n;if(s){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,c.default)(this,n)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var S=function(e){(0,l.default)(r,e);var a=h(r);function r(){var s;(0,o.default)(this,r);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s=a.call.apply(a,[this].concat(t));(0,p.default)((0,i.default)(s),"getClickHandler",function(e,t,n){var a="function"===typeof e?e:e.handler;var r="function"===typeof e?{}:e;return function(){a(t,r);s.props.onSectionControlClick[n]&&s.props.onSectionControlClick[n](t)}});return s}(0,s.default)(r,[{key:"renderControls",value:function e(){var n=this;var t=this.props,a=t.controllers,r=t.controlsKeys,s=t.focusedSectionId;var o=a.PageSectionsAnnotationController,i=a.FooterSectionsAnnotationController;if(!o||!i)return null;var l=b({},o.sectionEditingUisBySectionId,{},i.sectionEditingUisBySectionId);var c=l[s];if(!c)return null;var u=c.features,p=void 0===u?{}:u,d=c.sectionNode;return r.reduce(function(e,t){c.hasFeature(t)&&e.push(m.default.createElement("button",{"data-test":"MW-SectionControl-".concat(t),key:t,className:(0,f.default)(v.default.button,v.default[t]),onClick:n.getClickHandler(p[t],d,t)},t));return e},[])}},{key:"render",value:function e(){return m.default.createElement(m.default.Fragment,null,this.renderControls())}}]);return r}(m.default.Component);(0,p.default)(S,"defaultProps",{controlsKeys:["galleryContent","imageAndTextContent","editJsonSchemaList","userItemsListContent","settings","duplicate","up","down","delete","admin"],onSectionControlClick:{}});var y=(0,r.default)(S);t.default=y;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionControls.less":function(e,t,n){e.exports={button:"_3fcY3_TBt",duplicate:"_1wItI3HzF",up:"c2kpMqmiH",admin:"_2vcKx8nXn",add:"_13dC-26wg",down:"SlSiebbdi",settings:"_3yrSnNFMr",delete:"_6XU6ZSI1b",galleryContent:"_2EEQNfvkA",editJsonSchemaList:"_Fkz6KX52",userItemsListContent:"_2jZShRCkq",imageAndTextContent:"QnmGP_od0"}},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettings.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/react/index.js"));var o=n("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var i=n("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var l=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsForm.js"));var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.js"));var c={"mobile-0":r.default.Mobile,default:r.default.Desktop};var u=function e(t){var n=(0,i.getBreakpoint)(o.breakpoints),a=n.name;var r=c[a]||c.default;return s.default.createElement(r,t,s.default.createElement(l.default,t))};t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var d=r(n("./common/temp/node_modules/prop-types/index.js"));var m=a(n("./common/temp/node_modules/react/index.js"));var f=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var v=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var b=n("./common/temp/node_modules/@sqs/styles/variables/baseRosetta.js");var h=n("./common/temp/node_modules/@sqs/jsf-ui/lib/es/main.js");var g=r(n("./src/main/webapp/universal/src/apps/App/screens/Design/screens/Tweak/shared/utils/TweakDomManagerCache.js"));var S=r(n("./src/main/webapp/universal/src/shared/utils/polyfillIntersectionObserver.js"));var y=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/PageSectionSettingsTabOptions.js"));function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),true).forEach(function(e){(0,p.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function P(r){var s=O();return function e(){var t=(0,u.default)(r),n;if(s){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,c.default)(this,n)}}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var E=230;var _=476;var A=56;var C=48;var I=function e(t){if(!t)return A;if(t.bottom+_>window.innerHeight-b.GRID_SIZE_PX)return window.innerHeight-_-4*b.GRID_SIZE_PX;return t.top+A};var T=function(e){(0,l.default)(n,e);var t=P(n);function n(e){var r;(0,s.default)(this,n);r=t.call(this,e);(0,p.default)((0,i.default)(r),"handleIO",function(e){var t=e[0],n=t.boundingClientRect,a=t.rootBounds;(!a||n.bottom<a.top||n.top>a.bottom)&&r.onRequestClose()});(0,p.default)((0,i.default)(r),"onRequestClose",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation();r.props.SectionActions.setIsSettingsOpen({isSettingsOpen:false,openSettingsId:"",openSectionToolbarRect:null})});(0,p.default)((0,i.default)(r),"handleDrag",function(){r.state.wasDragged||r.setState({wasDragged:true})});(0,p.default)((0,i.default)(r),"renderModalHeader",function(e){return 0===e.router.history.length?null:m.default.createElement(f.Modal.Position.DragHandle,null,m.default.createElement(h.Header,e))});r.escManagerTarget={close:r.onRequestClose};r.state={isOpen:false,mountPos:null,constrainTo:null,wasDragged:false,activeTab:y.default.SPACING};r.mounted=true;(0,S.default)(window).then(function(e){r.mounted&&(r.sectionObserver=new e(r.handleIO,{threshold:[0,1]}))});return r}(0,o.default)(n,[{key:"componentDidUpdate",value:function e(t){var n=this.props,a=n.isSettingsOpen,r=n.Y;if(r)if(a&&!this.escTargetAdded){r.Squarespace.EscManager.addTarget(this.escManagerTarget);this.escTargetAdded=true}else if(!a&&this.escTargetAdded){r.Squarespace.EscManager.removeTarget(this.escManagerTarget);this.escTargetAdded=false}if(this.sectionObserver&&t.openSectionNode!==this.props.openSectionNode){this.props.openSectionNode&&this.sectionObserver.observe(this.props.openSectionNode);t.openSectionNode&&this.sectionObserver.unobserve(t.openSectionNode)}}},{key:"componentWillUnmount",value:function e(){var t=this.props.Y;this.mounted=false;this.sectionObserver&&"function"===typeof this.sectionObserver.disconnect&&this.sectionObserver.disconnect();t&&t.Squarespace.EscManager.removeTarget(this.escManagerTarget);g.default.releaseInstance(this)}},{key:"render",value:function e(){var t=this;var n=this.state,a=n.isOpen,r=n.mountPos,s=n.wasDragged,o=n.constrainTo;var i=function e(){if(t.props.isMobileView||s)return"window";if(!o)return null;return o.querySelector(".content-wrapper")||o};return m.default.createElement(f.Modal.Transition,{duration:E},a&&m.default.createElement(f.Modal,{className:v.default.noPointerEvents,closeOnEsc:true,closeOnOverlayClicked:true,onRequestClose:this.onRequestClose,lockScroll:false},m.default.createElement(f.Modal.Position,{className:v.default.noPointerEvents,draggable:true,position:r,anchor:this.props.isMobileView?"top-left":"top-right",onDrag:this.handleDrag,onConstraintLeaveViewport:this.onRequestClose,constrainTo:i(),constrainOffset:{x:0,y:A}},m.default.createElement(f.Modal.Dialog,{htmlAttributes:{tabIndex:0},className:v.default.dialogContainer},m.default.cloneElement(m.default.Children.only(this.props.children),w({},this.props.children.props,{isModalContainer:true,renderHeader:this.renderModalHeader}))))))}}],[{key:"getDerivedStateFromProps",value:function e(t,n){var a={};var r=false;if(n.constrainTo!==t.openSectionNode){r=true;a.constrainTo=t.openSectionNode}if(t.isSettingsOpen&&!n.isOpen){r=true;a.isOpen=true;a.mountPos={y:t.isFooter?I(t.openSectionToolbarRect)+A+_:I(t.openSectionToolbarRect),x:window.innerWidth-C}}if(!t.isSettingsOpen&&n.isOpen){r=true;a.isOpen=false;a.mountPos=null;a.wasDragged=false}if(r)return a;return null}}]);return n}(m.Component);t.default=T;(0,p.default)(T,"propTypes",{loaded:d.default.bool,loading:d.default.bool,tweakApi:d.default.object,tweakDefinitions:d.default.object,tweakValuesCurrent:d.default.object,tweakValuesSaved:d.default.object,tweakWindowNode:d.default.object,activeTab:d.default.string,isFooter:d.default.bool,isGallery:d.default.bool,isMainContent:d.default.bool,isMobileView:d.default.bool,isPortfolio:d.default.bool,isSettingsOpen:d.default.bool.isRequired,jsfInstance:d.default.string,openSettingsId:d.default.string,openSectionNode:d.default.object,openSectionToolbarRect:d.default.object,uiSchema:d.default.arrayOf(d.default.object),value:d.default.object,schema:d.default.object,SectionActions:d.default.object,Y:d.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.mobile.js"));var o={Desktop:r.default,Mobile:s.default};t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.mobile.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=a(n("./common/temp/node_modules/react/index.js"));var f=a(n("./common/temp/node_modules/react-dom/index.js"));var v=a(n("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var b=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/PageSectionsStore.js"));var h=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var g=n("./common/temp/node_modules/@sqs/jsf-ui/lib/es/main.js");var S=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.mobile.less"));var y=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionControls.js"));var j=n("./src/main/webapp/universal/src/shared/i18n/index.ts");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),true).forEach(function(e){(0,d.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function P(r){var s=O();return function e(){var t=(0,p.default)(r),n;if(s){var a=(0,p.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,u.default)(this,n)}}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var s=function(e){(0,c.default)(s,e);var r=P(s);function s(){var n;(0,o.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,d.default)((0,l.default)(n),"sheetRef",m.default.createRef());(0,d.default)((0,l.default)(n),"onSettingsClick",function(){n.sheetRef.current.setDockIndex(1)});(0,d.default)((0,l.default)(n),"onDockIndexChange",function(e){var t=n.props.SectionActions;0===e&&t.setIsSettingsOpen({isSettingsOpen:false,openSettingsId:"",openSectionToolbarRect:null})});(0,d.default)((0,l.default)(n),"receiveHeaderRef",function(e){n.headerNode=e});(0,d.default)((0,l.default)(n),"renderBody",function(){var e=n.props.isSettingsOpen;return m.default.createElement("div",{style:{height:"100%"}},e?m.default.cloneElement(m.default.Children.only(n.props.children),w({},n.props.children.props,{className:S.default.formContainer,renderHeader:n.renderFormHeader})):null)});(0,d.default)((0,l.default)(n),"renderFormHeader",function(e){return n.headerNode?f.default.createPortal(m.default.createElement(g.Header,e,e.title||(0,j.t)("Section",{})),n.headerNode):null});(0,d.default)((0,l.default)(n),"renderSectionControls",function(){var e=b.default.getState(),t=e.focusedSectionId;return m.default.createElement("div",{className:S.default.controlsContainer},m.default.createElement("div",null,m.default.createElement(y.default,{focusedSectionId:t,onSectionControlClick:{settings:n.onSettingsClick}})))});(0,d.default)((0,l.default)(n),"renderHeader",function(){var e=n.props.isSettingsOpen;return m.default.createElement("div",{ref:n.receiveHeaderRef,className:(0,v.default)(S.default.header,(0,d.default)({},S.default.draggable,e))},e?null:n.renderSectionControls())});return n}(0,i.default)(s,[{key:"render",value:function e(){var t=b.default.getState(),n=t.focusedSectionId;var a=this.props,r=a.isSettingsOpen,s=a.isHeaderModalOpen;if(!r&&!n||s)return null;return m.default.createElement(h.Sheet.Portal,null,m.default.createElement(h.Sheet.Container,{zIndex:99999},m.default.createElement(h.Sheet.Drawer,{currentDockIndex:n&&!r?0:void 0,docks:[55,window.innerHeight/2,window.innerHeight],draggable:r,onDockIndexChange:this.onDockIndexChange,ref:this.sheetRef,renderHeader:this.renderHeader,renderBody:this.renderBody})))}}]);return s}(m.default.Component);var E=s;t.default=E;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.mobile.less":function(e,t,n){e.exports={formContainer:"_2KlBW-W_N",controlsContainer:"Ua2hyZ9HM",header:"_3vYqU8V5C",draggable:"P2w6QKcYX"}},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsDropDownSelectField.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var s=a(n("./common/temp/node_modules/react/index.js"));var o=n("./common/temp/node_modules/@sqs/core-components/fields/DropdownSelectField.js");var i=a(n("./common/temp/node_modules/@sqs/uischema-fields/web/DropdownSelectField.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var c=function e(t){return s.default.createElement(o.Dropdown,(0,r.default)({className:l.default.customDropdownZIndexHack},t))};var u=function e(t){return s.default.createElement(i.default,(0,r.default)({},t,{renderDropdown:c}))};t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsForm.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/block-schemas.js");var d=r(n("./common/temp/node_modules/prop-types/index.js"));var f=a(n("./common/temp/node_modules/react/index.js"));var v=r(n("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var b=r(n("./src/main/webapp/universal/src/shared/components/Form/index.js"));var m=n("./common/temp/node_modules/@sqs/jsf-ui/lib/es/main.js");var h=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsDropDownSelectField.js"));var g=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsVideoPreview.js"));var S=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsModalTabs.js"));var y=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var j=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var w=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ThemeCardsGrid.js"));var P=n("./src/main/webapp/universal/src/apps/App/shared/components/Colors/index.js");var O=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ImageUploaderWithLicensedAssets.js"));var E=r(n("./src/main/webapp/universal/src/apps/App/shared/components/AssetUploaderField/index.js"));var _=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withOnChangeLoadValue.js"));var A=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/withOnClickAction.js"));var C=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withMsToSecondConversion.js"));var I=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withIntToFloatConversion.js"));var T=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/withOnEditActionForThemeCard.js"));var k=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/IconDetail.js"));var x=r(n("./src/main/webapp/universal/src/apps/App/screens/Design/screens/Tweak/shared/utils/TweakDomManagerCache.js"));var D=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/SectionSettingsUpdater.js"));var R=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildTabOptions.js"));var M=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/PageSectionSettingsTabOptions.js"));var N=r(n("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var F=r(n("./src/main/webapp/universal/src/apps/App/shared/actions/PageSectionsActions.js"));var U=n("./src/main/webapp/universal/src/apps/App/shared/components/ColorsDescriptionWithLink/index.js");var L=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsForm.less"));var q=r(n("./src/main/webapp/universal/src/shared/components/Form/fields/EmbedField.js"));var H=n("./common/temp/node_modules/@sqs/block-editor-schemas/dist/cjs/index.js");var G=n("./common/temp/node_modules/@sqs/jsf-fields/lib/es/main.js");function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),true).forEach(function(e){(0,p.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(r){var s=z();return function e(){var t=(0,u.default)(r),n;if(s){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,c.default)(this,n)}}function z(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var J={customContentWidth:50,customSectionHeight:10,isFullscreen:false};var K={boolean:G.boolean,button:G.button,context:G.context,disclosure:G.disclosure,embed:q.default,gallerygrid:G.gallerygrid,group:G.group,hidden:G.hidden,imageuploader:G.imageuploader,range:(0,_.default)(G.range,J),segmentedcontrol:G.segmentedcontrol,segmentedradio:G.segmentedradio,segmentedradioexpandable:G.segmentedradioexpandable,spacer:G.spacer,stepper:G.stepper,dropdownselect:h.default,grid:w.default,imageuploaderwithlicensedassets:O.default,videopreview:g.default,imageOverlayOpacityRange:(0,I.default)(G.range,12),secondsRange:(0,C.default)(G.range),icondetail:k.default,assetuploader:E.default};var Y=function(e){(0,l.default)(n,e);var t=W(n);function n(e){var d;(0,s.default)(this,n);d=t.call(this,e);(0,p.default)((0,i.default)(d),"panelRenderer",function(e){return(0,m.defaultPanelRenderer)(B({},e,{className:j.default.dialogPanel,panelHeader:function e(){return f.default.createElement(G.spacer,{gridMultiplier:2})}}))});(0,p.default)((0,i.default)(d),"handleTabChange",function(e){d.props.SectionActions.setActiveTab(e)});(0,p.default)((0,i.default)(d),"handleOnChange",function(e){var t=e.changes,n=e.value;var a=t.default.diff;var r=d.props,s=r.SectionActions,o=r.openSettingsId,i=r.video,l=r.activeTab,c=r.isFooter,u=r.isUserItemsList;var p={video:i};n.prevBackground=d.props.value.background;d.sectionSettingsUpdater.update({sectionId:o,activeTab:l,diff:a,value:n,prevValue:p,SectionActions:s,isFooter:c,isUserItemsList:u})});(0,p.default)((0,i.default)(d),"handleToggleTheme",function(e){var t=e.value,n=e.onChange;t!==d.props.value.sectionTheme&&n(t)});(0,p.default)((0,i.default)(d),"handleThemeEdit",function(e){var t=e.value;F.default.navigateToThemeEditor({theme:t})});(0,p.default)((0,i.default)(d),"trackEvent",function(e){var t=e.object_field_value,n=e.object_identifier;var a=d.props,r=a.isFooter,s=a.openSettingsId;"#/isDefaultTheme"===n&&N.default.toggleIsDefaultTheme({location:r?"footer":"main",sectionId:s,isEnabled:t})});(0,p.default)((0,i.default)(d),"renderPanelHeader",function(){return f.default.createElement(G.spacer,{gridMultiplier:2})});d.state={activeTab:M.default.SPACING};d.sectionSettingsUpdater=new D.default(e.updateTweakField);d.components=B({},K,{imageOverlayOpacityRange:(0,I.default)(G.range,12),range:(0,_.default)(G.range,J),themecard:d.getThemeCardField(),secondsRange:(0,C.default)(G.range),colorsDescriptionWithLink:U.SectionThemesDescription,layoutpicker:H.fields.layoutpicker});d.isTweakDomManagerRunning=false;return d}(0,o.default)(n,[{key:"shouldComponentUpdate",value:function e(t){return t.loaded&&(t.isSettingsOpen||this.props.isSettingsOpen)}},{key:"componentWillUnmount",value:function e(){this.mounted=false;this.sectionSettingsUpdater.destroy();this.isTweakDomManagerRunning&&x.default.releaseInstance(this)}},{key:"getThemeCardField",value:function e(){var t=(0,A.default)(P.ThemeCard,this.handleToggleTheme);return(0,T.default)(t,this.handleThemeEdit)}},{key:"render",value:function e(){var t=this.props,n=t.className,a=t.loaded,r=t.activeTab,s=t.isGallery,o=t.isMainContent,i=t.isPortfolio,l=t.isUserItemsList,c=t.isImageAndText,u=t.schema,p=t.uiSchema,d=t.value;var m=this.props.isModalContainer?S.default:y.Tabs;return a?f.default.createElement("div",{className:j.default.formWrapper},f.default.createElement(m,{fitted:true,value:r,options:(0,R.default)({isGallery:s,isMainContent:o,isPortfolio:i,isUserItemsList:l,isImageAndText:c}),onChange:this.handleTabChange}),f.default.createElement("div",{className:(0,v.default)(j.default.formContainer,n)},f.default.createElement(b.default,{components:this.components,configurations:{default:{schema:u,uiSchema:p,value:d},environmentVariables:{value:{themeMapperV3:true}}},onChange:this.handleOnChange,panelHeader:this.renderPanelHeader,renderHeader:this.props.renderHeader,scrollContainerClassName:L.default.scrollContainer,panelClassName:j.default.form,trackEvent:this.trackEvent,trackingProductArea:"section-editor"}))):null}}]);return n}(f.Component);t.default=Y;(0,p.default)(Y,"propTypes",{loaded:d.default.bool,updateTweakField:d.default.func,activeTab:d.default.string,isGallery:d.default.bool,isMainContent:d.default.bool,isPortfolio:d.default.bool,isSettingsOpen:d.default.bool.isRequired,openSettingsId:d.default.string,openSectionNode:d.default.object,openSectionToolbarRect:d.default.object,uiSchema:d.default.arrayOf(d.default.object),value:d.default.object,schema:d.default.object,SectionActions:d.default.object,Y:d.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsForm.less":function(e,t,n){e.exports={scrollContainer:"_2zd3bnbz3"}},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsModalTabs.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var s=a(n("./common/temp/node_modules/react/index.js"));var o=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var i=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsModalTabs.less"));var l=function e(t){return s.default.createElement(o.Modal.Position.DragHandle,null,s.default.createElement("div",{className:i.default.container},s.default.createElement(o.Tabs,(0,r.default)({className:i.default.tabs},t))))};l.propTypes=o.Tabs.propTypes;var c=l;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsModalTabs.less":function(e,t,n){e.exports={container:"_1I4hKN-U9",tabs:"OE0jZ6VMv"}},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsSchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.buildSectionSettingsSchema=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=a(n("./src/main/webapp/frontend/packages/enums/SectionBackgroundMode.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/GalleryJsonSchema/index.js"));var c=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextJsonSchema/index.js"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),true).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var o=function e(t){var n=t.isGallery,a=t.isImageAndText,r=t.tweaksJsonSchema,s=void 0===r?{}:r;var o={type:"object",properties:{tweakValues:{type:"object",properties:u({},s)},backgroundMode:{type:"string",enum:Object.values(i.default)},background:{type:"object",properties:{embed:{type:"object",properties:{title:{type:"string"},html:{type:"string"},resolvedBy:{type:"string",enum:["twitter","vimeo","wistia","animoto","flickr","instagram","youtube","wikipedia","slideshare","soundcloud","sketchfab","manual"]}}},video:{type:"object",properties:{url:{type:"string"},videoFallbackContentItem:{oneOf:[{type:"object",properties:{id:{type:"string"},mediaFocalPoint:{type:"object"}}},{type:"null"}]},filter:{type:"number"},filterStrength:{type:"number"},playbackSpeed:{oneOf:[{type:"number"},{type:"null"}]}}},image:{oneOf:[{type:"object",properties:{id:{type:"string"},mediaFocalPoint:{type:"object"}}},{type:"null"}]},imageOverlayOpacity:{oneOf:[{type:"number"},{type:"null"}]},imageEffect:{oneOf:[{type:"string"},{type:"null"}]}}},spacing:{type:"object",properties:{backgroundWidth:{type:"string"},sectionAnimation:{type:"string"},contentWidth:{type:"string"},customContentWidth:{type:"number"},sectionHeight:{type:"string"},customSectionHeight:{type:"number"},horizontalAlignment:{type:"string"},verticalAlignment:{type:"string"}}},isDefaultTheme:{type:"boolean"},sectionTheme:{type:"string"}}};n&&(o.galleryOptions=l.default);a&&(o.imageAndTextOptions=c.default);return o};t.buildSectionSettingsSchema=o},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsVideoPreview.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=a(n("./common/temp/node_modules/react/index.js"));var s=r(n("./common/temp/node_modules/prop-types/index.js"));var f=r(n("./src/main/webapp/universal/src/apps/App/shared/components/VideoSubpanel/VideoPreview.jsx"));var v=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/isVimeoURLValid.js"));var b=r(n("./src/main/webapp/universal/src/apps/App/shared/utils/isYoutubeURLValid.js"));var h=r(n("./src/main/webapp/frontend/packages/enums/VideoFilterOption.js"));var g=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/sectionBackgroundConfig.js"));var S=r(n("./src/main/webapp/universal/src/apps/App/shared/constants/VimeoRegex.js"));var y=r(n("./src/main/webapp/universal/src/apps/App/shared/constants/YouTubeRegex.js"));var j=n("./common/temp/node_modules/@sqs/styles/variables/baseRosetta.js");function w(r){var s=P();return function e(){var t=(0,p.default)(r),n;if(s){var a=(0,p.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,u.default)(this,n)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var O=function e(t){if(!t)return;if(!(0,b.default)(t)&&!(0,v.default)(t))return null;var n=t.match(y.default);if(n&&n[2].length)return n[2];n=t.match(S.default);if(n&&n[2].length)return n[2]};var E=function(e){(0,c.default)(s,e);var r=w(s);function s(){var e;(0,o.default)(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e=r.call.apply(r,[this].concat(n));(0,d.default)((0,l.default)(e),"state",{videoId:"",videoContentSource:""});return e}(0,i.default)(s,[{key:"render",value:function e(){var t=this.props,n=t.url,a=t.filterStrength,r=t.playbackSpeed;var s=this.state,o=s.videoId,i=s.videoContentSource,l=s.filter;return n&&m.default.createElement(f.default,{videoContentSource:i,videoId:o,filter:l,filterStrength:a,playbackSpeed:r,style:{paddingLeft:j.GRID_SIZE_PX,paddingRight:j.GRID_SIZE_PX,marginLeft:j.GRID_SIZE_PX,marginRight:j.GRID_SIZE_PX,boxSizing:"border-box"}})}}],[{key:"getDerivedStateFromProps",value:function e(t){return{videoId:O(t.url),filter:parseInt(t.filter,10),videoContentSource:t.videoContentSource&&t.videoContentSource.toLowerCase()}}}]);return s}(m.Component);(0,d.default)(E,"propTypes",{url:s.default.string,playbackSpeed:s.default.oneOf(g.default.BACKGROUND_VIDEO_PLAYBACK_SPEED.map(function(e){return e.value})),filter:s.default.oneOf(Object.values(h.default)),filterStrength:s.default.number,videoContentSource:s.default.string});var _=E;t.default=_;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/DesignUISchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var m=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var f=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionMessageBundle.js"));var v=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js"));var b=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/TemplateTypeNameUtils.js"));var h=a(n("./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpWrap.svg"));var g=a(n("./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpSimple.svg"));var S=a(n("./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpFull.svg"));var y=a(n("./common/temp/node_modules/@sqs/rosetta-icons/svg/PdpHalf.svg"));var j=n("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/ProductDetailsPage/PDPLayoutsModal/PDPLayoutTypes.ts");var w=a(n("./common/temp/node_modules/@sqs/rosetta-icons/svg/Highlights.svg"));var P=n("./src/main/webapp/universal/src/shared/utils/ProductsUtils.js");var O=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var i=function e(t){var n;var a=t.collectionId,r=t.typeName,s=t.itemId;var o=(n={},(0,m.default)(n,j.PDPLayoutTypes.simple,g.default),(0,m.default)(n,j.PDPLayoutTypes.fullBleed,y.default),(0,m.default)(n,j.PDPLayoutTypes.wrapAround,h.default),(0,m.default)(n,j.PDPLayoutTypes.fullWidth,S.default),n);if(!r)return[];if(s&&a){var i=v.default.getCollectionConfig(r);if(i.itemLayoutTypes&&i.itemLayoutTypes.length>0&&(0,P.isPDPLayoutsEnabled)()){var l=(0,d.default)(i.itemLayoutTypes).reduce(function(e,t){e.enumAnnotation.push({label:f.default.LAYOUTS[t.toUpperCase()]||t,showLabel:true,icon:o[t.toLowerCase()]});e.enum.push(t);return e},{enum:[],enumAnnotation:[]});return[{type:"layoutpicker",$mapping:"#/itemLayoutKey",properties:l},{type:"group",$conditional:{$if:{"#/itemLayoutKey":{eq:"products"}},$then:{type:"hidden"}},properties:{children:[{type:"icondetail",properties:{icon:w.default,className:O.default.pdpLayoutEmptyStateIcon}},{type:"context",properties:{description:f.default.LAYOUTS.EMPTY_STATE,className:O.default.pdpLayoutEmptyState}}]}}]}return[]}var c=v.default.getState().collectionConfigs;var u=b.default.getSimilarConfigs(r,c);var p=[r].concat((0,d.default)(u)).reduce(function(e,t){var n=v.default.getCollectionConfig(t);if(!n)return e;e.enumAnnotation.push({label:n.title});e.enum.push(t);return e},{enum:[],enumAnnotation:[]});if(p.enum.length<2)return[];return[{type:"context",properties:{label:f.default.SPACING_PANEL.LAYOUT,className:O.default.contextWithoutMargin}},{type:"dropdownselect",$mapping:"#/typeName",properties:p}]};var r=function e(t){var n=t.tweaksUISchema,a=void 0===n?[]:n,r=t.collectionId,s=t.itemId,o=t.typeName;return{type:"group",properties:{children:[].concat((0,d.default)(i({collectionId:r,typeName:o,itemId:s})),(0,d.default)(a))}}};t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/FormatUISchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var o=a(n("./common/temp/node_modules/lodash/compact.js"));var i=a(n("./common/temp/node_modules/react/index.js"));var l=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/SectionSettings.js");var c=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/sectionSpacingConfig.js"));var u=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionMessageBundle.js"));var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildLabelsAndValuesFromConfig.js"));var p=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsContainer.desktop.less"));var d=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var m=(0,r.default)(c.default);var f=function e(t){var n=t.collectionId,a=t.tweaksUISchema,r=void 0===a?[]:a;return{type:"group",properties:{children:(0,o.default)([{type:"context",properties:{label:u.default.SPACING_PANEL.SECTION_HEIGHT,className:p.default.contextWithoutMargin}},{type:"segmentedradioexpandable",$mapping:"#/spacing/sectionHeight",properties:{enum:m.values.SECTION_HEIGHT,enumAnnotation:m.labels.SECTION_HEIGHT,showMoreConfig:{value:"section-height--custom",label:u.default.SPACING_PANEL.CUSTOM_HEIGHT,icon:i.default.createElement(d.Ellipses,null),showLabel:false},children:[{type:"range",$mapping:"#/spacing/customSectionHeight",properties:{label:u.default.SPACING_PANEL.CUSTOM_HEIGHT,showLabel:false,inline:true,min:l.MIN_SECTION_HEIGHT,max:100,step:1}}]}},{type:"context",properties:{label:u.default.SPACING_PANEL.CONTENT_WIDTH}},{type:"segmentedradioexpandable",$mapping:"#/spacing/contentWidth",properties:{enum:m.values.CONTENT_WIDTH,enumAnnotation:m.labels.CONTENT_WIDTH,showMoreConfig:{value:"content-width--custom",label:u.default.SPACING_PANEL.CUSTOM_WIDTH,icon:i.default.createElement(d.Ellipses,null),showLabel:false},children:[{type:"range",$mapping:"#/spacing/customContentWidth",properties:{label:u.default.SPACING_PANEL.CUSTOM_WIDTH,showLabel:false,inline:true,min:l.MIN_SECTION_WIDTH,max:100,step:1}}]}},{type:"context",properties:{label:u.default.SPACING_PANEL.CONTENT_ALIGNMENT}},{type:"segmentedradio",$mapping:"#/spacing/verticalAlignment",properties:{enum:m.values.VERTICAL_ALIGNMENT,enumAnnotation:m.labels.VERTICAL_ALIGNMENT}},{$conditional:{$if:{anyOf:[{"#/spacing/contentWidth":{eq:c.default.CONTENT_WIDTH.LARGE.value}},{allOf:[{"#/spacing/customContentWidth":{eq:100}},{"#/spacing/contentWidth":{ne:c.default.CONTENT_WIDTH.LARGE.value}},{"#/spacing/contentWidth":{ne:c.default.CONTENT_WIDTH.MEDIUM.value}},{"#/spacing/contentWidth":{ne:c.default.CONTENT_WIDTH.SMALL.value}}]}]},$then:{type:"hidden"}},type:"segmentedradio",$mapping:"#/spacing/horizontalAlignment",properties:{enum:m.values.HORIZONTAL_ALIGNMENT,enumAnnotation:m.labels.HORIZONTAL_ALIGNMENT}}].concat((0,s.default)(r)))}}};t.default=f;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/GalleryUISchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/GallerySchemas/index.js"));var s=function e(t){var n=t.tweaksUISchema,a=void 0===n?[]:n;return{type:"group",properties:r.default.uiSchema.properties}};t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=r;var S=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var y=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/DesignUISchema.js"));var j=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/GalleryUISchema.js"));var w=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/ImageAndTextUISchema/index.js"));var P=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/FormatUISchema.js"));var O=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/BackgroundUISchema.js"));var E=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/PageSectionSettingsTabOptions.js"));var _=n("./src/main/webapp/universal/src/apps/App/shared/utils/ThemesUtils.js");function r(e){var t;var n=e.collectionId,a=e.itemId,r=e.isGallery,s=e.isImageAndText,o=e.isUserItemsList,i=e.isMainContent,l=e.isPortfolio,c=e.themeUISchema,u=e.tweaksUISchema,p=void 0===u?[]:u,d=e.typeName,m=e.itemLayoutKey;c=c||[{type:"hidden"}];var f=!r&&!s&&!o&&!i;var v=function e(){if(r)return(0,j.default)({tweaksUISchema:p});if(s)return w.default;if(i)return(0,y.default)({collectionId:n,tweaksUISchema:p,typeName:d,itemId:a,itemLayoutKey:m});if(f)return(0,P.default)({collectionId:n,tweaksUISchema:p})};var b=function e(){return{type:"group",properties:{children:[{type:"colorsDescriptionWithLink"},{type:"spacer",properties:{gridMultiplier:1}},(0,_.generateCardGridUISchema)({cardGridType:"grid",cardUiSchema:c})]}}};var h=function e(){if(f||l||o||s)return(0,O.default)()};var g=(t={},(0,S.default)(t,E.default.SPACING,v()),(0,S.default)(t,E.default.COLOR,b()),(0,S.default)(t,E.default.BACKGROUND,h()),t);return g}e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/IconDetail.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/react/index.js"));var s=a(n("./common/temp/node_modules/prop-types/index.js"));var o=function e(t){return r.default.createElement("img",{src:t.icon,className:t.className,alt:""})};o.propTypes={icon:s.default.string.isRequired,className:s.default.string};var i=o;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ThemeCardsGrid.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=a(n("./common/temp/node_modules/react/index.js"));var d=r(n("./common/temp/node_modules/prop-types/index.js"));var m=n("./common/temp/node_modules/@sqs/jsf-core/lib/es/main.js");var f=r(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ThemeCardsGrid.less"));function v(r){var s=b();return function e(){var t=(0,c.default)(r),n;if(s){var a=(0,c.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,l.default)(this,n)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var h=function(e){(0,i.default)(n,e);var t=v(n);function n(){(0,s.default)(this,n);return t.apply(this,arguments)}(0,o.default)(n,[{key:"render",value:function e(){return p.default.createElement("div",{className:f.default.container},p.default.createElement(m.ComponentIterator,{components:this.props.children}))}}]);return n}(p.Component);(0,u.default)(h,"propTypes",{children:d.default.array.isRequired});var g=h;t.default=g;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/components/ThemeCardsGrid.less":function(e,t,n){e.exports={container:"yVZLvCD7i",themeCard:"_2J_llcjX2"}},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/SectionSettings.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MIN_SECTION_WIDTH=t.MIN_SECTION_HEIGHT=void 0;var a=10;t.MIN_SECTION_HEIGHT=a;var r=30;t.MIN_SECTION_WIDTH=r},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/sectionSpacingConfig.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/react/index.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionMessageBundle.js"));var o=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var i={SECTION_ANIMATION:{NONE:{label:s.default.SPACING_PANEL.NONE,value:"none"},SCALE_UP:{label:s.default.SPACING_PANEL.SCALE_UP,value:"scale-up"},FADE_UP:{label:s.default.SPACING_PANEL.FADE_UP,value:"fade-up"},FADE_LEFT:{label:s.default.SPACING_PANEL.FADE_LEFT,value:"fade-left"},FADE_RIGHT:{label:s.default.SPACING_PANEL.FADE_RIGHT,value:"fade-right"},CLIP_UP:{label:s.default.SPACING_PANEL.CLIP_UP,value:"clip-up"},CLIP_LEFT:{label:s.default.SPACING_PANEL.CLIP_LEFT,value:"clip-left"},CLIP_RIGHT:{label:s.default.SPACING_PANEL.CLIP_RIGHT,value:"clip-right"}},CONTENT_WIDTH:{SMALL:{label:s.default.SPACING_PANEL.SMALL,value:"content-width--narrow"},MEDIUM:{label:s.default.SPACING_PANEL.MEDIUM,value:"content-width--medium"},LARGE:{label:s.default.SPACING_PANEL.LARGE,value:"content-width--wide"}},SECTION_HEIGHT:{SMALL:{label:s.default.SPACING_PANEL.SMALL,value:"section-height--small"},MEDIUM:{label:s.default.SPACING_PANEL.MEDIUM,value:"section-height--medium"},LARGE:{label:s.default.SPACING_PANEL.LARGE,value:"section-height--large"}},HORIZONTAL_ALIGNMENT:{LEFT:{icon:r.default.createElement(o.AlignHorizontalLeft,null),showLabel:false,label:s.default.SPACING_PANEL.LEFT,value:"horizontal-alignment--left"},CENTER:{icon:r.default.createElement(o.AlignHorizontalCenter,null),showLabel:false,label:s.default.SPACING_PANEL.CENTER,value:"horizontal-alignment--center"},RIGHT:{icon:r.default.createElement(o.AlignHorizontalRight,null),showLabel:false,label:s.default.SPACING_PANEL.RIGHT,value:"horizontal-alignment--right"}},VERTICAL_ALIGNMENT:{TOP:{icon:r.default.createElement(o.AlignVerticalTop,null),showLabel:false,label:s.default.SPACING_PANEL.TOP,value:"vertical-alignment--top"},MIDDLE:{icon:r.default.createElement(o.AlignVerticalCenter,null),showLabel:false,label:s.default.SPACING_PANEL.MIDDLE,value:"vertical-alignment--middle"},BOTTOM:{icon:r.default.createElement(o.AlignVerticalBottom,null),showLabel:false,label:s.default.SPACING_PANEL.BOTTOM,value:"vertical-alignment--bottom"}}};t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withIntToFloatConversion.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var i=a(n("./common/temp/node_modules/react/index.js"));function r(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){var e=function e(t){n.onChange(t/100)};var t="number"===typeof n.value&&!window.isNaN(n.value);var a=t?parseInt(100*n.value,10):s||0;return i.default.createElement(r,(0,o.default)({},n,{value:a,onChange:e}))}}var s=r;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withMsToSecondConversion.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=a(n("./common/temp/node_modules/react/index.js"));function o(t){return function(n){var e=n.value/1e3;return s.default.createElement(t,(0,r.default)({},n,{value:e,onChange:function e(t){n.onChange(1e3*t)}}))}}var i=o;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/hoc/withOnChangeLoadValue.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var i=a(n("./common/temp/node_modules/lodash/isFinite.js"));var l=a(n("./common/temp/node_modules/lodash/isObject.js"));var c=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/SectionSettings.js");var u=a(n("./common/temp/node_modules/react/index.js"));var p=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionMessageBundle.js"));function r(r,s){return function(e){var t=0;((0,l.default)(e.value)||(0,i.default)(e.value))&&(t=e.value);var n=e.label===p.default.SPACING_PANEL.CUSTOM_WIDTH;if(n){s&&(t=t||s.customContentWidth);t<c.MIN_SECTION_WIDTH&&(t=c.MIN_SECTION_WIDTH)}var a=e.label===p.default.SPACING_PANEL.CUSTOM_HEIGHT;if(a){s&&(t=t||s.customSectionHeight);t<c.MIN_SECTION_HEIGHT&&(t=c.MIN_SECTION_HEIGHT)}return u.default.createElement(r,(0,o.default)({},e,{value:t}))}}var s=r;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var R=n("./src/main/webapp/universal/src/apps/App/shared/utils/selectors.js");var s=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettings.js"));var o=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/PageSectionsStore.js"));var i=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/FooterSectionsStore.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/ContentCollectionStore.js"));var M=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/SiteHeaderStore.js"));var N=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/isImageAndTextSection.js"));var F=n("./src/main/webapp/universal/src/apps/App/shared/utils/SectionUtils.ts");var c=a(n("./src/main/webapp/frontend/packages/enums/CollectionTypes.js"));var U=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/StoreUtils.js");var L=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildSettingsFormProps.js"));var q=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/PageSectionSettingsFormBuilder.ts"));var H=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildTweakData.js");var u=n("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var p=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var d=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var m=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/tweakActions.js");var G=function e(t){var n=l.default.getState().get(t);return n&&(n.get("type")===c.default.PORTFOLIO||"portfolio"===n.get("entityType"))};var V=function e(t){if(t&&t.parentNode&&"FOOTER"===t.parentNode.nodeName)return true;return false};var f=(0,r.default)({getStores:function e(){return[i.default,o.default]},getPropsFromStores:function e(t){var n=t.sectionEditContexts,a=t.categorizedTweaks,r=t.tweakValuesCurrent;var s=(0,U.getSectionStore)(),o=s.isSettingsOpen,i=s.openSettingsId,l=s.openSectionToolbarRect,c=s.openSectionNode,u=s.collectionId,p=s.activeTab,d=s.tweakDefinitionsForSection;var m=n[i];var f=M.default.getState(),v=f.isHeaderModalOpen;var b=V(c);var h=false;var g=false;var S=false;var y=false;var j=false;var w=null;if(m){w=m.video;h=(0,F.isGallerySection)(m);g=(0,N.default)(m);S=(0,F.isUserItemsListSection)(m);y=(0,F.isMainContentSection)(m);j=(0,F.isMainContentSection)(m)&&G(u)}var P={categorizedTweaks:a,isGallery:h,isImageAndText:g,isUserItemsList:S,isMainContent:y,tweakDefinitionsForSection:d,tweakValuesCurrent:r};var O=(0,H.getTweakData)(P),E=O.tweakValues,_=O.tweaksJsonSchema,A=O.tweaksUISchema;var C={activeTab:p,defaultThemeId:(0,R.getActiveThemeId)(t),isGallery:h,isImageAndText:g,isUserItemsList:S,isMainContent:y,isPortfolio:j,tweaksUISchema:A};var I=new q.default(C);var T=(0,L.default)({builder:I,categorizedTweaks:a,defaultThemeId:(0,R.getActiveThemeId)(t),isGallery:h,isImageAndText:g,isUserItemsList:S,isMainContent:y,isPortfolio:j,section:m,tweakValues:E,tweaksJsonSchema:_,tweaksUISchema:A}),k=T.uiSchema,x=T.value,D=T.schema;return{SectionActions:(0,U.getSectionActions)(),activeTab:p,isGallery:h,isImageAndText:g,isUserItemsList:S,isMainContent:y,isPortfolio:j,isSettingsOpen:o,isHeaderModalOpen:v,openSectionNode:c,openSettingsId:i,openSectionToolbarRect:l,video:w,uiSchema:k,value:x,schema:D,isFooter:b}}},s.default);var v=(0,p.cmsStoreConnect)(function(e){return{sectionEditContexts:(0,d.getSectionEditContexts)(e),isMobileView:(0,d.getFrameDeviceView)(e)===u.DeviceViewType.PHONE,categorizedTweaks:(0,d.getCategorizedTweaks)(e),loaded:!(0,d.getTweaksLoading)(e),tweakValuesCurrent:(0,d.getTweakValuesCurrent)(e)}},{updateTweakField:m.updateTweakField})(f);var b=v;t.default=b;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/PageSectionSettingsFormBuilder.ts":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=a(n("./common/temp/node_modules/lodash/compact.js"));var d=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/PageSectionSettingsFormBuilderBase.ts"));function m(r){var s=f();return function e(){var t=(0,c.default)(r),n;if(s){var a=(0,c.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,l.default)(this,n)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var v=function(e){(0,i.default)(a,e);var n=m(a);function a(e){var t;(0,r.default)(this,a);t=n.call(this,e);(0,u.default)((0,o.default)(t),"activeTab",void 0);t.activeTab=e.activeTab||"";return t}(0,s.default)(a,[{key:"build",value:function e(){var t=this.compose();var n=(0,p.default)([t[this.activeTab]]);return n}}]);return a}(d.default);t.default=v;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/PageSectionSettingsFormBuilderBase.ts":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/StoreUtils.js");var f=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/SettingsSchema/index.js"));var i=function(){function t(e){(0,r.default)(this,t);(0,o.default)(this,"options",void 0);this.options=e}(0,s.default)(t,[{key:"compose",value:function e(){var t=this.enrichOptions(this.options);var n=t.collectionId,a=t.defaultThemeId,r=t.isGallery,s=t.isUserItemsList,o=t.isMainContent,i=t.isPortfolio,l=t.itemId,c=t.themeUISchema,u=t.tweaksUISchema,p=t.typeName,d=t.itemLayoutKey;var m=(0,f.default)({collectionId:n,defaultThemeId:a,isGallery:r,isUserItemsList:s,isMainContent:o,isPortfolio:i,itemId:l,themeUISchema:c,tweaksUISchema:u,typeName:p,itemLayoutKey:d});return m}},{key:"enrichOptions",value:function e(t){var n=(0,b.getSectionStore)();var a=t.collectionId||n.collectionId;var r=t.defaultThemeId;var s=t.isGallery;var o=t.isUserItemsList;var i=t.isMainContent;var l=t.isPortfolio;var c=t.tweaksUISchema||{};var u=this.isLayoutEngineSection(s,o,i);var p=n.itemId,d=n.themeUISchema,m=void 0===d?{type:"hidden"}:d,f=n.typeName,v=n.itemLayoutKey;return{collectionId:a,defaultThemeId:r,isGallery:s,isUserItemsList:o,isLayoutEngineSection:u,isMainContent:i,isPortfolio:l,itemId:p,themeUISchema:m,tweaksUISchema:c,typeName:f,itemLayoutKey:v}}},{key:"isLayoutEngineSection",value:function e(t,n,a){return!t&&!n&&!a}}]);return t}();t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/SectionSettingsUpdater.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/typeof.js"));var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=a(n("./common/temp/node_modules/lodash/debounce.js"));var u=a(n("./common/temp/node_modules/lodash/last.js"));var l=a(n("./common/temp/node_modules/lodash/isFinite.js"));var G=a(n("./common/temp/node_modules/lodash/get.js"));var d=a(n("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js"));var V=a(n("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var B=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var p=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var W=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/sectionActions.js");var z=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/PageSectionsActions.js"));var m=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js"));var f=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/TweakActions.js"));var v=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/PageSectionSettingsTabOptions.js"));var b=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/constants/SectionSettings.js");var h=a(n("./src/main/webapp/universal/src/apps/App/shared/constants/SectionTypes.js"));function g(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=S(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0;var r=function e(){};return{s:r,n:function e(){if(a>=t.length)return{done:true};return{done:false,value:t[a++]}},e:function e(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,o=false,i;return{s:function e(){n=t[Symbol.iterator]()},n:function e(){var t=n.next();s=t.done;return t},e:function e(t){o=true;i=t},f:function e(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function S(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),true).forEach(function(e){(0,o.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w=function(){function t(e){(0,r.default)(this,t);(0,o.default)(this,"updateFocalPoint",(0,i.default)(function(e,t){var n=e.id,a=e.mediaFocalPoint;if(!n)return;m.default.updateField(n,"mediaFocalPoint",a).then(t)},200));this.tweakUpdater=e}(0,s.default)(t,[{key:"getCustomSectionSize",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=(0,l.default)(t.customContentWidth)?t.customContentWidth:void 0;(0,l.default)(n)&&n<b.MIN_SECTION_WIDTH&&(n=b.MIN_SECTION_WIDTH);var a=(0,l.default)(t.customSectionHeight)?t.customSectionHeight:void 0;(0,l.default)(a)&&a<b.MIN_SECTION_HEIGHT&&(a=b.MIN_SECTION_HEIGHT);return{customContentWidth:n,customSectionHeight:a}}},{key:"update",value:function e(t){var n=t.sectionId,a=t.activeTab,r=t.diff,s=t.prevValue,o=t.isFooter,i=t.isUserItemsList,l=t.value,c=t.SectionActions;var u=Object.keys(r);var p=l.backgroundMode,d=l.background,m=l.spacing,f=l.sectionTheme,v=l.galleryOptions,b=l.userItemsListOptions,h=l.tweakValues,g=l.typeName,S=l.itemLayoutKey,y=l.prevBackground;var j=this.getCustomSectionSize(m),w=j.customContentWidth,P=j.customSectionHeight;var O=d.image,E=d.video,_=d.imageOverlayOpacity,A=d.imageEffect;var C=m.backgroundWidth,I=m.sectionAnimation,T=m.contentWidth,k=m.sectionHeight,x=m.horizontalAlignment,D=m.verticalAlignment,R=m.isFullscreen;var M={backgroundMode:p,imageOverlayOpacity:_,imageEffect:A,backgroundWidth:C,sectionAnimation:I,contentWidth:T,customContentWidth:w,sectionHeight:k,customSectionHeight:P,horizontalAlignment:x,verticalAlignment:D,isFullscreen:R,sectionTheme:f};var N=Object.keys(M).reduce(function(e,t){void 0!==M[t]&&(e[t]=M[t]);return e},{});var F={sectionId:n,styles:N,galleryOptions:v,userItemsListOptions:b,video:E?J({},E,{videoFallbackContentItemId:E.videoFallbackContentItem?E.videoFallbackContentItem.id:null,videoFallbackFocalPoint:E.videoFallbackContentItem?E.videoFallbackContentItem.mediaFocalPoint:null}):E,tweakValues:h,typeName:g,itemLayoutKey:S,isDirty:true,prevBackground:y,isFooter:o,isUserItemsList:i};F.backgroundImageId=O?O.id:null;F.backgroundImageFocalPoint=O?O.mediaFocalPoint:null;var U=(0,G.default)(v,"fullscreenSlideshowOptions");var L=(0,G.default)(v,"reelOptions");if(U&&L){F=J({},F,{galleryOptions:J({},v,{fullscreenSlideshowOptions:J({},U,{viewportHeight:U.galleryHeight}),reelOptions:J({},L,{viewportHeight:L.galleryHeight})})});B.cmsStore.dispatch((0,W.sectionChanged)(F))}var q=(0,G.default)(s,"background.image.backgroundImageFocalPoint");var H=q!==O.mediaFocalPoint;H?this.updateFocalPoint(O,function(){B.cmsStore.dispatch((0,W.sectionChanged)(J({},F,{galleryOptions:J({},v,{lastUpdate:Date.now()})})))}):(0,G.default)(s,["video","videoFallbackContentItemId"])===(0,G.default)(E,["videoFallbackContentItem","id"])&&(0,G.default)(s,["video","videoFallbackFocalPoint"])!==(0,G.default)(E,["videoFallbackContentItem","mediaFocalPoint"])?this.updateFocalPoint(E.videoFallbackContentItem,function(){B.cmsStore.dispatch((0,W.sectionChanged)(J({},F,{galleryOptions:J({},v,{lastUpdate:Date.now()})})))}):B.cmsStore.dispatch((0,W.sectionChanged)(F));this.fireTweakUpdates(r);if(c===z.default){c.setMainContentTypeName(g);if(r.hasOwnProperty("#/itemLayoutKey")){c.setMainContentItemLayoutKey(S);V.default.changeProductItemLayout(S)}}this.fireTrackingEvents(a,u,F)}},{key:"fireTweakUpdates",value:function e(t){var n=Object.keys(t);var a=n.find(function(e){return e.includes("tweakValues")});if(a){var r=t[a];var s=(0,u.default)(a.split("/"));var o=function e(t){return t&&"object"===(0,c.default)(t)&&(t.value||0===t.value)};var i=o(r)?"".concat(r.value).concat(r.unit||""):"".concat(r);var l={variableName:s,value:i};this.tweakUpdater?this.tweakUpdater(l):f.default.updateField(l)}}},{key:"getSectionImageTrackingValues",value:function e(t){var n=t.isFooter?"footer":"main";var a=t.prevBackground.image.id;var r=t.backgroundImageId;var s=r||null;var o=!r;var i=a&&r;var l=t.isUserItemsList?"list-section":"layout-engine-section";var c="add";o?c="remove":i&&(c="replace");return{sectionType:l,location:n,imageId:s,imageAction:c}}},{key:"trackPageSectionBackgroundSettings",value:function e(t,n){var a=g(t),r;try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.includes("#/backgroundMode")){var o=n.styles.backgroundMode;V.default.changeBackgroundMode(o,n.sectionId)}if("#/background/image"===s){var i=n.prevBackground&&n.prevBackground.image.id!==n.backgroundImageId;if(i){var l=this.getSectionImageTrackingValues(n);V.default.userChangesImageInSection(J({},l,{usage:"Background"}))}}if(s.includes("#/spacing/backgroundWidth")){var c=n.styles.backgroundWidth;V.default.changeBackgroundWidth(c,n.sectionId)}if(s.includes("#/background/imageOverlayOpacity")){var u=n.styles.imageOverlayOpacity;V.default.changeImageOverlayOpacity(u,n.sectionId)}if(s.includes("#/background/imageEffect")){var p=n.styles.imageEffect;V.default.changeImageEffect(p,n.sectionId)}}}catch(e){a.e(e)}finally{a.f()}}},{key:"trackPageSectionColorSettings",value:function e(t,n){var a=(0,p.getSectionEditContexts)(B.cmsStore.getState());var r=a[n.sectionId];var s=n.styles.sectionTheme;(null===r||void 0===r?void 0:r.sectionName)===h.default.LAYOUT_ENGINE&&d.default.changeLayoutEngineColorStart();V.default.applyThemeToSection(t.join(","),s)}},{key:"trackPageSectionFormatSettings",value:function e(t,n){var a=false;var r=g(t),s;try{for(r.s();!(s=r.n()).done;){var o=s.value;if(o.includes("#/galleryOptions/design")){d.default.changeGalleryLayoutStart();a=true}if(o.includes("#/typeName")){d.default.changeCollectionLayoutStart();a=true}if(o.includes("#/galleryOptions")){var i=o.includes("scrollAnimation");var l=o.includes("transition");if(i||l){var c={strips:"stripOptions",slideshow:"slideshowOptions",fullscreenSlideshow:"fullscreenSlideshowOptions",grid:"gridOptions",masonry:"masonryOptions",reel:"reelOptions"};var u=i?"scrollAnimation":"transition";var p=n.galleryOptions[c[n.galleryOptions.design]][u];V.default.userSelectGalleryAnimationOverride(p);a=true}}o.includes("#/itemLayoutKey")&&(a=true)}}catch(e){r.e(e)}finally{r.f()}a||V.default.applyFormatEditingOption(t.join(","))}},{key:"fireTrackingEvents",value:function e(t,n,a){if(t===v.default.BACKGROUND){this.trackPageSectionBackgroundSettings(n,a);return}if(t===v.default.COLOR){this.trackPageSectionColorSettings(n,a);return}this.trackPageSectionFormatSettings(n,a)}},{key:"destroy",value:function e(){this.updateFocalPoint.flush()}}]);return t}();t.default=w;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildSettingsFormProps.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var H=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionSettingsSchema.js");var G=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/StoreUtils.js");var V=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),true).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var o=function e(t){var n=t.builder,a=t.isGallery,r=t.isUserItemsList,s=t.isImageAndText,o=t.isMainContent,i=t.isJsonSchemaSection,l=t.section,c=t.tweakValues,u=t.tweaksJsonSchema;var p=(0,G.getSectionStore)(),d=p.isSettingsOpen,m=p.uiSchema,f=p.typeName,v=p.itemLayoutKey;var b=V.default.getCollectionConfig(f);var h={};var g=null;var S=null;var y=null;var j=null;var w=null;if(l){h=l.styles||{};g=l.backgroundImageId;S=l.video;a&&(y=l.galleryOptions);r&&(j=l.userItemsListOptions);s&&(w=l.imageAndTextOptions)}var P=(0,H.buildSectionSettingsSchema)({isGallery:a,isUserItemsList:r,isImageAndText:s,tweaksJsonSchema:u});var O=h,E=O.backgroundMode,_=O.imageOverlayOpacity,A=O.imageEffect,C=O.backgroundWidth,I=O.sectionAnimation,T=O.contentWidth,k=O.customContentWidth,x=O.sectionTheme,D=O.sectionHeight,R=O.customSectionHeight,M=O.horizontalAlignment,N=O.verticalAlignment,F=O.isFullscreen;var U=!x;var L={backgroundMode:E,background:{image:{id:g},video:S?B({},S,{videoFallbackContentItem:{id:S.videoFallbackContentItemId,mediaFocalPoint:S.videoFallbackFocalPoint}}):S,imageOverlayOpacity:_,imageEffect:A},spacing:{backgroundWidth:C,sectionAnimation:I,contentWidth:T,customContentWidth:k,sectionHeight:D,customSectionHeight:R,horizontalAlignment:M,verticalAlignment:N,isFullscreen:F},isDefaultTheme:U,sectionTheme:x||"",galleryOptions:y,userItemsListOptions:j,imageAndTextOptions:w,isMainContent:o,typeName:f,itemLayoutKey:v||(null===b||void 0===b?void 0:b.itemLayoutDefault),tweakValues:c};if(!d)return{uiSchema:m,schema:P,value:L};var q=n.build();return{uiSchema:q,schema:P,value:L}};t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildTabOptions.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var m=a(n("./common/temp/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var f=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/PageSectionMessageBundle.js"));var v=a(n("./common/temp/node_modules/lodash/compact.js"));var b="spacing";var r=function e(t){var n=t.isGallery,a=t.isMainContent,r=t.isPortfolio,s=t.isUserItemsList;var o=!n&&!a&&!s;var i={label:f.default.FORMAT_PANEL.TITLE,value:b,htmlAttributes:{"data-test":"section-settings-tab-".concat(b)}};var l={label:f.default.BACKGROUND_MEDIA.BACKGROUND,value:"background",htmlAttributes:{"data-test":"section-settings-tab-background"}};var c={label:f.default.COLLECTION_PANEL.TITLE,value:b,htmlAttributes:{"data-test":"section-settings-tab-".concat(b)}};var u={label:f.default.GALLERY_PANEL.TITLE,value:b,htmlAttributes:{"data-test":"section-settings-tab-".concat(b)}};var p={label:f.default.THEME_PANEL.THEME,value:"color",htmlAttributes:{"data-test":"section-settings-tab-color"}};var d=[].concat((0,m.default)(o?[i,l]:[]),(0,m.default)(a?(0,v.default)([c,r&&l]):[]),(0,m.default)(n?[u]:[]),(0,m.default)(s?[l]:[]),[p]);return d};var s=r;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/buildTweakData.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getTweakData=void 0;var v=a(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=a(n("./common/temp/node_modules/lodash/map.js"));var h=a(n("./common/temp/node_modules/lodash/get.js"));var g=n("./src/main/webapp/universal/src/shared/utils/Tweaks/TweakUiSchemaUtils.js");var S=a(n("./src/main/webapp/universal/src/shared/stores/TweakStore.js"));var y=n("./src/main/webapp/universal/src/shared/utils/Tweaks/TweakToSchema.js");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),true).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var i=false;var l=function e(t){return t.map(function(e){return o({},e,{isDisclosed:false})})};var j=function e(t,n){return(0,g.buildDisclosedTweakUiSchema)({tweakDefinitions:l(Object.values(n))})};var w=function e(t,n){return(0,g.buildTweakUiSchema)({tweakDefinitions:l(Object.values(n)),shouldIncludeCategoryHeaders:i})};var c=function e(t){var n=t.categorizedTweaks,a=t.isGallery,r=t.isMainContent,s=t.isJsonSchemaSection,o=t.tweakDefinitionsForSection,i=t.tweakValuesCurrent;var l=(0,y.guessJsonSchema)({tweakDefinitions:o}),c=l.unguessable,u=l.schema;var p=(0,b.default)(c,"tweakId");var d=(0,y.parseTweakValues)({schema:u,values:i||S.default.getState().tweakValuesCurrent});var m=Object.entries(o).reduce(function(e,t){var n=(0,v.default)(t,2),a=n[0],r=n[1];p.includes(a)||(e[a]=r);return e},{});var f=[];if(Object.keys(m).length>0){n&&n.length>0&&(f=(0,g.buildCategorizedUiSchema)({categorizedTweaks:n,tweakDefinitions:m,tweaksRenderer:a||r||s?w:j}));if(f.length>0&&"Page Spacing"===f[0].title&&"context"===(0,h.default)(f,[1,"type"])){f[1].title="Page Spacing";f.shift()}}return{tweakValues:d,tweaksJsonSchema:u,tweaksUISchema:f}};t.getTweakData=c},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/withSectionControllers.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var f=a(n("./common/temp/node_modules/react/index.js"));var v=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/ensureContentModeController.js"));function b(r){var s=h();return function e(){var t=(0,d.default)(r),n;if(s){var a=(0,d.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,p.default)(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var r=function e(t){var n;return n=function(e){(0,u.default)(s,e);var r=b(s);function s(){var t;(0,i.default)(this,s);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t=r.call.apply(r,[this].concat(n));(0,m.default)((0,c.default)(t),"state",{contentModeController:{}});(0,m.default)((0,c.default)(t),"getControllers",function(){var e=t.state.contentModeController.annotationControllers;return e?Object.values(e).reduce(function(e,t){e[t.name]=t;return e},{}):{}});return t}(0,l.default)(s,[{key:"componentDidMount",value:function e(){var t=this;(0,v.default)().then(function(e){t.setState({contentModeController:e})})}},{key:"render",value:function e(){return f.default.createElement(t,(0,o.default)({},this.props,{controllers:this.getControllers()}))}}]);return s}(f.default.Component),n};t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/customFields/ListArray.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var l=a(n("./common/temp/node_modules/react/index.js"));var c=n("./common/temp/node_modules/uuid/index.js");var u=n("./common/temp/node_modules/@sqs/jsf-fields/lib/es/main.js");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),true).forEach(function(e){(0,s.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(a){if(!Array.isArray(a))return;a.forEach(function(e,t){if(!e.id){var n=d({},e,{id:(0,c.v4)()});a[t]=n}})}var f=function e(t){var n=t.className,r=t.onChange,a=(0,i.default)(t,["className","onChange"]);(0,l.useEffect)(function(){m(a.value)},[]);var s=(0,l.useCallback)(function(e){m(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.apply(void 0,[e].concat(n))},[r]);return l.default.createElement("div",{className:n},l.default.createElement(u.array,(0,o.default)({},a,{onChange:s})))};var v=f;t.default=v;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/PageSectionUserItemsList/customFields/ListNonArrayDisclosure.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=a(n("./common/temp/node_modules/react/index.js"));var f=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var v=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var b=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var h=function e(){};var r=function e(t){var n=t.onClick,a=void 0===n?h:n,r=t.children,s=void 0===r?[]:r,o=(0,d.default)(t,["onClick","children"]);var i=o.router,l=o.scope,c=o.label;var u=function e(){i.push({components:s,scope:l,title:c});a()};return m.default.createElement(f.Box,{mx:2},m.default.createElement(f.Touchable.Element.WithoutFeedback,{onClick:u},m.default.createElement(v.Cell,(0,p.default)({paddingLeft:2,paddingRight:1,exteriorAccessory:m.default.createElement(b.ChevronSmallRight,{color:"gray.300"})},o))),m.default.createElement(f.Box,{mx:1},m.default.createElement(v.Divider,null)))};var s=r;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/SectionEditor/SectionEditor.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=a(n("./common/temp/node_modules/react/index.js"));var r=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/PageSectionsStore.js"));var o=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/FooterSectionsStore.js"));var i=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var c=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var u=n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/utils/StoreUtils.js");var p=n("./src/main/webapp/universal/src/apps/App/shared/utils/SectionUtils.ts");var d=a(n("./src/main/webapp/universal/src/apps/App/shared/components/JsonSchemaSectionEditor/index.js"));var m=a(n("./src/main/webapp/universal/src/apps/App/shared/components/PageSectionSettings/index.js"));var f=function e(t){var n=t.Y,a=t.openSettingsId,r=t.focusedSectionId,s=t.sectionEditContexts;var o=s[r||a];var i=o&&(0,p.isJsonSchemaSection)(o);return i?l.default.createElement(d.default,{Y:n,section:o}):l.default.createElement(m.default,{Y:n})};var v=(0,r.default)({getStores:function e(){return[o.default,s.default]},getPropsFromStores:function e(){var t=(0,u.getSectionStore)(),n=t.openSettingsId,a=t.focusedSectionId;return{openSettingsId:n,focusedSectionId:a}}},f);var b=(0,i.cmsStoreConnect)(function(e){return{sectionEditContexts:(0,c.getSectionEditContexts)(e)}})(v);t.default=b;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/SectionEditor/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/components/SectionEditor/SectionEditor.js"));var s=r.default;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/TemplateTypeNameUtils.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));function p(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0;var r=function e(){};return{s:r,n:function e(){if(a>=t.length)return{done:true};return{done:false,value:t[a++]}},e:function e(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,o=false,i;return{s:function e(){n=t[Symbol.iterator]()},n:function e(){var t=n.next();s=t.done;return t},e:function e(t){o=true;i=t},f:function e(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function l(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var d=["folder","index","indexType","ordering","collectionType"];var i=function(){function e(){(0,r.default)(this,e)}(0,s.default)(e,null,[{key:"getSimilarConfigs",value:function e(t,n){var a=n[t];var r=[];for(var s in n){if(s===t)continue;var o=n[s];var i=true;var l=p(d),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(o[u]!==a[u]){i=false;continue}}}catch(e){l.e(e)}finally{l.f()}i&&r.push(s)}return r}}]);return e}();t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/getThemeEditorPath.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/isColorsPanelImprovementsEnabled.js"));var s=function e(){if((0,r.default)())return"/config/design/site-styles/colors/theme-editor";return"/config/design/site-styles/colors/color-themes/theme-editor"};t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/isImageAndTextSection.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/apps/App/shared/constants/SectionTypes.js"));function s(e){return e.sectionName===r.default.IMAGE_AND_TEXT}var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/withOnClickAction.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=a(n("./common/temp/node_modules/react/index.js"));var o=function e(n,a){return function(t){return s.default.createElement(n,(0,r.default)({},t,{onClick:function e(){return a(t)}}))}};t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/withOnEditActionForThemeCard.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=a(n("./common/temp/node_modules/react/index.js"));var i=a(n("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/withOnEditActionForThemeCard.less"));var c=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/SiteHeaderStore.js"));var r=function e(a,r){return function(t){var e=c.default.getState(),n=e.isOverlayNavOpen;return o.default.createElement(a,(0,s.default)({},t,n?{}:{onEdit:function e(){return r(t)}},{className:(0,i.default)(t.className,l.default.editableThemeCard)}))}};t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/withOnEditActionForThemeCard.less":function(e,t,n){e.exports={editableThemeCard:"nQcbuvJCI"}},"./src/main/webapp/universal/src/shared/components/Form/fields/EmbedField.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var i=r(n("./common/temp/node_modules/react/index.js"));var l=n("./src/main/webapp/universal/src/shared/utils/coreCmsFlags.ts");var c=a(n("./common/temp/node_modules/@sqs/core-components/fields/EmbedField.js"));var u=n("./src/main/webapp/universal/src/shared/i18n/index.ts");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),true).forEach(function(e){(0,o.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m=function e(t){if(t.error_code)throw(0,u.t)("Invalid URL",{});return t};var f=function e(t){return i.default.createElement(c.default,(0,s.default)({},t,{providerConfigurations:d({embedly:d({},c.EmbedResolvers.embedly,{checkErr:m}),youtube:d({},c.EmbedResolvers.youtube,{checkErr:m})},(0,l.isCoreCmsVariant)(l.YOUTUBE_OEMBED)&&{youtube:{config:d({},c.EmbedResolvers.youtube.config,{format:"json",serviceUrl:"/api/oembed/youtube"})}})}))};t.default=f;e.exports=t.default},"./src/main/webapp/universal/src/shared/i18n/configurations/asset-uploader.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=n("./src/main/webapp/frontend/packages/asset-management/asset-uploader/asset-uploader/lib/i18n/index.js");var s=a(n("./src/main/webapp/universal/src/shared/i18n/index.ts"));(0,r.setI18nInstance)(s.default)},"./src/main/webapp/universal/src/shared/i18n/configurations/block-schemas.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=n("./common/temp/node_modules/@sqs/block-schemas/build/i18n/index.js");var s=n("./common/temp/node_modules/@sqs/block-editor-schemas/dist/cjs/i18n/index.js");var o=a(n("./src/main/webapp/universal/src/shared/i18n/index.ts"));(0,r.setI18nInstance)(o.default);(0,s.setI18nInstance)(o.default)},"./src/main/webapp/universal/src/shared/utils/Tweaks/TweakToSchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.parseTweakValues=i;t.guessType=f;t.guessJsonSchema=b;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var s=n("./src/main/webapp/frontend/packages/universal-utils/cjs/index.js");var u=n("./src/main/webapp/universal/src/shared/utils/StringUtils.js");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),true).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p=(0,s.createWarningLogger)("TweakToSchema");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.schema,n=void 0===t?{}:t,l=e.values;return Object.entries(n).reduce(function(e,t){var n=(0,c.default)(t,2),a=n[0],r=n[1];if("boolean"===r.type){e[a]="true"===l[a];return e}if("string"===r.type){e[a]=l[a];return e}if("number"===r.type){var s=(0,u.splitUnits)(l[a]),o=s.value;var i=Number.parseFloat(o||l[a],10);e[a]=isNaN(i)?0:i;return e}e[a]=(0,u.splitUnits)(l[a]);return e},{})}var d={color:"string",dropdown:"string",value:"number"};var m={NUMBER_UNIT:{value:{type:"number"},unit:{type:"string"}}};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var n=e.defaultValue,a=e.type;if(["false","true"].includes(n))return"boolean";var r=(0,u.splitUnits)(n),s=r.unit;if(s)return"object";return d[a]||"string"}function v(e,t){var n=t.defaultValue;if("object"===e){var a=(0,u.splitUnits)(n),r=a.unit;if(r)return m.NUMBER_UNIT}return null}function b(e){var t=e.tweakDefinitions;return Object.entries(t).reduce(function(e,t){var n=(0,c.default)(t,2),a=n[0],r=n[1];var s=f(r);if(!s){p("Could not guess json schema type",{tweakId:a,def:r});e.unguessable.push({tweakId:a,def:r});return e}var o=v(s,r);var i=l({},s&&{type:s},{},o&&{properties:o});e.schema[a]=i;return e},{unguessable:[],schema:{}})}},"./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/shared/utils/enum.js"));var s=(0,r.default)("fontFamily","fontStyle","fontWeight","value","dropdown","checkbox","color");t.default=s;e.exports=t.default},1:function(e,t){}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/async-section-editor-77056e891eba861b6d2fc-min.en-US.js.map