(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[35],{"./src/main/webapp/frontend/packages/enums/FormType.js":function(e,t){var a={FORM_BLOCK:1,PRODUCT:2,DONATION:3,SLIDE:4,NEWSLETTER_BLOCK:5,CHECKOUT_PAGE:6};e.exports=a},"./src/main/webapp/frontend/packages/enums/GoogleReCaptchaAlignmentType.js":function(e,t){var a={LEFT:1,CENTER:2,RIGHT:3};e.exports=a},"./src/main/webapp/frontend/packages/enums/GoogleReCaptchaThemeType.js":function(e,t){var a={LIGHT:1,DARK:2};e.exports=a},"./src/main/webapp/frontend/packages/enums/PopupOverlayStyle.js":function(e,t){var a={NONE:1,SHOW:2};e.exports=a},"./src/main/webapp/universal/src/apps/App/shared/actions/LayoutChooserActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var c=a("./src/main/webapp/universal/src/apps/App/shared/actions/SlideActions.js");var l=a("./src/main/webapp/universal/src/apps/App/shared/utils/ContentCollectionAPI.js");var u=a("./src/main/webapp/universal/src/apps/App/shared/utils/CoverPageSummaryAPI.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/utils/LockScreenSummaryAPI.js");var d=a("./src/main/webapp/universal/src/apps/App/shared/utils/PopupOverlaySummaryAPI.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/utils/SlideAPI.js");var f=a("./src/main/webapp/universal/src/apps/App/shared/utils/SlideLayoutAPI.js");var h=a("./src/main/webapp/frontend/packages/enums/SlideType.js");var v=function(){function e(){(0,r.default)(this,e);this.generateActions("fetchDataSuccess","fetchDataFailure","selectCategory","saveSuccess","saveFailure")}(0,s.default)(e,[{key:"fetchData",value:function e(a){var s=this;return function(e){e(a);var t=[l.read(a),u.read(a),f.readAllForType(h.COVER_PAGE)];Promise.all(t).then(function(e){var t=(0,o.default)(e,3),a=t[0],n=t[1],r=t[2];s.fetchDataSuccess({navTitle:a.data.navigationTitle,slide:n.data.slide,layouts:r.data.results})}).catch(function(){return s.fetchDataFailure()})}}},{key:"fetchLockScreenData",value:function e(){var r=this;return function(e){e();var t=[p.readLockScreenSummary(),f.readAllForType(h.LOCK_SCREEN)];Promise.all(t).then(function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];r.fetchDataSuccess({slide:a.data.slide,layouts:n.data.results})}).catch(function(){return r.fetchDataFailure()})}}},{key:"fetchPopupOverlayData",value:function e(){var r=this;return function(e){e();var t=[d.read(),f.readAllForType(h.POPUP_OVERLAY)];Promise.all(t).then(function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];r.fetchDataSuccess({slide:a.data.slide,layouts:n.data.results})}).catch(function(){return r.fetchDataFailure()})}}},{key:"selectLayout",value:function e(t,a){return function(e){e(a);c.renderPreview(t,a)}}},{key:"save",value:function e(t){var n=this;return function(e){e();return m.update(t).then(function(e){var t=e.data;return n.saveSuccess(t)}).catch(function(e){var t=e.response;var a=t.data.message;n.saveFailure(a);return Promise.reject(a)})}}}]);return e}();e.exports=i.createActions(v)},"./src/main/webapp/universal/src/apps/App/shared/actions/PopupOverlayActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var c=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/PopupOverlaySummaryAPI.js"));var l=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/SlideLayoutAPI.js"));var u=n(a("./src/main/webapp/frontend/packages/enums/SlideType.js"));var p=n(a("./src/main/webapp/frontend/packages/enums/PopupOverlayStyle.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSettingsActions.js"));var m=function(){function e(){(0,r.default)(this,e);this.generateActions("fetchDataSuccess","fetchDataFailure","updatePopupStyle","saveFailure","saveSuccess","show","hide")}(0,s.default)(e,[{key:"save",value:function e(t){var a=this;return d.default.save(t).then(function(){return a.saveSuccess(t.popupOverlaySettings.style)}).catch(function(){return a.saveFailure()})}},{key:"fetchData",value:function e(a){var s=this;return function(e){e();var r=a?a.style:p.default.NONE;var t=[c.default.read(),l.default.readAllForType(u.default.POPUP_OVERLAY)];return Promise.all(t).then(function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];s.fetchDataSuccess({summary:a.data,layouts:n.data.results,popupStyle:r})}).catch(function(){return s.fetchDataFailure()})}}},{key:"discard",value:function e(){return function(e){e();return Promise.resolve()}}}]);return e}();var f=i.default.createActions(m);t.default=f;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/actions/SlideActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a("./src/main/webapp/universal/src/apps/App/shared/utils/SlideAPI.js");var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var c=function(){function e(){(0,r.default)(this,e);this.generateActions("insert","insertSlices","saveSuccess","saveFailure")}(0,s.default)(e,[{key:"update",value:function e(t){var a=this;return function(e){e(t.id);return i.update(t).then(function(e){var t=e.data;return a.insert(t)}).catch(function(e){var t=e.response;return Promise.reject(t.data.message)})}}},{key:"upsertSlices",value:function e(t){var a=this;return function(e){e(t);return i.upsertSlices(t).then(function(e){var t=e.data;return a.insertSlices(t.slices)}).catch(function(e){var t=e.response;return Promise.reject(t.data.message)})}}},{key:"renderPreview",value:function e(t,s){var o=this;var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(e){e();return i.renderPreview(t,a?s:null).then(function(e){var t=e.data;var a=t.renderedSlide,n=t.pageClasses,r=t.slideType;o.renderPreviewSuccess(a,n,s,r)})}}},{key:"renderPreviewSuccess",value:function e(t,a,n,r){return function(e){e();try{window.Y.Global.fire("slideUpdate",{renderedSlide:t,pageClasses:a,layoutId:n,slideType:r})}catch(e){console.error(e)}}}},{key:"save",value:function e(a){var n=this;return function(e){e();var t=Object.values(a).filter(function(e){return!e.isDemo});return i.upsertSlices(t).then(function(e){var t=e.data;var a=t.slices;false;n.saveSuccess(a);return a}).catch(function(e){var t=e.response;var a=t.data.message;n.saveFailure(a);return Promise.reject(a)})}}},{key:"discard",value:function e(n){var r=this;return function(e){e(n.id);var t=n.id,a=n.layoutIdentifier;r.renderPreview(t,a,false);return Promise.resolve()}}}]);return e}();e.exports=o.createActions(c)},"./src/main/webapp/universal/src/apps/App/shared/components/YUICompatibleLinkEditor/YUICompatibleLinkEditor.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var m=r(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var f=r(a("./common/temp/node_modules/lodash/isFunction.js"));var h=r(a("./common/temp/node_modules/prop-types/index.js"));var v=n(a("./common/temp/node_modules/react/index.js"));var g=r(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var C=r(a("./common/temp/node_modules/@sqs/core-components/web/components/LinkEditor.js"));var b=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var y=a("./src/main/webapp/universal/src/apps/App/shared/constants/productCollectionConfig.js");var S=r(a("./src/main/webapp/universal/src/apps/App/shared/components/YUICompatibleLinkEditor/YUICompatibleLinkEditor.less"));function j(r){var s=E();return function e(){var t=(0,p.default)(r),a;if(s){var n=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,u.default)(this,a)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var w=function(e){(0,l.default)(n,e);var a=j(n);function n(e){var t;(0,o.default)(this,n);t=a.call(this,e);(0,d.default)((0,c.default)(t),"handleOnChange",function(e){t.setState({value:e});t.props.onChange&&t.props.onChange(e)});t.state={value:(0,f.default)(e.value)?e.value():e.value};return t}(0,i.default)(n,[{key:"render",value:function e(){var t=(0,m.default)(S.default.linkEditorModal,this.props.modalClassName);var a=(0,m.default)(this.props.className);var n=b.legacyV6Flags.isFeatureEnabled(g.default.NESTED_CATEGORIES)?{CONTENT_PICKER:{websiteId:this.props.websiteId,versions:{collection:{product:y.productCollectionApiVersion}}}}:{};return v.default.createElement("div",{onClick:function e(t){return t.stopPropagation()}},v.default.createElement(C.default,(0,s.default)({},this.props,{htmlAttributes:{"data-test":"CC-LinkEditor-Input"},autocompleteContentItems:false,value:this.state.value,className:a,modalClassName:t,onChange:this.handleOnChange,componentProps:n})))}}]);return n}(v.Component);t.default=w;(0,d.default)(w,"propTypes",{value:h.default.oneOfType([h.default.shape({url:h.default.string,newWindow:h.default.bool,name:h.default.string}),h.default.func]).isRequired,onChange:h.default.func.isRequired,isCoverPageOnly:h.default.bool});(0,d.default)(w,"defaultProps",{isCoverPageOnly:true});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/YUICompatibleLinkEditor/YUICompatibleLinkEditor.less":function(e,t,a){e.exports={linkEditorModal:"hG0RKswwN"}},"./src/main/webapp/universal/src/apps/App/shared/components/YUICompatibleLinkEditor/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var s=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var o=n(a("./src/main/webapp/universal/src/apps/App/shared/components/YUICompatibleLinkEditor/YUICompatibleLinkEditor.js"));var i=(0,r.default)({getStores:function e(){return[s.default]},getPropsFromStores:function e(){var t=s.default.getState(),a=t.id;return{websiteId:a}}},o.default);var c=i;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/CoverPageSummaryAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));var s={read:function e(t){return r.default.get("/api/content-collections/".concat(t,"/slide-summary"))}};var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/LockScreenSummaryAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var r={readLockScreenSummary:function e(){return n.get("/api/lock-screen/slide-summary")}};e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/utils/PopupOverlaySummaryAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var r={read:function e(){return n.get("/api/popup-overlay/slide-summary")}};e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/utils/SlideAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var r={update:function e(t){return n.put("/api/slides/".concat(t.id),t)},upsertSlices:function e(t){var a=t[0].slideId;return n.put("/api/slides/".concat(a,"/slices"),{slices:t})},renderPreview:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.get("/api/slides/preview",{params:{slideId:t,layoutId:a}})}};e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/utils/SlideLayoutAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var r={readAllForType:function e(t){return n.get("/api/slide-layouts",{params:{slideTypes:t}})}};e.exports=r},"./src/main/webapp/universal/src/shared/actions/CampaignsVerificationActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var o=function e(){(0,r.default)(this,e);this.generateActions("loadInitialData","loadInitialCaptchaData","toggleSingleOptIn","changeSiteKey","changeSecretKey","toggleCaptchaEnabled","selectCaptchaTheme","selectCaptchaAlignment","saveSuccess","reset")};var i=s.default.createActions(o);t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/actions/GoogleDriveConfigActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/shared/utils/ExternalAuthentication.js");var c=a("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js");var l=function(){function e(){(0,r.default)(this,e);this.generateActions("connectFailure","connectSuccess","disconnect","changeSpreadsheetName","closeDidFailAlert","loadFromSavedData","reset","saveSuccess","showFormNameError")}(0,s.default)(e,[{key:"connect",value:function e(t){var a=this;return function(e){var t={serviceProvider:c.GOOGLEDOCS2};i.authenticate(t).then(function(e){e.socialConfig?a.connectSuccess({socialConfig:e.socialConfig}):a.connectFailure()},a.connectFailure).catch(a.connectFailure);e()}}}]);return e}();e.exports=o.createActions(l)},"./src/main/webapp/universal/src/shared/components/BaseCodeMirror.js":function(e,t,a){"use strict";e.exports=a("./common/temp/node_modules/codemirror/lib/codemirror.js");a("./common/temp/node_modules/codemirror/mode/css/css.js");a("./common/temp/node_modules/codemirror/mode/htmlmixed/htmlmixed.js");a("./common/temp/node_modules/codemirror/mode/javascript/javascript.js");a("./common/temp/node_modules/codemirror/mode/markdown/markdown.js");a("./common/temp/node_modules/codemirror/mode/sql/sql.js");a("./common/temp/node_modules/codemirror/mode/xml/xml.js");a("./common/temp/node_modules/codemirror/addon/edit/closebrackets.js");a("./common/temp/node_modules/codemirror/addon/edit/closetag.js");a("./common/temp/node_modules/codemirror/addon/hint/css-hint.js");a("./common/temp/node_modules/codemirror/addon/dialog/dialog.js");a("./common/temp/node_modules/codemirror/addon/display/fullscreen.js");a("./common/temp/node_modules/codemirror/addon/hint/html-hint.js");a("./common/temp/node_modules/codemirror/addon/hint/javascript-hint.js");a("./common/temp/node_modules/codemirror/addon/edit/matchbrackets.js");a("./common/temp/node_modules/codemirror/addon/edit/matchtags.js");a("./common/temp/node_modules/codemirror/addon/runmode/runmode.js");a("./common/temp/node_modules/codemirror/addon/hint/show-hint.js");a("./common/temp/node_modules/codemirror/addon/hint/sql-hint.js");a("./common/temp/node_modules/codemirror/addon/fold/xml-fold.js");a("./common/temp/node_modules/codemirror/addon/hint/xml-hint.js")},"./src/main/webapp/universal/src/shared/components/GoogleDriveConfig.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(r){var s=m();return function e(){var t=(0,u.default)(r),a;if(s){var n=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var r=a("./common/temp/node_modules/prop-types/index.js");var f=a("./common/temp/node_modules/react/index.js");var h=a("./src/main/webapp/universal/src/shared/components/GoogleDriveConfig.less");var v=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),g=v.Input;var C=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var b=a("./src/main/webapp/universal/src/shared/actions/GoogleDriveConfigActions.js");var y=a("./src/main/webapp/universal/src/shared/stores/GoogleDriveConfigStore.js");var S=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),j=S.Alert;var E=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var w=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),_=w.t;var A=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),O=A.T;var P=function(e){(0,c.default)(r,e);var n=d(r);function r(){var s;(0,o.default)(this,r);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=n.call.apply(n,[this].concat(t));(0,p.default)((0,i.default)(s),"handleContainerClick",function(){s.props.isConnected||s.props.showConnectionFailedAlert||b.connect()});(0,p.default)((0,i.default)(s),"getDescription",function(){var e=s.props,t=e.isConnected,a=e.isConnecting,n=e.showConnectionFailedError,r=e.username;if(n)return _("Error connecting to Google Drive");if(t)return _("As {username}",{username:r});if(a)return _("Connecting…");return _("Click to connect")});(0,p.default)((0,i.default)(s),"handleIconClick",function(){var e=s.props.isConnected;e&&b.disconnect()});(0,p.default)((0,i.default)(s),"renderOAuthFailedAlert",function(){var e=s.props.showConnectionFailedAlert;return f.createElement(j,{isOpen:e,onDismiss:b.closeDidFailAlert,title:_("External Authentication Error"),dismissText:_("Okay"),anchor:"window"},f.createElement(O,{project:"src.shared"},"Unable to connect to external service."))});(0,p.default)((0,i.default)(s),"renderIcon",function(){return f.createElement("div",{"data-test":"GoogleDriveConfig",className:h.button,onClick:s.handleIconClick},f.createElement("div",{className:h.icon}))});(0,p.default)((0,i.default)(s),"renderInput",function(){var e=s.props,t=e.showFormNameRequiredError,a=e.googleDriveSpreadsheetName;return f.createElement(g,{wrapperClassName:h.input,placeholder:_("Spreadsheet Name"),value:a,onChange:function e(t){b.changeSpreadsheetName(t)},errorMessage:t?_("Form name is required"):null})});return s}(0,s.default)(r,[{key:"render",value:function e(){var t;var a=this.props.isConnected;var n=E(h.container,(t={},(0,p.default)(t,h.connected,a),(0,p.default)(t,h.disconnected,!a),t));return f.createElement("div",{className:n,onClick:this.handleContainerClick},f.createElement("div",{className:h.descriptionContainer},f.createElement("div",{className:h.title},f.createElement(O,{project:"src.shared"},"Google Drive")),f.createElement("div",{className:h.description},this.getDescription())),this.renderOAuthFailedAlert(),a&&this.renderInput(),this.renderIcon())}}]);return r}(f.Component);(0,p.default)(P,"propTypes",{isConnecting:r.bool,isConnected:r.bool,username:r.string,showConnectionFailedAlert:r.bool,showConnectionFailedError:r.bool,googleDriveSpreadsheetName:r.string,showFormNameRequiredError:r.bool,googleDriveConfig:r.object});var T=C({getStores:function e(){return[y]},getPropsFromStores:function e(){return y.getState()}},P);e.exports=T},"./src/main/webapp/universal/src/shared/components/GoogleDriveConfig.less":function(e,t,a){e.exports={container:"FS83GACg_",disconnected:"txxfm54mM",icon:"_3qpDl4SvM",descriptionContainer:"_3Zyt4_xxB",connected:"_1xVaKsuos",button:"_3ODTC40tB",input:"_3S9NHZBwo",title:"_3TZjZJoZc",description:"_3I7Z-R3Vz"}},"./src/main/webapp/universal/src/shared/components/Verification/CampaignsVerification.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=n(a("./common/temp/node_modules/react/index.js"));var d=r(a("./common/temp/node_modules/prop-types/index.js"));var m=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var f=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var h=r(a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js"));var v=r(a("./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaForm.jsx"));var g=r(a("./src/main/webapp/universal/src/shared/components/Verification/CampaignsVerification.less"));function C(r){var s=b();return function e(){var t=(0,l.default)(r),a;if(s){var n=(0,l.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var y={confirmationEmail:p.default.createElement(f.T,{project:"src.shared"},"Confirmation Email"),squarespaceEmail:p.default.createElement(f.T,{project:"src.shared"},"Squarespace Email Campaigns"),sendConfirmationEmail:p.default.createElement(f.T,{project:"src.shared"},"Send confirmation email"),mailChimpEmail:p.default.createElement(f.T,{project:"src.shared"},"Mailchimp")};var S=function(e){(0,i.default)(a,e);var t=C(a);function a(){(0,s.default)(this,a);return t.apply(this,arguments)}(0,o.default)(a,[{key:"componentDidUpdate",value:function e(t,a,n){var r=this.props,s=r.isCampaignsConnected,o=r.captchaEnabled,i=r.useSingleOptIn,c=r.captchaAlignment,l=r.captchaTheme,u=r.fireDataChange;var p=t.isCampaignsConnected!==s||t.captchaEnabled!==o||t.useSingleOptIn!==i||t.captchaAlignment!==c||t.captchaTheme!==l;p&&u()}},{key:"renderConfirmationEmailSection",value:function e(){var t=this.props,a=t.isCampaignsConnected,n=t.useSingleOptIn,r=t.mailChimpUseSingleOptIn,s=t.captchaEnabled,o=t.onToggleSingleOptIn,i=t.onToggleMailChimpSingleOptIn,c=t.isMailChimpConnected;return p.default.createElement(p.default.Fragment,null,p.default.createElement(m.Description,{title:y.confirmationEmail,wrapperClassName:g.default.confirmationSection},p.default.createElement(f.T,{project:"src.shared"},"Send subscribers an opt-in confirmation email when they sign up for your mailing list.")),p.default.createElement(m.Description,{title:y.squarespaceEmail,wrapperClassName:g.default.fieldTitle}),a?p.default.createElement(m.Check,{className:g.default.checkBox,value:!n,onChange:o,title:y.sendConfirmationEmail,isDisabled:!s},p.default.createElement(f.T,{confirmationEmail:p.default.createElement("a",{href:"/config/marketing/campaigns/transactional/opt-in",onClick:function e(t){t.stopPropagation()}},p.default.createElement(f.T,{project:"src.shared"},"confirmation email")),project:"src.shared"},"You can customize your {confirmationEmail}. To turn off confirmation emails, first turn on reCAPTCHA. Make sure to comply with local e-marketing laws, which might require confirmation emails.")):null,c?p.default.createElement(p.default.Fragment,null,p.default.createElement(m.Description,{title:y.mailChimpEmail,wrapperClassName:g.default.fieldTitle}),p.default.createElement(m.Check,{className:g.default.checkBox,value:!r,onChange:function e(){return i(!r)},title:y.sendConfirmationEmail},p.default.createElement(f.T,{project:"src.shared"},"Manage your confirmation email settings from Mailchimp."))):null)}},{key:"render",value:function e(){return p.default.createElement("div",{className:g.default.verificationTab},p.default.createElement(m.Description,null,p.default.createElement(f.T,{learnMore:p.default.createElement("a",{href:h.default.GOOGLE_RECAPTCHA_LEARN_MORE,target:"_blank"},p.default.createElement(f.T,{project:"src.shared"},"Learn More")),project:"src.shared"},"Protect your site from spam by verifying subscribers. You can verify users using a confirmation email, or with Google reCAPTCHA as they sign up. For Squarespace Email Campaigns, at least one verification type is required. {learnMore}")),this.renderConfirmationEmailSection(),p.default.createElement(v.default,this.props))}}]);return a}(p.Component);(0,u.default)(S,"propTypes",{isCampaignsConnected:d.default.bool,captchaEnabled:d.default.bool,onToggleSingleOptIn:d.default.func,onToggleMailChimpSingleOptIn:d.default.func,useSingleOptIn:d.default.bool,mailChimpUseSingleOptIn:d.default.bool,isMailChimpConnected:d.default.bool,fireDataChange:d.default.func});(0,u.default)(S,"defaultProps",{captchaEnabled:false,fireDataChange:function e(){},isCampaignsConnected:false,isMailChimpConnected:false,mailChimpUseSingleOptIn:false,onToggleMailChimpSingleOptIn:function e(){},onToggleSingleOptIn:function e(){},useSingleOptIn:false});var j=S;t.default=j;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/Verification/CampaignsVerification.less":function(e,t,a){e.exports={verificationTab:"_1wJx4CTkI",confirmationSection:"_1vesWNONP",checkBox:"_3yo8V_l_M",fieldTitle:"_12gLZQEtg"}},"./src/main/webapp/universal/src/shared/components/Verification/CampaignsVerificationProps.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getHandlers=void 0;var r=n(a("./src/main/webapp/universal/src/shared/actions/CampaignsVerificationActions.js"));var s=n(a("./src/main/webapp/universal/src/shared/actions/MailChimpConfigActions.js"));var o=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onToggleSingleOptIn:function e(){return r.default.toggleSingleOptIn(a)},onToggleMailChimpSingleOptIn:function e(t){return s.default.changeUseSingleOptIn(t)},onChangeSiteKey:function e(t){return r.default.changeSiteKey(t)},onChangeSecretKey:function e(t){return r.default.changeSecretKey(t)},onToggleCaptchaEnabled:function e(){return r.default.toggleCaptchaEnabled(a)},onSelectCaptchaTheme:function e(t){return r.default.selectCaptchaTheme(a,"string"===typeof t?parseInt(t):t)},onSelectCaptchaAlignment:function e(t){return r.default.selectCaptchaAlignment(a,"string"===typeof t?parseInt(t):t)}}};t.getHandlers=o},"./src/main/webapp/universal/src/shared/components/Verification/components/CaptchaInputField.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var c=n(a("./common/temp/node_modules/react/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var l=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var u=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/ErrorMessage.jsx"));var p=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/CaptchaInputField.less"));var s=function e(t){var a=t.title,n=t.value,r=t.errorMsg,s=t.onChange,o=(0,i.default)(t,["title","value","errorMsg","onChange"]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(l.Description,{title:a,wrapperClassName:p.default.fieldTitle}),c.default.createElement(l.Input,{placeholder:Array(24).join("x"),value:n,wrapperClassName:p.default.fieldInput,onChange:s}),c.default.createElement(u.default,o,r))};s.propTypes={errorMsg:r.default.string,onChange:r.default.func,title:r.default.object,value:r.default.string};s.defaultProps={errorMsg:"",onChange:function e(){},title:null,value:""};var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/Verification/components/CaptchaInputField.less":function(e,t,a){e.exports={fieldTitle:"QLlDQIr-S",fieldInput:"_33ZrZMQzf"}},"./src/main/webapp/universal/src/shared/components/Verification/components/ErrorMessage.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/react/index.js"));var s=n(a("./common/temp/node_modules/prop-types/index.js"));var o=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/ErrorMessage.less"));var i=function e(t){var a=t.children,n=t.hasErrors;return n?r.default.createElement("div",{className:o.default.errorMessage},a):null};i.propTypes={hasErrors:s.default.bool};i.defaultProps={hasErrors:false};var c=i;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/Verification/components/ErrorMessage.less":function(e,t,a){e.exports={errorMessage:"_2bszG8SwB"}},"./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaForm.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/react/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var c=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var l=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var u=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaSettings.jsx"));var p=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaStyleSettings.jsx"));var d=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaForm.less"));var m={turnOnRecaptcha:i.default.createElement(l.T,{project:"src.shared"},"Turn on reCAPTCHA")};var s=function e(t){var a=t.captchaConfigSecret,n=t.captchaConfigSiteKey,r=t.captchaEnabled,s=t.onToggleCaptchaEnabled;var o=""!==a.trim()&&""!==n.trim();return i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,t),i.default.createElement(c.Check,{wrapperClassName:d.default.checkBox,value:r,onChange:s,title:m.turnOnRecaptcha,isDisabled:!o},i.default.createElement(l.T,{project:"apps.App"},"This turns on reCAPTCHA for all storage options, and adds a reCAPTCHA widget to your pop-up.")),r&&o&&i.default.createElement(p.default,t))};s.propTypes={captchaConfigSecret:r.default.string,captchaConfigSiteKey:r.default.string,captchaEnabled:r.default.bool,onToggleCaptchaEnabled:r.default.func};s.defaultProps={captchaConfigSecret:"",captchaConfigSiteKey:"",captchaEnabled:false,onToggleCaptchaEnabled:function e(){}};var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaForm.less":function(e,t,a){e.exports={checkBox:"xNxgPtnhp",select:"_2uRvCCvJW"}},"./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaSettings.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/react/index.js"));var i=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var r=n(a("./common/temp/node_modules/prop-types/index.js"));var c=n(a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var u=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var p=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/CaptchaInputField.jsx"));var d={captchaConfigSiteKey:o.default.createElement(u.T,{project:"src.shared"},"Site Key"),captchaConfigSecret:o.default.createElement(u.T,{project:"src.shared"},"Secret Key"),reCaptcha:o.default.createElement(u.T,{project:"src.shared"},"Recaptcha"),turnOnRecaptcha:o.default.createElement(u.T,{project:"src.shared"},"Turn on reCAPTCHA")};var m="https://www.google.com/recaptcha";var f=function e(){return o.default.createElement(i.Description,{title:d.reCaptcha},o.default.createElement(u.T,{googleReCaptchaWebsite:o.default.createElement("a",{href:c.default.GOOGLE_RECAPTCHA_API_KEYS,target:"_blank"},o.default.createElement(u.T,{project:"apps.App"},"Google reCAPTCHA API Keys")),externalAPIKeysLink:o.default.createElement("a",{href:"/config/settings/advanced/external-api-keys"},o.default.createElement(u.T,{project:"apps.App"},"External API Keys")),project:"apps.App"},"You can edit your {googleReCaptchaWebsite} in Settings > Advanced > {externalAPIKeysLink}."))};var h=function e(t){var a=t.captchaConfigSecret,n=t.captchaConfigSiteKey,r=t.onChangeSecretKey;var s=""===a.trim()&&""!==n.trim();return o.default.createElement(p.default,{title:d.captchaConfigSecret,value:a,hasErrors:s,onChange:r,errorMsg:(0,l.t)("Secret Key is required")})};var v=function e(t){var a=t.captchaConfigSecret,n=t.captchaConfigSiteKey,r=t.onChangeSiteKey;var s=""===n.trim()&&""!==a.trim();return o.default.createElement(p.default,{title:d.captchaConfigSiteKey,value:n,hasErrors:s,onChange:r,errorMsg:(0,l.t)("Site Key is required")})};var g=function e(t){var a=t.captchaConfigSecret,n=t.captchaConfigSiteKey,r=t.onChangeSecretKey,s=t.onChangeSiteKey;return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Description,{title:d.reCaptcha},o.default.createElement(u.T,{learnMore:o.default.createElement("a",{href:c.default.GOOGLE_RECAPTCHA_API_KEYS,target:"_blank"},o.default.createElement(u.T,{project:"apps.App"},"Learn more")),googleReCaptchaWebsite:o.default.createElement("a",{href:m,target:"_blank",rel:"noopener"},o.default.createElement(u.T,{project:"apps.App"},"Google reCAPTCHA API Keys")),project:"apps.App"},"Add your {googleReCaptchaWebsite} so you can turn on reCAPTCHA for newsletter blocks, pop-ups, and forms. {learnMore}")),v({captchaConfigSecret:a,captchaConfigSiteKey:n,onChangeSiteKey:s}),h({captchaConfigSecret:a,captchaConfigSiteKey:n,onChangeSecretKey:r}))};g.propTypes={captchaConfigSecret:r.default.string,captchaConfigSiteKey:r.default.string,onChangeSecretKey:r.default.func,onChangeSiteKey:r.default.func};g.defaultProps={captchaConfigSecret:"",captchaConfigSiteKey:"",onChangeSecretKey:function e(){},onChangeSiteKey:function e(){}};var s=function e(t){var a=t.captchaConfigSecret,n=t.captchaConfigSiteKey,r=t.captchaKeysChanged;var s=""!==a.trim()&&""!==n.trim()&&!r;return s?o.default.createElement(f,null):o.default.createElement(g,t)};s.propTypes={captchaConfigSecret:r.default.string,captchaConfigSiteKey:r.default.string,captchaKeysChanged:r.default.bool};s.defaultProps={captchaConfigSecret:"",captchaConfigSiteKey:"",captchaKeysChanged:false};var C=s;t.default=C;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaStyleSettings.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=n(a("./common/temp/node_modules/react/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var u=n(a("./src/main/webapp/frontend/packages/enums/GoogleReCaptchaAlignmentType.js"));var p=n(a("./src/main/webapp/frontend/packages/enums/GoogleReCaptchaThemeType.js"));var d=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var f=n(a("./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaStyleSettings.less"));var s=function e(t){var a=t.captchaEnabled,n=t.captchaTheme,r=t.captchaAlignment,s=t.onSelectCaptchaTheme,o=t.onSelectCaptchaAlignment;var i=n||p.default.LIGHT;var c=r||u.default.LEFT;return a?l.default.createElement(l.default.Fragment,null,l.default.createElement(d.Select,{wrapperClassName:f.default.select,label:(0,m.t)("Widget Theme"),value:i,onChange:s},l.default.createElement("option",{value:p.default.LIGHT},(0,m.t)("Light")),l.default.createElement("option",{value:p.default.DARK},(0,m.t)("Dark"))),l.default.createElement(d.Select,{wrapperClassName:f.default.select,label:(0,m.t)("Alignment"),value:c,onChange:o},l.default.createElement("option",{value:u.default.LEFT},(0,m.t)("Left")),l.default.createElement("option",{value:u.default.CENTER},(0,m.t)("Center")),l.default.createElement("option",{value:u.default.RIGHT},(0,m.t)("Right")))):null};s.propTypes={captchaEnabled:r.default.bool,captchaTheme:r.default.number,captchaAlignment:r.default.number,onSelectCaptchaAlignment:r.default.func,onSelectCaptchaTheme:r.default.func};s.defaultProps={captchaAlignment:u.default.LEFT,captchaEnabled:false,captchaTheme:p.default.LIGHT,onSelectCaptchaAlignment:function e(){},onSelectCaptchaTheme:function e(){}};var o=s;t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/Verification/components/RecaptchaStyleSettings.less":function(e,t,a){e.exports={select:"_2SSJgdyCg"}},"./src/main/webapp/universal/src/shared/components/Verification/index.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var o=n(a("./common/temp/node_modules/react/index.js"));var i=n(a("./src/main/webapp/universal/src/shared/actions/CampaignsVerificationActions.js"));var c=n(a("./src/main/webapp/universal/src/shared/stores/CampaignsVerificationStore.js"));var l=n(a("./src/main/webapp/universal/src/shared/stores/MailChimpConfigStore.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var p=n(a("./src/main/webapp/universal/src/shared/components/Verification/CampaignsVerification.jsx"));var d=n(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var m=a("./src/main/webapp/universal/src/shared/components/Verification/CampaignsVerificationProps.js");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),true).forEach(function(e){(0,s.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var v=function e(t){var a=t.mailChimpConfig;var n=a.isMailChimpConnected,r=a.mailChimpUseSingleOptIn;return{isMailChimpConnected:n,mailChimpUseSingleOptIn:r}};var g=(0,d.default)({getStores:function e(){return[c.default,l.default]},componentDidConnect:function e(t){var a=u.default.getState().toJS(),n=a.captchaSettings;var r={captchaConfigSecret:n.secretKey,captchaConfigSiteKey:n.siteKey};i.default.loadInitialCaptchaData(r);i.default.loadInitialData(t.formId||"",t.initialData)},getPropsFromStores:function e(t){return h({},c.default.getVerificationData(t.formId),{},c.default.getCaptchaConfig(),{},v(l.default.getState()))}},function(e){return o.default.createElement(p.default,(0,r.default)({},e,(0,m.getHandlers)(e.formId)))});t.default=g;e.exports=t.default},"./src/main/webapp/universal/src/shared/stores/CampaignsVerificationStore.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var c=a("./common/temp/node_modules/immutable/dist/immutable.js");var l=n(a("./common/temp/node_modules/lodash/isEqual.js"));var u=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var p=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var d=n(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var m=n(a("./src/main/webapp/frontend/packages/enums/GoogleReCaptchaAlignmentType.js"));var f=n(a("./src/main/webapp/frontend/packages/enums/GoogleReCaptchaThemeType.js"));var h=n(a("./src/main/webapp/universal/src/shared/actions/CampaignsVerificationActions.js"));function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),true).forEach(function(e){(0,i.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var C={useSingleOptIn:false,captchaEnabled:false,captchaTheme:f.default.LIGHT,captchaAlignment:m.default.CENTER};var b=function e(){return{initialCaptchaConfig:{captchaConfigSiteKey:"",captchaConfigSecret:""},captchaConfigSiteKey:"",captchaConfigSecret:"",captchaKeysChanged:false,forms:(0,c.Map)({})}};var y=function e(t){return t||"unsaved_form"};var S=function(){function e(){var c=this;(0,r.default)(this,e);(0,i.default)(this,"_onChangeProperty",function(e,t,a){if(!C.hasOwnProperty(t))throw new Error("Invalid prop");e=y(e);var n=c.state.forms.get(e);if(!n)return;var r=n.initialConfig,s=n.verificationConfig;var o={};o[t]=a;var i=g({},s,{},o);c.setState({forms:c.state.forms.set(e,g({},n,{verificationConfig:i,isDirty:!(0,l.default)(i,r)}))})});(0,i.default)(this,"_hasCaptchaKeysChanged",function(){var e=c.state,t=e.initialCaptchaConfig,a=e.captchaConfigSiteKey,n=e.captchaConfigSecret;var r=t.captchaConfigSiteKey,s=t.captchaConfigSecret;return r!==a||s!==n});this.state=b();this.bindActions(h.default);this.exportPublicMethods({isFormDataAvailable:this.isFormDataAvailable,getVerificationData:this.getVerificationData,getCaptchaConfig:this.getCaptchaConfig,isSingleOptInEnabled:this.isSingleOptInEnabled})}(0,s.default)(e,[{key:"onLoadInitialCaptchaData",value:function e(t){var a=t.captchaConfigSiteKey,n=t.captchaConfigSecret;this.setState({initialCaptchaConfig:{captchaConfigSiteKey:a,captchaConfigSecret:n},captchaConfigSiteKey:a,captchaConfigSecret:n,captchaKeysChanged:false})}},{key:"onLoadInitialData",value:function e(t){var a=(0,o.default)(t,2),n=a[0],r=a[1];n=y(n);if(n&&!this.isFormDataAvailable(n)){var s={initialConfig:r,verificationConfig:r,isDirty:false};this.setState({forms:this.state.forms.set(n,s)})}}},{key:"onToggleSingleOptIn",value:function e(t){t=y(t);var a=this.state.forms.get(t);a&&this._onChangeProperty(t,"useSingleOptIn",!a.verificationConfig.useSingleOptIn)}},{key:"onChangeSiteKey",value:function e(t){this.setState({captchaConfigSiteKey:t});this.setState({captchaKeysChanged:this._hasCaptchaKeysChanged()})}},{key:"onChangeSecretKey",value:function e(t){this.setState({captchaConfigSecret:t});this.setState({captchaKeysChanged:this._hasCaptchaKeysChanged()})}},{key:"onToggleCaptchaEnabled",value:function e(t){t=y(t);var a=this.state.forms.get(t);if(!a)return;var n=a.initialConfig,r=a.verificationConfig;var s=r.captchaEnabled,o=r.useSingleOptIn;var i={captchaEnabled:!s};s&&o&&(i.useSingleOptIn=false);var c=g({},r,{},i);this.setState({forms:this.state.forms.set(t,g({},a,{verificationConfig:c,isDirty:!(0,l.default)(c,n)}))})}},{key:"onSelectCaptchaTheme",value:function e(t){var a=(0,o.default)(t,2),n=a[0],r=a[1];this._onChangeProperty(n,"captchaTheme",r)}},{key:"onSelectCaptchaAlignment",value:function e(t){var a=(0,o.default)(t,2),n=a[0],r=a[1];this._onChangeProperty(n,"captchaAlignment",r)}},{key:"onSaveSuccess",value:function e(t){t=y(t);var a=this.state.forms.get(t);a&&this.setState({initialCaptchaConfig:{captchaConfigSiteKey:this.state.captchaConfigSiteKey,captchaConfigSecret:this.state.captchaConfigSecret},captchaKeysChanged:false,forms:this.state.forms.set(t,g({},a,{isDirty:false,initialConfig:a.verificationConfig}))})}},{key:"onReset",value:function e(t){t=y(t);var a=this.state.forms.get(t);a&&this.setState({captchaConfigSecret:this.state.initialCaptchaConfig.captchaConfigSecret,captchaConfigSiteKey:this.state.initialCaptchaConfig.captchaConfigSiteKey,captchaKeysChanged:false,forms:this.state.forms.update(t,function(e){return g({},e,{verificationConfig:g({},e.initialConfig),isDirty:false})})})}},{key:"getVerificationData",value:function e(t){t=y(t);var a=this.state.forms.get(t);a=a||{initialConfig:g({},C),verificationConfig:g({},C),isDirty:false};var n=a,r=n.isDirty,s=n.verificationConfig;var o=s.captchaEnabled,i=s.captchaAlignment,c=s.captchaTheme,l=s.useSingleOptIn,u=s.isCampaignsConnected;return{captchaEnabled:o,captchaAlignment:i,captchaTheme:c,useSingleOptIn:l,isCampaignsConnected:u,isDirty:r}}},{key:"isFormDataAvailable",value:function e(t){return!!this.state.forms.get(t)}},{key:"getCaptchaConfig",value:function e(){var t=this.state,a=t.captchaConfigSiteKey,n=t.captchaConfigSecret,r=t.captchaKeysChanged;return{captchaConfigSecret:n,captchaConfigSiteKey:a,captchaKeysChanged:r}}},{key:"isSingleOptInEnabled",value:function e(){return p.legacyV6Flags.isFeatureEnabled(d.default.CAMPAIGNS_SINGLE_OPT_IN)}}]);return e}();(0,i.default)(S,"config",{onSerialize:function e(t){return g({},t,{forms:t.forms.toJS()})},onDeserialize:function e(t){return g({},t,{forms:(0,c.fromJS)(t.forms)})}});var j=u.default.createStore(S,"CampaignsVerificationStore");t.default=j;e.exports=t.default},"./src/main/webapp/universal/src/shared/stores/GoogleDriveConfigStore.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),true).forEach(function(e){(0,r.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var l=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var u=a("./src/main/webapp/universal/src/shared/actions/GoogleDriveConfigActions.js");var p=a("./src/main/webapp/frontend/packages/enums/FormBackendConnectionState.js");var d={wasRemoved:false,isConnecting:false,isDirty:false,showConnectionFailedError:false,showConnectionFailedAlert:false,showFormNameRequiredError:false};var m={googleDriveConfig:{},username:"",isConnected:false,googleDriveSpreadsheetName:""};var f=function(){function e(){(0,s.default)(this,e);this.state=c({},d,{},m,{initialState:m});this.bindActions(u)}(0,o.default)(e,[{key:"onLoadFromSavedData",value:function e(t){var a=t||{};var n=a.connectionState,r=a.username,s=a.socialConfig,o=a.spreadsheetName;var i=c({},m,{isConnected:n===p.CONNECTED,username:r,googleDriveConfig:s,googleDriveSpreadsheetName:o});this.setState(c({},i,{initialState:i}))}},{key:"onConnect",value:function e(){this.setState({wasRemoved:false,isConnecting:true})}},{key:"onConnectSuccess",value:function e(t){var a=t.socialConfig;this.setState({isConnecting:false,isConnected:true,isDirty:true,showConnectionFailedError:false,username:a.profileUserName,googleDriveSpreadsheetName:"",googleDriveConfig:a})}},{key:"onConnectFailure",value:function e(){this.setState({showConnectionFailedAlert:true,showConnectionFailedError:true,isConnecting:false})}},{key:"onChangeSpreadsheetName",value:function e(t){"string"===typeof t&&this.setState({isDirty:true,googleDriveSpreadsheetName:t,showFormNameRequiredError:0===t.length})}},{key:"onShowFormNameError",value:function e(){"string"===typeof this.state.googleDriveSpreadsheetName&&this.setState({isDirty:true,showFormNameRequiredError:0===this.state.googleDriveSpreadsheetName.length})}},{key:"onDisconnect",value:function e(){this.setState({wasRemoved:true,isDirty:true,googleDriveConfig:{},isConnected:false,username:"",googleDriveSpreadsheetName:"",showFormNameRequiredError:false})}},{key:"onCloseDidFailAlert",value:function e(){this.setState({showConnectionFailedAlert:false})}},{key:"onReset",value:function e(){this.setState(c({},d,{},this.state.initialState))}},{key:"onSaveSuccess",value:function e(){var t=this.state,a=t.googleDriveConfig,n=t.username,r=t.isConnected,s=t.googleDriveSpreadsheetName;this.setState(c({},d,{initialState:{username:n,googleDriveConfig:a,isConnected:r,googleDriveSpreadsheetName:s}}))}}]);return e}();e.exports=l.createStore(f,"GoogleDriveConfigStore")}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/35-ec7e2a9d0c2a1609d0f6a-min.en-US.js.map