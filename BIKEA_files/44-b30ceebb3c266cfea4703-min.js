(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[44],{"./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=r("./src/main/webapp/universal/src/apps/App/shared/utils/ContributorsAPI.js");var l=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var u=r("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js");var c=r("./src/main/webapp/universal/src/apps/App/shared/stores/ContentItemStore.js");var p=r("./src/main/webapp/universal/src/apps/App/shared/stores/PermissionsStore.js");var m=function(){function e(){(0,a.default)(this,e);this.generateActions("setActiveProfileModal","fetchAvatar","updateValues","updateAvatar","resetChanges","openDeleteBasicAuthorConfirmation","clearErrorMessage","updateErrors","cancel","closeReviewChanges","closeRemoveAuthor")}(0,n.default)(e,[{key:"reset",value:function e(){var t=this;var r=u.getState().toObject();r.avatarId&&c.fetchFromServer(r.avatarId,true).then(function(e){t.fetchAvatar({authorId:r.id,value:{id:e.get("id"),url:e.get("assetUrl")}})});return[r].concat(p.fetchMembers())}},{key:"saveAuthor",value:function e(t,r){if("none"===t)l.createAuthor(r);else{r.id=t;l.updateAuthor(r)}}},{key:"deleteBasicAuthor",value:function e(t,r){i.replaceBasicAuthor(t,r).then(function(){return l.deleteAuthor(t)})}}]);return e}();e.exports=o.createActions(m)},"./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(a){var n=p();return function e(){var t=(0,l.default)(a),r;if(n){var s=(0,l.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,i.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var m=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var f=r("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.less");var h=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),v=h.T;var b=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var y="http://circle.squarespace.com/dashboard?channel=web_circle&subchannel=activation&source=cms&campaign=panel_logo&utm_medium=web_circle&utm_source=activation&utm_campaign=cms&utm_content=panel_logo";var j=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,a.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){return d.createElement("a",{className:b(f.container,this.props.className),href:y,target:"_blank"},d.createElement(v,{project:"apps.App"},"Squarespace Circle"))}}]);return r}(d.Component);(0,u.default)(j,"propTypes",{className:m.string});e.exports=j},"./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.less":function(e,t,r){e.exports={container:"_2L5x9Eqxb _1kp7zKSzE"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),true).forEach(function(e){(0,m.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(a){var n=f();return function e(){var t=(0,c.default)(a),r;if(n){var s=(0,c.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}r("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var h=r("./common/temp/node_modules/prop-types/index.js");var v=r("./common/temp/node_modules/react/index.js");var b=r("./common/temp/node_modules/@sqs/transitions/lib/index.js"),y=b.CSSTransitionGroup,j=b.CSSTransitionGroupPresets;var A=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),g=A.Select;var w=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),O=w.t;var C=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),S=C.T;var P=r("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),_=P.Alert,E=P.Confirmation,I=P.Modal;var R=r("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx");var x=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.jsx");var k=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.jsx");var M=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/ProfileModalHeader.jsx");var T=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var N=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.less");var D=["account","bio"];var B={tab:"account",isBack:false,isChangePasswordOpen:false,isTransferAuthorOpen:false,newAuthor:""};var U=function(e){(0,l.default)(a,e);var s=p(a);function a(){var p;(0,n.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];p=s.call.apply(s,[this].concat(t));(0,m.default)((0,i.default)(p),"state",B);(0,m.default)((0,i.default)(p),"reset",function(){T.reset();p.setState(B)});(0,m.default)((0,i.default)(p),"changeTab",function(e){p.setState({isBack:D.indexOf(e)<D.indexOf(p.state.tab),tab:e})});(0,m.default)((0,i.default)(p),"closeTransferAuthorHandler",function(){p.setState({isTransferAuthorOpen:false})});(0,m.default)((0,i.default)(p),"openTransferAuthorHandler",function(){p.setState({isTransferAuthorOpen:true})});(0,m.default)((0,i.default)(p),"closeReviewChangesHandler",function(){T.closeReviewChanges()});(0,m.default)((0,i.default)(p),"closeRemoveAuthorHandler",function(){T.closeRemoveAuthor()});(0,m.default)((0,i.default)(p),"onCancel",function(){p.props.isDirty?T.cancel():T.setActiveProfileModal()});(0,m.default)((0,i.default)(p),"linkState",function(a,n,o){return{onChange:function e(t){var r=t.target?t.target.value:t;var s=d({},p.props.errors,(0,m.default)({},a,""));n&&r&&!n(r)&&(s[a]=o);T.updateErrors({errors:s});p.updateAuthorAttribute(a,r)},value:p.props[a],errorMessage:p.props.errors[a]}});(0,m.default)((0,i.default)(p),"updateSubscription",function(e,t,r){var s=p.props[e];s[t].subscribed=r;p.updateAuthorAttribute(e,s)});(0,m.default)((0,i.default)(p),"updateAuthorAttribute",function(e,t){T.updateValues({key:e,value:t,id:p.props.authorId})});(0,m.default)((0,i.default)(p),"discardHandler",function(){T.setActiveProfileModal();p.reset()});(0,m.default)((0,i.default)(p),"openDeleteConfirmationHandler",function(){T.openDeleteBasicAuthorConfirmation()});(0,m.default)((0,i.default)(p),"deleteHandler",function(){T.setActiveProfileModal();T.deleteBasicAuthor(p.props.authorId,p.state.newAuthor)});(0,m.default)((0,i.default)(p),"saveHandler",function(){var e=p.props,t=e.authorId,r=e.avatarId,s=e.avatarAssetUrl,a=e.bio,n=e.displayName,o=e.firstName,i=e.lastName,l=e.websiteUrl;var u={avatarAssetUrl:s,avatarId:r,bio:a,displayName:n,firstName:o,lastName:i,pseudonymAccount:true,websiteUrl:l};var c=p.props.errors;c.displayName=""===n?O("Missing display name"):null;Object.keys(c).forEach(function(e){c[e]&&""!==c[e]&&(c.saveError=c[e])});if(c.saveError){T.updateErrors({errors:c});return}T.saveAuthor(t,u)});(0,m.default)((0,i.default)(p),"renderTransferAuthorConfirmation",function(){var e=p.props,t=e.authorId,r=e.authors,s=e.displayName;var a=p.state,n=a.newAuthor,o=a.isTransferAuthorOpen;return v.createElement(E,{testAttr:"transfer-author",isOpen:o,onConfirm:p.openDeleteConfirmationHandler,onCancel:p.closeTransferAuthorHandler,confirmText:O("Transfer And Remove"),title:O("Remove Author")},v.createElement(S,{strongDisplayName:v.createElement("strong",null,s),project:"apps.App"},"{strongDisplayName} may be listed as the author of content on your site. To remove this author, please select an author to re-assign ownership to."),v.createElement(g,{type:"primary",onChange:function e(t){p.setState({newAuthor:t})},value:n},r.map(function(e){if(e.id!==t)return v.createElement("option",{key:e.id,value:e.id},e.displayName);return null}).filter(function(e){return!!e}).concat(v.createElement("option",{key:"default-option",value:""},O("Select a new author…")))))});(0,m.default)((0,i.default)(p),"renderRemoveButton",function(){var e=p.props,t=e.authorId,r=e.isRemoveAuthorOpen;if("none"!==t)return v.createElement(I.Button,{"data-test":"remove-author",onClick:p.openTransferAuthorHandler},v.createElement(S,{project:"apps.App"},"Remove Author"),v.createElement(E,{testAttr:"confirm-transfer",isOpen:r,onConfirm:p.deleteHandler,onCancel:p.closeRemoveAuthorHandler,label:O("Remove Author"),overlayClassName:N.doubleConfirmation},v.createElement(S,{project:"apps.App"},"Are you sure you wish to remove this author and re-assign all authored entries to someone else? This cannot be undone.")))});(0,m.default)((0,i.default)(p),"renderFooter",function(){var e=p.props,t=e.errors,r=e.isReviewChangesOpen;return v.createElement(I.Footer,null,v.createElement(I.Button,{"data-test":"cancel-profile-modal",onClick:p.onCancel},v.createElement(S,{project:"apps.App"},"Cancel")),p.renderRemoveButton(),v.createElement(R,{isOpen:r,onCancel:p.closeReviewChangesHandler,onDiscard:p.discardHandler,onSave:p.saveHandler}),v.createElement(I.Button,{"data-test":"save-profile-modal",onClick:p.saveHandler,className:N.saveButton},v.createElement(S,{project:"apps.App"},"Save"),v.createElement(_,{isOpen:!!t.saveError,onDismiss:function e(){T.clearErrorMessage("saveError")},title:O("Error")},t.saveError)),p.renderTransferAuthorConfirmation())});return p}(0,o.default)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var r=!t.isOpen&&this.props.isOpen;var s=t.isOpen&&!this.props.isOpen;r&&this.props.onModalClose&&this.props.onModalClose();(t.authorId!==this.props.authorId||"none"===this.props.authorId&&s)&&this.setState(B);s&&T.reset.defer()}},{key:"shouldComponentUpdate",value:function e(t){return!t.currentlyOpenAuthorId||t.currentlyOpenAuthorId===t.authorId}},{key:"render",value:function e(){var t=this.props,r=t.authorId,s=t.avatarAssetUrl,a=t.avatarId,n=t.displayName,o=t.isOpen;var i=this.state,l=i.tab,u=i.isBack;var c=j.Slide,p=c.className,m=c.transitions;var d={account:v.createElement(x,{key:"account",avatarId:a,avatarAssetUrl:s,displayName:n,linkState:this.linkState,stylesheet:N,authorId:r}),bio:v.createElement(k,{key:"bio",linkState:this.linkState})};return v.createElement(I,{isOpen:o,width:"700px",height:"587px",onRequestClose:this.onCancel,testAttr:"profile-modal"},v.createElement(M,{activeTab:l,changeTab:this.changeTab,stylesheet:N}),v.createElement(y,{className:p,transitions:u?m.toRight:m.toLeft},v.createElement(I.Body,{key:l,className:N.body},d[l])),this.renderFooter())}}]);return a}(v.Component);(0,m.default)(U,"propTypes",{authorId:h.string,authors:h.array,bio:h.string,displayName:h.string,firstName:h.string,lastName:h.string,isOpen:h.bool.isRequired,avatarAssetUrl:h.string,avatarId:h.string,websiteUrl:h.string,errors:h.object,isRemoveAuthorOpen:h.bool,isReviewChangesOpen:h.bool,isDirty:h.bool,onModalClose:h.func});(0,m.default)(U,"defaultProps",{authorId:"none",authors:[],avatarAssetUrl:null,avatarId:null,bio:"",displayName:"",errors:{},isDirty:false,isRemoveAuthorOpen:false,isReviewChangesOpen:false});e.exports=U},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.less":function(e,t,r){e.exports={header:"HfRQHMZKZ",body:"_2w6KtiEFn",modalTabs:"_1-ZQ8ioPk",tab:"S1enw9wKV",active:"_1xpFW1OLq",doubleConfirmation:"_36DsfavdX",profileInputs:"_3z0aYr39i",uploader:"_2ZnoDrU4T",ownerDetails:"_1-6FPbhEM",actionButtons:"_2ImyIupMk",action:"_2cTzLuZd",saveButton:"_2er2ubtrV"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function f(a){var n=h();return function e(){var t=(0,m.default)(a),r;if(n){var s=(0,m.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,p.default)(this,r)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var a=r("./common/temp/node_modules/prop-types/index.js");var v=r("./common/temp/node_modules/react/index.js");var n=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),b=n.t;var y=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),j=y.Input;var A=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.jsx");var g=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var w=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.less");var O=function(e){(0,c.default)(n,e);var a=f(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];e=a.call.apply(a,[this].concat(r));(0,d.default)((0,u.default)(e),"state",{email:e.props.email,isSuccesfulChangeOpen:false,errors:{}});(0,d.default)((0,u.default)(e),"openSuccessfulChange",function(){e.setState({isSuccesfulChangeOpen:true,isEditEmailOpen:false})});(0,d.default)((0,u.default)(e),"closeSuccessfulChange",function(){e.setState({isSuccesfulChangeOpen:false})});return e}(0,i.default)(n,[{key:"render",value:function e(){var t=this.props,r=t.authorId,s=t.displayName,a=t.avatarId,n=t.avatarAssetUrl,o=t.linkState,i=t.stylesheet;return v.createElement("div",{className:w.accountTab,"data-test":"account-tab"},v.createElement("div",{className:i.uploader},v.createElement(A,{authorId:r,avatarId:a,avatarAssetUrl:n,onChange:g.updateAvatar})),v.createElement("div",{className:i.profileInputs},v.createElement(j,(0,l.default)({placeholder:b("Your Name"),value:s},o("displayName")))))}}]);return n}(v.Component);(0,d.default)(O,"propTypes",{avatar:a.object,authorId:a.string,displayName:a.string,linkState:a.func.isRequired,stylesheet:a.object.isRequired});e.exports=O},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.less":function(e,t,r){e.exports={accountTab:"DwEkfH9Nb"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(a){var n=d();return function e(){var t=(0,c.default)(a),r;if(n){var s=(0,c.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}r("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var a=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),f=a.t;var h=r("./common/temp/node_modules/prop-types/index.js");var v=r("./common/temp/node_modules/react/index.js");var b=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var y=r("./src/main/webapp/universal/src/shared/components/fields/File.jsx");var j=r("./src/main/webapp/universal/src/shared/components/JobProcessingState/index.js");var A=r("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),g=A.Image;var w=r("./src/main/webapp/universal/src/shared/utils/UploadAPI.js"),O=w.URLS;var C=r("./src/main/webapp/frontend/packages/enums/RecordType.js");var S=r("./src/main/webapp/universal/src/shared/constants/UploadModes.js");var P=r("./src/main/webapp/universal/src/shared/constants/UploadMaxSize.js"),_=P.MAX_SIZE;var E=r("./src/main/webapp/universal/src/shared/constants/UploadMimeTypes.js"),I=E.IMAGE_MIME_TYPES;var R=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.less");var x=function(e){(0,l.default)(a,e);var s=m(a);function a(){var o;(0,n.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=s.call.apply(s,[this].concat(t));(0,p.default)((0,i.default)(o),"state",{processingJobId:null});(0,p.default)((0,i.default)(o),"handleFileFieldChange",function(e){var t=o.props.avatarId;!e&&t?o.onImageChange({}):e&&o.handleUploadComplete(e)});(0,p.default)((0,i.default)(o),"handleUploadComplete",function(e){var t=e.data;var r=t.processingJobId,s=t.imageId,a=t.url;o.setState({processingJobId:r});o.onImageChange({avatarId:s,avatarAssetUrl:a})});(0,p.default)((0,i.default)(o),"onImageChange",function(e){var t=e.avatarId,r=e.avatarAssetUrl;var s=o.props,a=s.onChange,n=s.authorId;a({authorId:n,avatarId:t,avatarAssetUrl:r})});(0,p.default)((0,i.default)(o),"valueOfFile",function(e){var t=e.avatarId,r=e.avatarAssetUrl;if(t)return{id:t,url:r};return null});(0,p.default)((0,i.default)(o),"renderJobProcessingState",function(){return v.createElement(j,{jobId:o.state.processingJobId,onJobComplete:function e(){return o.setState({processingJobId:null})},onJobIncomplete:function e(){return o.onImageChange({})}})});(0,p.default)((0,i.default)(o),"renderImage",function(){return v.createElement(g,{src:o.props.avatarAssetUrl,formattedWidths:null})});return o}(0,o.default)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){!t.avatarId&&this.props.avatarId&&this.setState({processingJobId:null})}},{key:"render",value:function e(){var t=this.state.processingJobId;var r=this.props,s=r.avatarId,a=r.avatarAssetUrl;var n=t?this.renderJobProcessingState:this.renderImage;var o=b(R.fileField,(0,p.default)({},R.hasValue,s&&!t));return v.createElement(y,{label:f("Add an Image"),innerContainerClassName:o,fileThumbnailRenderer:n,validMimeTypes:I,maxSize:_,uploadUrl:O.AVATAR,recordType:C.IMAGE,uploadMode:S.GLOBAL,onChange:this.handleFileFieldChange,value:this.valueOfFile({avatarId:s,avatarAssetUrl:a})})}}]);return a}(v.Component);(0,p.default)(x,"propTypes",{avatarId:h.string,avatarAssetUrl:h.string,authorId:h.string,onChange:h.func.isRequired});e.exports=x},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.less":function(e,t,r){e.exports={fileField:"_3WSzzh0Ml",hasValue:"_2tNGdl5Dd"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(a){var n=m();return function e(){var t=(0,u.default)(a),r;if(n){var s=(0,u.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,l.default)(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var d=r("./common/temp/node_modules/prop-types/index.js");var f=r("./common/temp/node_modules/react/index.js");var h=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),v=h.t;var b=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),y=b.T;var j=r("./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js");var A=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),g=A.Input;var w=r("./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js");var O=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.less");var C='Invalid URL Format. Should look like "http://www.example.com".';var S=function(e){(0,i.default)(r,e);var t=p(r);function r(){(0,n.default)(this,r);return t.apply(this,arguments)}(0,o.default)(r,[{key:"render",value:function e(){var t=this.props.linkState;return f.createElement("div",{"data-test":"bio-tab",className:O.container},f.createElement("div",{className:O.flexDiv},f.createElement(g,(0,a.default)({},t("firstName"),{wrapperClassName:O.halfInput,label:v("First Name")})),f.createElement(g,(0,a.default)({},t("lastName"),{wrapperClassName:O.halfInput,label:v("Last Name")}))),f.createElement(g,(0,a.default)({},t("websiteUrl",w,C),{label:v("Website")})),f.createElement("div",{className:O.bioLabel},f.createElement(y,{project:"apps.App"},"Bio")),f.createElement(j,t("bio")))}}]);return r}(f.Component);(0,c.default)(S,"propTypes",{linkState:d.func.isRequired});e.exports=S},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.less":function(e,t,r){e.exports={container:"_23B9yqzHX",bioLabel:"_9u33Adul9",flexDiv:"_158UmOHsC",halfInput:"_1CZRkm8uk"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/ProfileModalHeader.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(a){var n=p();return function e(){var t=(0,l.default)(a),r;if(n){var s=(0,l.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,i.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}r("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var m=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var f=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var h=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),v=h.t;var b=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),y=b.T;var j=r("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),A=j.Modal;var g=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,a.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){var t=this.props,r=t.activeTab,s=t.changeTab,a=t.stylesheet;var n=v("Add Basic Author");return d.createElement(A.Header,{hasRule:true,className:a.header},n,d.createElement("span",{className:a.modalTabs},d.createElement("span",{"data-test":"account-tab-nav",onClick:s.bind(null,"account"),className:f(a.tab,(0,u.default)({},a.active,"account"===r))},d.createElement(y,{project:"apps.App"},"Account")),d.createElement("span",{"data-test":"bio-tab-nav",onClick:s.bind(null,"bio"),className:f(a.tab,(0,u.default)({},a.active,"bio"===r))},d.createElement(y,{project:"apps.App"},"Bio"))))}}]);return r}(d.Component);(0,u.default)(g,"propTypes",{stylesheet:m.object,changeTab:m.func,activeTab:m.string});e.exports=g},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/index.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),true).forEach(function(e){(0,a.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var o=r("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var l=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.jsx");var u=r("./src/main/webapp/universal/src/apps/App/shared/stores/ProfileModalStore.js");var c=o({getStores:function e(){return[u]},getPropsFromStores:function e(t){var r=t.authorId,s=void 0===r?"none":r;var a=u.getState();var n=a.getIn(["authorIdMap",s]);var o=i({authorId:s},a.toJS(),{isOpen:s===a.get("currentlyOpenAuthorId")});n&&Object.assign(o,n.toJS());return o}},l);e.exports=c},"./src/main/webapp/universal/src/apps/App/shared/stores/PermissionsStore.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),true).forEach(function(e){(0,a.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var u=r("./common/temp/node_modules/immutable/dist/immutable.js"),c=u.fromJS;var p=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var m=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var d=r("./common/temp/node_modules/alt-utils/lib/ImmutableUtil.js");var f=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),h=f.t;var v=function(){function e(){(0,n.default)(this,e);this.state=c({basicAuthors:[],contributorsWithPermissions:[],contributorsWithoutPermissions:[],error:null,invitations:[],isLoading:true,websiteOwner:{}});this.bindActions(m);this.exportPublicMethods({fetchAllPermissions:this.fetchAllPermissions,fetchMembers:this.fetchMembers,fetchAllMembers:this.fetchAllMembers})}(0,o.default)(e,[{key:"onCreateInviteSuccess",value:function e(t){var r=this.state.get("invitations");this.setState(this.state.set("invitations",r.push(c(t))))}},{key:"onUpdateInviteSuccess",value:function e(t){var r=this.state.get("invitations");r=r.map(function(e){if(e.get("id")===t.id)return e.set("permissions",t.permissions);return e});this.setState(this.state.set("invitations",r))}},{key:"onDeleteInviteSuccess",value:function e(t){var r=this.state.get("invitations");r=r.filterNot(function(e){return e.get("id")===t});this.setState(this.state.set("invitations",r))}},{key:"convertArrayToObject",value:function e(t){var r={};t.forEach(function(e){r[e.id]=e});return r}},{key:"onUpdateContributorPermissionsSuccess",value:function e(t){var r=t.memberAccountId;var s=this.state.get("allContributors").toJS();var a=this.state.get("contributorsWithPermissions").toJS();var n=this.state.get("contributorsWithoutPermissions").toJS();s=this.convertArrayToObject(s);a=this.convertArrayToObject(a);n=this.convertArrayToObject(n);var o=a[r]||n[r];if(Object.keys(t.roles).length){a[r]=Object.assign({},o,{permissions:t.roles});delete n[r]}else{o.permissions=[];n[r]=Object.assign({},o);delete a[r]}s[r]=Object.assign({},o,{permissions:t.roles});this.setState(this.state.merge({allContributors:c(Object.values(s)),contributorsWithPermissions:c(Object.values(a)),contributorsWithoutPermissions:c(Object.values(n))}))}},{key:"onDeleteContributorSuccess",value:function e(r){var t=this.state.toObject(),s=t.contributorsWithPermissions,a=t.contributorsWithoutPermissions,n=t.allContributors;var o=function e(t){return t.get("permissionsId")===r};a=a.filterNot(o);s=s.filterNot(o);n=n.filterNot(o);this.setState(this.state.merge({contributorsWithoutPermissions:a,contributorsWithPermissions:s,allContributors:n}))}},{key:"onCreateAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");this.setState(this.state.set("basicAuthors",r.push(c(l({},t,{isBasicAuthor:true,avatarId:t.avatarId,avatarAssetUrl:t.avatarAssetUrl})))))}},{key:"onUpdateAuthorSuccess",value:function e(t){this.updateBasicAuthorSuccess(l({},t,{isBasicAuthor:true,avatarId:t.avatarId,avatarAssetUrl:t.avatarAssetUrl}))}},{key:"updateOwnerSuccess",value:function e(t){var r=this.updateAuthorState(t,this.state.get("websiteOwner"));this.setState(this.state.set("websiteOwner",r))}},{key:"makeAuthorUpdater",value:function e(t){var r=this;return function(e){return r.updateAuthorState(t,e)}}},{key:"updateBasicAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");var s=r.map(this.makeAuthorUpdater(t));this.setState(this.state.set("basicAuthors",s))}},{key:"updateContributorSuccess",value:function e(t){var r=this.state.toObject(),s=r.contributorsWithPermissions,a=r.contributorsWithoutPermissions;var n=this.makeAuthorUpdater(t);s=s.map(n);a=a.map(n);this.setState(this.state.merge({contributorsWithPermissions:s,contributorsWithoutPermissions:a}))}},{key:"onTransferOwnerSuccess",value:function e(t){var r;var s=this.state.get("websiteOwner");var a=this.state.get("contributorsWithPermissions");var n=this.state.get("allContributors");var o=a.map(function(e){if(e.get("id")===t){r=e;return s}return e});var i=n.map(function(e){if(e.get("id")===t){r=e;return s}return e});this.setState(this.state.merge({allContributors:i,contributorsWithPermissions:o,websiteOwner:r}))}},{key:"updateAuthorState",value:function e(t,r){if(r.get("id")===t.id)return r.merge(t);return r}},{key:"onDeleteAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");r=r.filterNot(function(e){return e.get("id")===t});this.setState(this.state.set("basicAuthors",r))}},{key:"onReset",value:function e(t){var r=t.invitations,s=t.members;this.setState(c({basicAuthors:null,allContributors:[],contributorsWithPermissions:null,contributorsWithoutPermissions:null,isLoading:true,error:null,invitations:null,websiteOwner:null}))}},{key:"onResetSuccess",value:function e(t){var r=t.basicAuthors,s=t.allContributors,a=t.contributorsWithPermissions,n=t.contributorsWithoutPermissions,o=t.invitations,i=t.websiteOwner;this.setState(this.state.merge({basicAuthors:r,allContributors:s,contributorsWithPermissions:a,contributorsWithoutPermissions:n,isLoading:false,invitations:o,websiteOwner:i}))}},{key:"onResetFailure",value:function e(){this.setState(this.state.merge({isLoading:false,error:h("There was an error loading the data for this panel.")}))}},{key:"fetchAllPermissions",value:function e(){var t=this;var r=[];["basicAuthors","contributorsWithPermissions","contributorsWithoutPermissions","invitations"].forEach(function(e){t.state.get(e)&&(r=r.concat(t.state.get(e).toJS()))});return r}},{key:"fetchMembers",value:function e(){var t=this.state.get("basicAuthors",[]).toArray();var r=this.state.get("contributorsWithPermissions",[]).toArray();var s=this.state.get("websiteOwner",[]);var a=t.concat(r).concat(s);return a.map(function(e){return e.toObject()})}},{key:"fetchAllMembers",value:function e(){var t=this;var r=[];["basicAuthors","contributorsWithPermissions","contributorsWithoutPermissions","invitations","websiteOwner"].forEach(function(e){t.state.get(e)&&(r=r.concat(t.state.get(e).toJS()))});return r}}]);return e}();e.exports=p.createStore(d(v),"PermissionsStore")},"./src/main/webapp/universal/src/apps/App/shared/stores/ProfileModalStore.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=r("./common/temp/node_modules/immutable/dist/immutable.js"),l=i.List,u=i.fromJS;var c=r("./common/temp/node_modules/alt-utils/lib/ImmutableUtil.js");var p=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var m=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var d={avatarAssetUrl:null,avatarId:null,bio:"",displayName:"",email:"",firstName:"",lastName:"",location:{},memberAccountId:"",siteSubscriptions:[],socialOptions:[],storeSubscriptions:[],websiteUrl:""};var f=function(){function e(){(0,a.default)(this,e);this.state=u({authors:[],authorIdMap:{none:Object.assign({},d)},currentlyOpenAuthorId:null,errors:{saveError:""},isRemoveAuthorOpen:false,isReviewChangesOpen:false,isDirty:false});this.bindActions(m);this.bindListeners({onResetPermissionsSuccess:p.resetSuccess,onSaveAuthorSuccess:[p.createAuthorSuccess,p.updateAuthorSuccess],onSaveAuthorFailure:[p.createAuthorFailure,p.updateAuthorFailure],onDeleteAuthorSuccess:p.deleteAuthorSuccess})}(0,n.default)(e,[{key:"onResetPermissionsSuccess",value:function e(t){var r=t.basicAuthors,s=t.websiteOwner,a=t.contributorsWithPermissions;var n=r.concat(a).concat([s]);this.setState(this.state.set("authors",l(n)));this.updateAuthorIdMap(n)}},{key:"onReset",value:function e(t){this.updateAuthorIdMap(t);this.setState(this.state.merge({isDirty:false,isReviewChangesOpen:false}))}},{key:"onFetchAvatar",value:function e(t){var r=t.authorId,s=t.value;this.setState(this.state.setIn(["authorIdMap",r,"avatarId"],s));this.setState(this.state.setIn(["authorIdMap",r,"avatarAssetUrl"],s))}},{key:"onUpdateValues",value:function e(t){var r=this.state.set("isDirty",true);r=r.setIn(["authorIdMap",t.id,t.key],t.value);this.setState(r)}},{key:"onUpdateAvatar",value:function e(t){var r=t.authorId,s=t.avatarId,a=t.avatarAssetUrl;var n=this.state.getIn(["authorIdMap",r,"avatarId"]);var o=this.state.get("isDirty");var i=this.state.set("isDirty",o||n!==s);i=i.setIn(["authorIdMap",r,"avatarId"],s);i=i.setIn(["authorIdMap",r,"avatarAssetUrl"],a);this.setState(i)}},{key:"onSetActiveProfileModal",value:function e(t){this.setState(this.state.set("currentlyOpenAuthorId",t))}},{key:"updateAuthorIdMap",value:function e(t){var r={none:Object.assign({},d)};t.forEach(function(e){r[e.id]=Object.assign({},d,e)});this.setState(this.state.set("authorIdMap",u(r)))}},{key:"onSaveAuthorSuccess",value:function e(t){this.setState(this.state.merge({errors:u({saveError:""}),currentlyOpenAuthorId:null,authorIdMap:this.state.get("authorIdMap").set(t.id,u(t)),authors:this.state.get("authors").push(u(t)),isDirty:false,isReviewChangesOpen:false}))}},{key:"onSaveAuthorFailure",value:function e(t){var r=this.state.get("errors");r=r.set("saveError",Object.values(t.errors)[0]);r=r.merge(t.errors);this.setState(this.state.set("errors",r))}},{key:"onOpenDeleteBasicAuthorConfirmation",value:function e(){this.setState(this.state.set("isRemoveAuthorOpen",true))}},{key:"onDeleteAuthorSuccess",value:function e(r){var t=this.state.get("authors").toJS().filter(function(e){var t=e.id;return t!==r});this.setState(this.state.merge({isDirty:false,isRemoveAuthorOpen:false,authors:u(t)}))}},{key:"onCancel",value:function e(){this.state.get("isDirty")?this.setState(this.state.set("isReviewChangesOpen",true)):this.setState(this.state.set("currentlyOpenAuthorId",null))}},{key:"onCloseReviewChanges",value:function e(){this.setState(this.state.set("isReviewChangesOpen",false))}},{key:"onCloseRemoveAuthor",value:function e(){this.setState(this.state.set("isRemoveAuthorOpen",false))}},{key:"onUpdateErrors",value:function e(t){var r=t.errors;this.setState(this.state.set("errors",u(r)))}},{key:"onClearErrorMessage",value:function e(t){this.setState(this.state.setIn(["errors",t],null))}}]);return e}();e.exports=o.createStore(c(f),"ProfileModalStore")},"./src/main/webapp/universal/src/shared/components/JobProcessingState/index.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var u=r("./src/main/webapp/universal/src/shared/actions/JobActions.js");var c=r("./src/main/webapp/universal/src/shared/stores/JobStore.js");var a=r("./src/main/webapp/universal/src/shared/components/JobProcessingState/JobProcessingState.jsx");var n=s({getStores:function e(){return[c]},getPropsFromStores:function e(t){var r=t.jobId;var s=c.getState()[r],a=s.status,n=s.messages,o=s.data,i=s.cancelable;var l=function e(){return u.cancel(r)};return{status:a,messages:n,data:o,cancelable:i,requestCancel:l}}},a);e.exports=n},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(a){var n=p();return function e(){var t=(0,l.default)(a),r;if(n){var s=(0,l.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,i.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}r("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var m=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var f=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),h=f.T;var v=r("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),b=v.Modal;var y=r("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less");var j=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,a.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){var t=this.props,r=t.isOpen,s=t.onCancel,a=t.onDiscard,n=t.onSave;return d.createElement(b,{anchor:"mousepointer",isOpen:r,className:y.modal},d.createElement(b.Header,null,d.createElement(h,{project:"src.shared"},"Review Changes")),d.createElement(b.Body,{className:y.body},d.createElement(h,{project:"src.shared"},"You have made changes. Do you want to save or discard them?")),d.createElement(b.Footer,null,d.createElement(b.Button,{onClick:s},d.createElement(h,{project:"src.shared"},"Cancel")),d.createElement(b.Button,{onClick:a},d.createElement(h,{project:"src.shared"},"Discard")),d.createElement(b.Button,{onClick:n},d.createElement(h,{project:"src.shared"},"Save"))))}}]);return r}(d.Component);(0,u.default)(j,"propTypes",{isOpen:m.bool,onCancel:m.func,onDiscard:m.func,onSave:m.func});e.exports=j},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less":function(e,t,r){e.exports={modal:"_23K7p034X",body:"_3DGwmbBol"}},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));r("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var y=s(r("./common/temp/node_modules/react/index.js"));var a=s(r("./common/temp/node_modules/prop-types/index.js"));var j=r("./common/temp/node_modules/@sqs/fields/lib/index.js");var A=s(r("./common/temp/node_modules/@sqs/core-components/fields/RichTextEditor.js"));var m=r("./common/temp/node_modules/@sqs/core-components/components/Rte.js");var d=r("./src/main/webapp/universal/src/shared/i18n/index.ts");var g=r("./src/main/webapp/universal/src/shared/constants/TextEditor.js");var w=r("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),true).forEach(function(e){(0,p.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(a){var n=v();return function e(){var t=(0,c.default)(a),r;if(n){var s=(0,c.default)(this).constructor;r=Reflect.construct(t,arguments,s)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var b=5e5;var C=function(e){(0,l.default)(a,e);var s=h(a);function a(){var o;(0,n.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=s.call.apply(s,[this].concat(t));(0,p.default)((0,i.default)(o),"domParser",new DOMParser);(0,p.default)((0,i.default)(o),"stopPropagation",function(e){e.stopPropagation()});(0,p.default)((0,i.default)(o),"handleChange",function(e){var t=o.props,r=t.onChange,s=t.isNullable;var a=e;if(s)try{var n=o.domParser.parseFromString(e,"text/html");n.body.innerText||(a=null)}catch(e){}return r(a)});return o}(0,o.default)(a,[{key:"render",value:function e(){var t=this.props,r=t.className,s=t.color,a=t.decodeHTMLEntities,n=t.errorMessage,o=t.flush,i=t.label,l=t.height,u=t.placeholder,c=t.preserveWhitespace,p=t.showSeparator,m=t.tabIndex,d=t.toolbarOptions,f=t.itemEditorZIndex,h=t.type,v=t.value;var b=g.Schemas[h];"boolean"===typeof c&&(b=O({},b,{preserveWhitespace:[c]}));return y.default.createElement(j.FieldWrapper,{errorMessage:n},y.default.createElement(A.default,{className:r,color:s,decodeHTMLEntities:a,fieldIndex:m,label:i,flush:o,height:l,onChange:this.handleChange,onMouseDown:this.stopPropagation,onPointerDown:this.stopPropagation,onClick:this.stopPropagation,pasteAsPlainText:false,placeholder:u,schemaConfig:b,showSeparator:p,toolbarOptions:d,toolbarClassName:w.LayoutEngineClassnames.NONINTERACTIVE_CLASSNAME,itemEditorZIndex:f,value:v,itemConfigEditorProps:{onClick:this.stopPropagation,className:w.LayoutEngineClassnames.NONINTERACTIVE_CLASSNAME,modalClassName:w.LayoutEngineClassnames.NONINTERACTIVE_CLASSNAME,pageDropdownClassName:w.LayoutEngineClassnames.NONINTERACTIVE_CLASSNAME}}))}}]);return a}(y.default.Component);(0,p.default)(C,"propTypes",{className:a.default.string,color:a.default.string,decodeHTMLEntities:a.default.bool,isNullable:a.default.bool,itemEditorZIndex:a.default.number,flush:a.default.bool,onChange:a.default.func.isRequired,placeholder:a.default.string,preserveWhitespace:a.default.bool,showSeparator:a.default.bool,type:a.default.oneOf(Object.values(g.SchemaTypes)),toolbarOptions:a.default.array,value:a.default.oneOfType([a.default.string,a.default.object])});(0,p.default)(C,"defaultProps",{color:"dark",flush:true,itemEditorZIndex:b,placeholder:(0,d.t)("Write here…"),showSeparator:true,toolbarOptions:m.DEFAULT_TOOLBAR_TYPES.SIMPLE,type:g.Schemas[g.SchemaTypes.SIMPLE]});var S=C;t.default=S;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return a.default}});var a=s(r("./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js"));e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js":function(e,t,r){"use strict";e.exports=function e(t){var r=/^(https?:)(\/\/)[a-zA-Z0-9][a-zA-Z0-9_\-\.]*\.[a-zA-Z]{2,24}(\/\S*)?$/i;return t.search(r)>-1}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/44-9ee1ac3f7c34e83dfd591-min.en-US.js.map