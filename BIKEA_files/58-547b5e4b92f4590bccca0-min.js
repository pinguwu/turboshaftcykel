(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[58],{"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useTrackView.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var i=a("./common/temp/node_modules/react/index.js");var n=function e(t){var a=(0,i.useState)(false),s=(0,o.default)(a,2),n=s[0],r=s[1];(0,i.useEffect)(function(){if(n)return;t();r(true)},[t,n])};t.default=n;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(n){var r=d();return function e(){var t=(0,p.default)(n),a;if(r){var s=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var n=a("./common/temp/node_modules/prop-types/index.js");var f=a("./common/temp/node_modules/react/index.js");var v=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.less");var h=function e(t){var a=document.createElement("DIV");a.innerHTML=t;return a.textContent||a.innerText||""};var b=function(e){(0,c.default)(n,e);var s=m(n);function n(){var r;(0,o.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];r=s.call.apply(s,[this].concat(t));(0,u.default)((0,i.default)(r),"handleClick",function(){var e=r.props,t=e.id,a=e.title,s=e.url,n=e.onRead;n(t,a,s)});(0,u.default)((0,i.default)(r),"handleDismiss",function(e){e.preventDefault();e.stopPropagation();var t=r.props,a=t.id,s=t.title,n=t.onDismiss;n(a,s)});return r}(0,r.default)(n,[{key:"render",value:function e(){var t=this.props,a=t.title,s=t.excerpt;return f.createElement("div",{className:v.container,onClick:this.handleClick},f.createElement("div",{className:v.clearButton,onClick:this.handleDismiss},"×"),f.createElement("div",{className:v.title},a),f.createElement("div",null,h(s)))}}]);return n}(f.Component);(0,u.default)(b,"propTypes",{id:n.string.isRequired,title:n.string,excerpt:n.string,url:n.string,onRead:n.func,onDismiss:n.func});e.exports=b},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.less":function(e,t,a){e.exports={container:"_1-U53n1Lr",title:"_3C1eoA0CT",clearButton:"_1cZcmBWUh"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(n){var r=u();return function e(){var t=(0,c.default)(n),a;if(r){var s=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return(0,i.default)(this,a)}}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var m=a("./common/temp/node_modules/prop-types/index.js");var d=a("./common/temp/node_modules/react/index.js");var f=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.jsx");var v=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var h=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),b=h.Modal;var g=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.less");var A=b.Dialog.Trigger;var j=function(e){(0,o.default)(a,e);var t=p(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,r.default)(a,[{key:"componentDidMount",value:function e(){0===this.props.notifications.length&&v.load()}},{key:"render",value:function e(){var s=this;var t=this.props,n=t.authenticatedAccount,r=t.notifications;return r&&0!==r.length&&d.createElement(A,{className:g.triggerContainer,component:function e(t,a){return d.createElement(f,{isOpen:t,onRequestClose:a,anchor:s.refs.badge,notifications:r,authenticatedAccount:n})}},d.createElement("div",{className:g.badgeWrapper,ref:"badge"},d.createElement("span",{className:g.badgeText},r.length),d.createElement("div",{"data-test":"NotificationsBadge-badge",className:g.badge})))}}]);return a}(d.Component);(0,l.default)(j,"propTypes",{authenticatedAccount:m.object,notifications:m.array});(0,l.default)(j,"defaultProps",{notifications:[]});e.exports=j},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.less":function(e,t,a){e.exports={triggerContainer:"xql3CVCsh",badge:"_2WbKPx0Ce",badgeWrapper:"GXaVvTMV7",badgeText:"_3npzCJQXQ"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(n){var r=f();return function e(){var t=(0,u.default)(n),a;if(r){var s=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var n=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var r=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),h=r.Modal;var b=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.jsx");var g=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var A=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.less");var j=a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts");var R=function e(t,a,s){j(t,{itemId:a,itemTitle:s})};var w=function(e){(0,l.default)(r,e);var n=d(r);function r(){var t;(0,o.default)(this,r);for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];t=n.call.apply(n,[this].concat(a));(0,m.default)((0,c.default)(t),"handleNotificationRead",function(e,t,a){g.read(e);R("engagement_notifications_item_open",e,t);window.open(a)});(0,m.default)((0,c.default)(t),"dismissNotification",function(e,t){g.read(e);R("engagement_notifications_item_clear",e,t)});(0,m.default)((0,c.default)(t),"handleDismissAll",function(){t.props.notifications.forEach(function(e){t.dismissNotification(e.id,e.title)})});return t}(0,i.default)(r,[{key:"render",value:function e(){var r=this;var t=this.props,a=t.isOpen,s=t.onRequestClose,n=t.anchor,o=t.notifications;return v.createElement(h,{isOpen:o&&0!==o.length&&a,onRequestClose:s,anchor:n,position:"right",width:"360px",className:A.notifications,overlayClassName:A.overlay},v.createElement(h.Header,{className:A.header},"Squarespace updates",v.createElement("span",{className:A.dismissAll,onClick:this.handleDismissAll},"Clear all")),v.createElement(h.Body,{className:A.body},o.map(function(e){var t=e.id,a=e.title,s=e.body,n=e.readMeUrl;return v.createElement(b,{key:t,id:t,title:a,excerpt:s,url:n,onRead:r.handleNotificationRead,onDismiss:r.dismissNotification})})))}}]);return r}(v.Component);(0,m.default)(w,"propTypes",{isOpen:n.bool,onRequestClose:n.func,anchor:n.instanceOf(Node),notifications:n.array});e.exports=w},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.less":function(e,t,a){e.exports={overlay:"_1vNrFlBX5",notifications:"_2deQe7WCw",header:"_2DDxsvRn5",body:"_1Zc7L41o8",dismissAll:"AdSXVqz9H"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/utils/SquarespaceNewsAPI.js");var c=function(){function e(){(0,n.default)(this,e);this.generateActions("loadSuccess","loadFailure","readSuccess","readFailure")}(0,r.default)(e,[{key:"load",value:function e(){var t=this;return i.fetch().then(function(e){t.loadSuccess(e.data.results)},this.loadFailure)}},{key:"read",value:function e(t){var a=this;return i.delete(t).then(function(){a.readSuccess(t)},this.readFailure)}}]);return e}();e.exports=o.createActions(c)},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var n=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/stores/NotificationsStore.js");var r=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.jsx");var o=s({getStores:function e(){return[n]},getPropsFromStores:function e(){var t=n.getNotifications();if(!t)return{};return{notifications:t}}},r);e.exports=o},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/stores/NotificationsStore.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var c=function(){function e(){(0,n.default)(this,e);this.state={notifications:null};this.bindActions(i);this.exportPublicMethods({getNotifications:this.getNotifications})}(0,r.default)(e,[{key:"onLoadSuccess",value:function e(t){this.setState({notifications:t})}},{key:"onReadSuccess",value:function e(t){this.setState({notifications:this.state.notifications.filter(function(e){return e.id!==t})})}},{key:"getNotifications",value:function e(){if(!this.state.notifications)return null;return this.state.notifications.slice(0,3)}}]);return e}();e.exports=o.createStore(c,"NotificationsStore")},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/utils/SquarespaceNewsAPI.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var n="/api/squarespace-news";var r={fetch:function e(){return s.get(n)},delete:function e(t){return s.delete(n+"/"+t)}};e.exports=r},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=s(a("./common/temp/node_modules/react/index.js"));var f=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js"));var v=s(a("./common/temp/node_modules/@sqs/cookie-cutter/index.js"));var n=s(a("./src/main/webapp/frontend/packages/enums/CollectionTypes.js"));var r=s(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var h=s(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/index.ts"));var b=s(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/index.js"));var g=s(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/index.js"));var A=s(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.less"));var j=s(a("./src/main/webapp/universal/src/shared/utils/LogoutAPI.js"));var R=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var w=s(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var C=s(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var _=s(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/components/ProductCollectionMigrationCard.js"));function y(n){var r=x();return function e(){var t=(0,u.default)(n),a;if(r){var s=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var N="commerce_pc2_migration_prompt_dismissed";var E=function e(){return w.default.isSevenOne()&&C.default.getCollectionsOfType(n.default.PRODUCTS).length>0&&R.legacyV6Flags.isFeatureEnabled(r.default.NESTED_CATEGORIES_MIGRATION_ENABLED)&&!R.legacyV6Flags.isFeatureEnabled(r.default.NESTED_CATEGORIES_MIGRATION_LOCK)&&!R.legacyV6Flags.isFeatureEnabled(r.default.NESTED_CATEGORIES)&&"true"!==v.default.get(N)};var S=function(e){(0,l.default)(r,e);var n=y(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];e=n.call.apply(n,[this].concat(a));(0,m.default)((0,c.default)(e),"state",{hasJustDismissedPrompt:false});(0,m.default)((0,c.default)(e),"handleDismissCard",function(){v.default.set(N,"true");e.setState({hasJustDismissedPrompt:true})});(0,m.default)((0,c.default)(e),"onSignOutClicked",function(){return j.default.logout().then(function(){return window.location.reload()})});return e}(0,i.default)(r,[{key:"render",value:function e(){var t=this.props.className;var a="DEVELOPMENT"===window.Static.SQUARESPACE_CONTEXT.env;return d.default.createElement("div",null,E()&&d.default.createElement(_.default,{handleDismissCard:this.handleDismissCard}),d.default.createElement("div",{className:(0,f.default)(A.default.container,t)},a?d.default.createElement(g.default,{onLogout:this.onSignOutClicked}):d.default.createElement(h.default,null),d.default.createElement(b.default,null)))}}]);return r}(d.default.Component);e.exports=S},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.less":function(e,t,a){e.exports={container:"aHutc6ylT"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var f=s(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function u(n){var r=m();return function e(){var t=(0,l.default)(n),a;if(r){var s=(0,l.default)(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var n=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx");var b=a("./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.jsx");var d=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),g=d.Modal;var A=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js");var j=a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx");var R=a("./src/main/webapp/frontend/packages/enums/WebsiteType.js");var w=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.less");var C=g.Dialog.Trigger;var _=function(e){(0,i.default)(n,e);var s=u(n);function n(){var d;(0,r.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];d=s.call.apply(s,[this].concat(t));(0,p.default)((0,f.default)(d),"renderTriggeredAccountModal",function(){return d.renderTrigger(d.renderAccountModal)});(0,p.default)((0,f.default)(d),"renderProfileAvatar",function(){var e=d.props,t=e.initials,a=e.displayName,s=e.avatarAssetUrl;return v.createElement(h,{initials:t,displayName:a,avatarUrl:s})});(0,p.default)((0,f.default)(d),"renderTrigger",function(s){return v.createElement(C,{startOpen:false,component:function e(t,a){return s(t,a)}},d.renderProfileAvatar())});(0,p.default)((0,f.default)(d),"renderAccountModal",function(e,t){var a=d.props,s=a.appDomain,n=a.memberAccountId,r=a.avatarAssetUrl,o=a.currentWebsiteIdentifier,i=a.displayName,c=a.isCircle,l=a.hasItemsLoaded,p=a.items,u=a.onLogout,m=a.initials;return v.createElement(b,{anchor:(0,f.default)(d),currentWebsiteIdentifier:o,onRequestClose:t,hasItemsLoaded:l,isOpen:e,items:p,memberAccountId:n,name:i,isCircle:c,avatarAssetUrl:r,onLogout:u,appDomain:s,addIndicator:true,initials:m})});return d}(0,o.default)(n,[{key:"componentDidMount",value:function e(){0===this.props.items.length&&A.load.defer()}},{key:"render",value:function e(){var t=this.props,a=t.displayName,s=t.isCircle;return v.createElement("div",null,v.createElement("div",{className:w.wrapper},this.renderTriggeredAccountModal()),v.createElement("div",{className:w.name},s&&v.createElement(j,{className:w.circle}),a))}}]);return n}(v.Component);(0,p.default)(_,"propTypes",{memberAccountId:n.string,avatarAssetUrl:n.string,displayName:n.string,initials:n.string.isRequired,isCircle:n.bool,onLogout:n.func,currentWebsiteIdentifier:n.string,currentWebsiteType:n.oneOf(Object.values(R)),appDomain:n.string,items:n.array,hasItemsLoaded:n.bool});(0,p.default)(_,"defaultProps",{items:[]});e.exports=_},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.less":function(e,t,a){e.exports={wrapper:"_1KwBtc09t",name:"_2lNn5VvJl",circle:"_34rFiT2-K"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var v=a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSummariesStore.js");var n=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js"),b=n.getAppDomain;var g=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js");var A=a("./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js");var r=a("./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts"),j=r.getBadgeDisplayName,R=r.getInitials;var o=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.jsx");var i=s({getStores:function e(){return[v,g,h]},getPropsFromStores:function e(){var t=v.getState().toJS(),a=t.avatarAssetUrl,s=t.displayName,n=t.guilds,r=t.email,o=t.id,i=t.firstName,c=t.lastName;var l=g.getState();var p=l.get("identifier");var u=l.get("websiteType");var m=b();var d=h.getWebsiteSummaries();var f=n&&n[A.CIRCLE_USER];return{avatarAssetUrl:a,memberAccountId:o,displayName:j(s),initials:R(i,c,r),isCircle:f,email:r,currentWebsiteIdentifier:p,currentWebsiteType:u,appDomain:m,items:d,hasItemsLoaded:!!d}}},o);e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/components/ProductCollectionMigrationCard.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var n=s(a("./common/temp/node_modules/react/index.js"));var r=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var o=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var i=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var c=s(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var p=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackNestedCategory.ts");var u=s(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useTrackView.js"));var m=function e(t){var a=t.handleDismissCard;(0,u.default)(p.trackUserViewsNestedCategoriesCard);return n.default.createElement(o.Card,{elevation:0,mt:4},n.default.createElement(o.Card.Body,null,n.default.createElement(i.Flex,{justifyContent:"space-between"},n.default.createElement(i.Text.Subtitle,{my:0},(0,l.t)("We’ve Improved Products")),n.default.createElement(i.Touchable,{onClick:function e(){(0,p.trackUserClosesNestedCategoriesCard)();a()}},n.default.createElement(r.CrossLarge,null))),n.default.createElement(i.Text.Body,{color:"gray.400"},(0,l.t)("Upgrade your product pages with powerful categories, better SEO, and much more.")),n.default.createElement(i.Button.Tertiary,{onClick:function e(){(0,p.trackUserClicksNestedCategoriesCard)();c.default.openNestedCategoriesMigrationModal()}},(0,l.t)("Start upgrade"))))};var d=m;t.default=d;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/index.jsx":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.jsx");e.exports=s},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.less":function(e,t,a){e.exports={avatar:"_1Py9ebdNF",circle:"_1EMuyD8de"}},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.tsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=s(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var m=s(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));a("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var n=s(a("./common/temp/node_modules/prop-types/index.js"));var d=s(a("./common/temp/node_modules/react/index.js"));var r=s(a("./src/main/webapp/frontend/packages/enums/StatusConstants.js"));var o=s(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var f=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var v=s(a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx"));var h=s(a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx"));var b=s(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.less"));var g=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var i=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");function A(){var e=window.Static.SQUARESPACE_CONTEXT,t=e.impersonatedSession,a=e.website;if(t)return true;if(a.siteStatus.value===r.default.INTERNAL&&!i.legacyV6Flags.isFeatureEnabled(o.default.REVEAL_USER_INFORMATION))return true;return false}function c(e){var t=e.onAvatarClick,a=e.avatarAssetUrl,s=e.displayName,n=e.isCircle,r=e.initials,o=e.email,i=(0,m.default)(e,["onAvatarClick","avatarAssetUrl","displayName","isCircle","initials","email"]);var c=o;var l=s;if(A()){c="support@squarespace.com";l=(0,g.t)("Squarespace Support")}var p=function e(t){return d.default.createElement(f.Text.Body,(0,u.default)({my:0,fontSize:2,lineHeight:1,overflow:"hidden",sx:{textOverflow:"ellipsis"}},t))};return d.default.createElement(f.Flex,(0,u.default)({alignItems:"center"},i),d.default.createElement(f.Box,{mr:3,position:"relative"},d.default.createElement(v.default,{className:b.default.avatar,initials:r,avatarUrl:a,onClick:t}),n&&d.default.createElement(h.default,{className:b.default.circle})),d.default.createElement(f.Touchable,{onClick:t,interaction:f.Touchable.WithoutFeedback},d.default.createElement(f.Flex,{flexDirection:"column",alignItems:"flex-start",overflow:"hidden",sx:{whiteSpace:"nowrap"}},d.default.createElement(p,{fontWeight:"medium"},l),d.default.createElement(p,{fontWeight:"book",color:"gray.300"},c))))}c.propTypes={onAvatarClick:n.default.func,displayName:n.default.string.isRequired,initials:n.default.string,email:n.default.string,isCircle:n.default.bool,avatarAssetUrl:n.default.string};var l=c;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/index.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/react/index.js"));var r=s(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var o=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var i=a("./src/main/webapp/frontend/packages/universal-state/universal-state/lib/index.js");var c=s(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var l=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var p=s(a("./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js"));var u=a("./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts");var m=s(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.tsx"));var d=function e(){window.location.href=u.accountDashboardUrl};var f=function e(t){var a=t.displayName,s=t.guilds,n=t.firstName,r=t.lastName,o=t.email,i=t.avatarAssetUrl;var c=s&&s[p.default.CIRCLE_USER];return{displayName:(0,u.getBadgeDisplayName)(a),initials:(0,u.getInitials)(n,r,o),isCircle:c,avatarAssetUrl:i,onAvatarClick:d,email:o}};var v=(0,c.default)({getStores:function e(){return[l.default]},getPropsFromStores:function e(){return f(l.default.getState().toJS())}},m.default);var h=(0,i.connect)(function(e){var t=e.state;var a=i.selectors.authenticatedAccount.selectAuthenticatedAccount(t);return a?f(a):{}})(m.default);var b=function e(t){var a=o.legacyV6Flags.isFeatureEnabled(r.default.APPSHELL)?h:v;return n.default.createElement(a,t)};t.default=b;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(n){var r=d();return function e(){var t=(0,p.default)(n),a;if(r){var s=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,s)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}a("./src/main/webapp/universal/src/shared/i18n/configurations/universal-ui.js");var n=a("./common/temp/node_modules/prop-types/index.js");var A=a("./common/temp/node_modules/react/index.js");var f=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),j=f.t;var v=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),R=v.T;var w=a("./src/main/webapp/universal/src/shared/stores/AccessPermissionStore.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js");var C=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx");var _=a("./src/main/webapp/universal/src/shared/components/WebsiteList/index.jsx");var b=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),g=b.Alert,y=b.Confirmation,x=b.Modal;var N=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/index.jsx");var E=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),S=E.Search;var k=a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx");var I=a("./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.less");var D=function(e){(0,i.default)(n,e);var s=m(n);function n(){var i;(0,r.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=s.call.apply(s,[this].concat(t));(0,u.default)((0,c.default)(i),"state",{searchString:"",filteredItems:i.props.items||[]});(0,u.default)((0,c.default)(i),"getOnItemSelect",function(){var e=i.props.onItemSelect;if(e)return e;return i.handleSelect});(0,u.default)((0,c.default)(i),"doSearch",function(e){i.setState({searchString:e});h.filter(e)});(0,u.default)((0,c.default)(i),"handleSelect",function(e,t){if(t){var a=i.props.onRequestClose;a&&a();return}window.open("https://".concat(e.identifier,".").concat(i.props.appDomain,"/config"),"_blank")});(0,u.default)((0,c.default)(i),"handleDelete",function(e){i.setState({isConfirmationOpen:true,itemInDeletion:e})});(0,u.default)((0,c.default)(i),"onDeleteConfirm",function(){var e=i.state.itemInDeletion;h.delete(e.id);i.setState({isConfirmationOpen:false,itemInDeletion:null})});(0,u.default)((0,c.default)(i),"onDeleteCancel",function(){i.setState({isConfirmationOpen:false,itemInDeletion:null})});(0,u.default)((0,c.default)(i),"handleRemoveAccess",function(e){i.setState({isConfirmationOpen:true,itemInAccessRemoval:e})});(0,u.default)((0,c.default)(i),"onRemoveAccessConfirm",function(){var e=i.state.itemInAccessRemoval;h.removeAccess(e.id);i.setState({isConfirmationOpen:false,itemInAccessRemoval:null})});(0,u.default)((0,c.default)(i),"onRemoveAccessCancel",function(){i.setState({isConfirmationOpen:false,itemInAccessRemoval:null})});(0,u.default)((0,c.default)(i),"onCreateSite",function(){var e=i.props,t=e.currentWebsiteIdentifier,a=e.appDomain;window.open("https://www.".concat(a,"/websites?source=").concat(t,"&channel=account-picker"))});(0,u.default)((0,c.default)(i),"onGoToAdmin",function(){var e=i.props,t=e.currentWebsiteIdentifier,a=e.appDomain;var s=(true,"customersupport");window.open("https://".concat(s,".").concat(a,"/squarespace-admin/support/site/").concat(t))});(0,u.default)((0,c.default)(i),"renderConfirmation",function(){var e=i.state,t=e.itemInAccessRemoval,a=e.itemInDeletion,s=e.isConfirmationOpen;if(!t&&!a)return false;if(t)return A.createElement(y,{isOpen:s,title:j("Remove Site Access"),onConfirm:i.onRemoveAccessConfirm,onCancel:i.onRemoveAccessCancel},A.createElement(R,{project:"apps.App"},"Are you sure you want to remove yourself from this site? Please note that the site owner and other site administrators will continue to have access to the site."));if(a)return A.createElement(g,{isOpen:s,title:j("Deactivate Site"),dismissText:j("Okay!"),onDismiss:i.onDeleteCancel},A.createElement(R,{siteManagerLink:A.createElement("a",{target:"_blank",href:"".concat(a.url,"/config/settings/billing/billing")},A.createElement(R,{project:"apps.App"},"site manager")),project:"apps.App"},"Please delete this site via the {siteManagerLink}."));return null});(0,u.default)((0,c.default)(i),"renderAlert",function(){var e=i.state,t=e.removeAccessFailure,a=e.deleteFailure,s=e.errorMessage,n=e.isAlertOpen;if(!t&&!a)return false;var r="";var o="";if(a){r=j("Error Removing Site");o=s||j("Failed to remove site")}else if(t){r=j("Error Removing Access");o=s||j("There was an error removing access")}return A.createElement(g,{isOpen:n,onDismiss:i.onAlertDismiss,title:r},o)});return i}(0,o.default)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var a=t.isOpen,s=t.items;this.setState({filteredItems:s||[]})}},{key:"render",value:function e(){var t=this.props,a=t.memberAccountId,s=t.name,n=t.isCircle,r=t.avatarAssetUrl,o=t.onRequestClose,i=t.onLogout,c=t.isOpen,l=t.hasItemsLoaded,p=t.currentWebsiteIdentifier,u=t.onItemSelect,m=t.addIndicator,d=t.appDomain,f=t.initials;var v=this.state,h=v.searchString,b=v.filteredItems;var g=m&&{label:j("Create new site"),onClick:this.onCreateSite};return A.createElement(x,{anchor:"window",isOpen:c,width:"100%",height:"100%",className:I.modal,overlayClassName:I.overlay,onRequestClose:o},A.createElement(x.Header,{className:I.header},A.createElement("div",{className:I.profile},A.createElement("div",{className:I.profileWrapper},A.createElement(C,{className:I.avatar,initials:f,avatarUrl:r}),A.createElement("div",{className:I.right},A.createElement("div",{className:I.profileInfo},A.createElement("span",{className:I.name},s)),A.createElement("div",{className:I.actionsContainer},n&&A.createElement(k,{className:I.circle}),w.isAdmin()&&A.createElement("div",{className:I.admin},A.createElement("div",{onClick:this.onGoToAdmin},A.createElement("a",null,A.createElement(R,{project:"apps.App"},"Admin"))),A.createElement("span",null,"      ")),A.createElement("div",{className:I.editProfile},A.createElement(N,{authorId:a,currentUserId:a})),A.createElement("span",null,"      "),A.createElement("div",{className:I.logout,onClick:i},A.createElement("a",null,A.createElement(R,{project:"apps.App"},"Logout"))))))),A.createElement("div",{className:I.search},A.createElement(S,{onChange:this.doSearch,value:h,placeholder:j("Search sites and domains")})),A.createElement("div",{className:I.closeWrapper},A.createElement("div",{className:I.closeButton,onClick:o}))),A.createElement(x.Body,{className:I.body,ref:"modalBody"},l&&A.createElement(_,{memberAccountId:a,items:b,deleteEnabled:true,onItemSelect:u||this.handleSelect,onItemDelete:this.handleDelete,onItemRemoveAccess:this.handleRemoveAccess,currentWebsiteIdentifier:p,appDomain:d,addIndicator:g}),this.renderConfirmation(),this.renderAlert()))}}]);return n}(A.Component);(0,u.default)(D,"propTypes",{isOpen:n.bool,onRequestClose:n.func,onLogout:n.func,memberAccountId:n.string.isRequired,name:n.string.isRequired,isCircle:n.bool,avatarAssetUrl:n.string,currentWebsiteIdentifier:n.string,items:n.array,hasItemsLoaded:n.bool,onItemSelect:n.func,appDomain:n.string,addIndicator:n.bool,initials:n.string.isRequired});e.exports=D},"./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.less":function(e,t,a){e.exports={overlay:"gBYHhWbU1 _3u3btOYts",modal:"_3PxRMAcV8 _2okmevp30 _2LEquKnlw",profile:"_8GT9zfzAn",search:"_4KnReK75l",header:"_1ZlRKQmDj",body:"f3BUKo43g",profileWrapper:"_1SWniuVRM",avatar:"_1l1uiah4x",right:"IMjsdgu8Z",profileInfo:"_38w1O0udV",name:"_6FPe1KCdP",email:"_3G1rF2PnX",actionsContainer:"_17I2Vnhdy",circle:"nISHayogB",admin:"_1fxem2fXW",editProfile:"_39doMl-CZ",logout:"_14ajYFm29",closeWrapper:"_1PCe3FzT_ _2wtdksUF_",closeButton:"_3Ehy7xFq- BD1LsT2UH _3iHX5Q9Ip"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var c=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/classnames/index.js");var n=a("./common/temp/node_modules/prop-types/index.js");var l=a("./common/temp/node_modules/react/index.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.less");function r(e){var t=e.initials,a=e.avatarUrl,s=e.className,n=e.onClick;var r=null;a&&(r={backgroundImage:"url(".concat(a,")")});var o=c(p.container,s,(0,i.default)({},p.clickable,n));return l.createElement("div",{className:o,style:r,onClick:n},!a&&t)}r.propTypes={initials:n.string.isRequired,avatarUrl:n.string,className:n.string,onClick:n.func};e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.less":function(e,t,a){e.exports={container:"OoMLJyFwI",clickable:"_2ldL_Z0k9"}},"./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getInitials=t.getBadgeDisplayName=t.accountDashboardUrl=void 0;var s=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js");var n=function e(){var t=(0,s.getAppDomain)();return"https://account.".concat(t)};var r=n();t.accountDashboardUrl=r;var o=function e(t){var a;if((null===(a=t)||void 0===a?void 0:a.length)>1&&"Your Name"!==t){var s=t.split(" ");var n=s[1]?" "+s[1]:"";t=s[0]+n}return t};t.getBadgeDisplayName=o;var i=function e(t,a,s){var n="";t&&(n+=t[0]);a&&(n+=a[0]);!n&&s&&(n=s[0]);return n};t.getInitials=i}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/58-d4b413f144bd0b02bd99d-min.en-US.js.map